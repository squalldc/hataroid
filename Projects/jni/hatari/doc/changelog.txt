2013-06-24 : *** Version 1.7.0 ***

2013-06-24  Nicolas Pomarede

	* doc/doxygen/Doxyfile, doc/emutos.txt, doc/release-notes.txt,
	doc/todo.txt, hatari.spec, readme.txt, src/gui-
	osx/English.lproj/InfoPlist.strings, src/gui-
	osx/French.lproj/InfoPlist.strings, src/gui-osx/Info-Hatari.plist,
	src/includes/version.h, src/memorySnapShot.c:
	New release 1.7.0, increase version in corresponding files
	[63c1d7c59d25] [tip]

	* src/gui-osx/English.lproj/AideHatari/compatibility.html, src/gui-
	osx/English.lproj/AideHatari/manual.html, src/gui-
	osx/French.lproj/AideHatari/compatibility.html, src/gui-
	osx/French.lproj/AideHatari/manual.html:
	Update help files in OSX build
	[9211d018684e]

2013-06-24  Eero Tamminen

	* doc/compatibility.html:
	1.6.2+ -> 1.7
	[88c0f2ef958a]

	* readme.txt:
	update readme version to 1.7 + add note about cmake
	[0d1e4d663d5f]

	* doc/manual.html:
	fix typo in manual and add space after "NOTE:"
	[b8286828eea5]

2013-06-23  Nicolas Pomarede

	* doc/manual.html:
	Remove extra </a> tag
	[b821841c45c6]

	* src/gui-osx/English.lproj/SDLMain.nib/designable.nib, src/gui-
	osx/English.lproj/SDLMain.nib/keyedobjects.nib, src/gui-
	osx/English.lproj/SDLMain.xib, src/gui-
	osx/French.lproj/SDLMain.nib/designable.nib, src/gui-
	osx/French.lproj/SDLMain.nib/keyedobjects.nib:
	Update xib/nib files for OSX
	[ab91ed70e773]

2013-06-22  Nicolas Pomarede

	* src/cpu/compat.h, src/cpu/newcpu.c:
	Don't define variables in .h files for WinUAE cpu core Variables
	should be defined only in .c, not in common .h files, else linker
	will complain about multiple definitions of the same variable.
	[3188b6c70ae4]

2013-06-21  Nicolas Pomarede

	* src/gui-osx/Hatari Help Folder/.DS_Store, src/gui-osx/Hatari Help
	Folder/clavier-exemple.txt, src/gui-osx/Hatari Help
	Folder/compatibility.html, src/gui-osx/Hatari Help
	Folder/images/devices.png, src/gui-osx/Hatari Help
	Folder/images/fileselector.png, src/gui-osx/Hatari Help
	Folder/images/floppydisks.png, src/gui-osx/Hatari Help
	Folder/images/harddisks.png, src/gui-osx/Hatari Help
	Folder/images/joystick.png, src/gui-osx/Hatari Help
	Folder/images/keyboard.png, src/gui-osx/Hatari Help
	Folder/images/main.png, src/gui-osx/Hatari Help
	Folder/images/memory.png, src/gui-osx/Hatari Help
	Folder/images/monitor.png, src/gui-osx/Hatari Help
	Folder/images/newfloppy.png, src/gui-osx/Hatari Help
	Folder/images/screen.png, src/gui-osx/Hatari Help
	Folder/images/sound.png, src/gui-osx/Hatari Help
	Folder/images/system.png, src/gui-osx/Hatari Help
	Folder/images/tos.png, src/gui-osx/Hatari Help Folder/manual.html:
	Remove unneeded OSX directory
	[2f16dc981108]

2013-06-20  Nicolas Pomarede

	* doc/compatibility.html, doc/manual.html:
	Remove link to W3 validator in html files
	[abc96cb92103]

	* src/gemdos.c:
	Change conflicting variable's name for mingw When compiling the
	Windows version with mingw, 'environ' is already used as a variable,
	which causes an error : /usr/i586-pc-mingw32/sys-
	root/mingw/include/stdlib.h:149: note: previous declaration of
	'__p__environ' was here
	[6711c061eede]

2013-06-19  Nicolas Pomarede

	* src/gui-osx/English.lproj/AideHatari/compatibility.html, src/gui-
	osx/English.lproj/AideHatari/manual.html, src/gui-
	osx/French.lproj/AideHatari/compatibility.html, src/gui-
	osx/French.lproj/AideHatari/manual.html, src/gui-osx/Hatari Help
	Folder/compatibility.html, src/gui-osx/Hatari Help
	Folder/manual.html:
	Update help files in OSX version
	[a1be6a9ceb38]

	* src/gui-osx/English.lproj/AideHatari/.DS_Store, src/gui-
	osx/English.lproj/AideHatari/compatibility.html, src/gui-
	osx/English.lproj/AideHatari/images/callgraph.png, src/gui-
	osx/English.lproj/AideHatari/images/callgraph.svg, src/gui-
	osx/English.lproj/AideHatari/images/devices.png, src/gui-
	osx/English.lproj/AideHatari/images/fileselector.png, src/gui-
	osx/English.lproj/AideHatari/images/floppydisks.png, src/gui-
	osx/English.lproj/AideHatari/images/harddisks.png, src/gui-
	osx/English.lproj/AideHatari/images/joystick.png, src/gui-
	osx/English.lproj/AideHatari/images/kcachegrind.png, src/gui-
	osx/English.lproj/AideHatari/images/keyboard.png, src/gui-
	osx/English.lproj/AideHatari/images/main.png, src/gui-
	osx/English.lproj/AideHatari/images/memory.png, src/gui-
	osx/English.lproj/AideHatari/images/monitor.png, src/gui-
	osx/English.lproj/AideHatari/images/newfloppy.png, src/gui-
	osx/English.lproj/AideHatari/images/screen.png, src/gui-
	osx/English.lproj/AideHatari/images/sound.png, src/gui-
	osx/English.lproj/AideHatari/images/system.png, src/gui-
	osx/English.lproj/AideHatari/images/tos.png, src/gui-
	osx/English.lproj/AideHatari/manual.html, src/gui-
	osx/English.lproj/SDLMain.nib/designable.nib, src/gui-
	osx/English.lproj/SDLMain.nib/keyedobjects.nib, src/gui-
	osx/English.lproj/SDLMain.xib, src/gui-
	osx/French.lproj/AideHatari/.DS_Store, src/gui-
	osx/French.lproj/AideHatari/compatibility.html, src/gui-
	osx/French.lproj/AideHatari/images/callgraph.png, src/gui-
	osx/French.lproj/AideHatari/images/callgraph.svg, src/gui-
	osx/French.lproj/AideHatari/images/devices.png, src/gui-
	osx/French.lproj/AideHatari/images/fileselector.png, src/gui-
	osx/French.lproj/AideHatari/images/floppydisks.png, src/gui-
	osx/French.lproj/AideHatari/images/harddisks.png, src/gui-
	osx/French.lproj/AideHatari/images/joystick.png, src/gui-
	osx/French.lproj/AideHatari/images/kcachegrind.png, src/gui-
	osx/French.lproj/AideHatari/images/keyboard.png, src/gui-
	osx/French.lproj/AideHatari/images/main.png, src/gui-
	osx/French.lproj/AideHatari/images/memory.png, src/gui-
	osx/French.lproj/AideHatari/images/monitor.png, src/gui-
	osx/French.lproj/AideHatari/images/newfloppy.png, src/gui-
	osx/French.lproj/AideHatari/images/screen.png, src/gui-
	osx/French.lproj/AideHatari/images/sound.png, src/gui-
	osx/French.lproj/AideHatari/images/system.png, src/gui-
	osx/French.lproj/AideHatari/images/tos.png, src/gui-
	osx/French.lproj/AideHatari/manual.html, src/gui-
	osx/French.lproj/InfoPlist.strings, src/gui-
	osx/French.lproj/Localizable.strings, src/gui-
	osx/French.lproj/SDLMain.nib/designable.nib, src/gui-
	osx/French.lproj/SDLMain.nib/keyedobjects.nib, src/gui-
	osx/French.lproj/SDLMain.xib, src/gui-osx/Hatari Help
	Folder/.DS_Store, src/gui-osx/Hatari Help Folder/clavier-
	exemple.txt, src/gui-osx/Hatari Help Folder/compatibility.html, src
	/gui-osx/Hatari Help Folder/images/devices.png, src/gui-osx/Hatari
	Help Folder/images/fileselector.png, src/gui-osx/Hatari Help
	Folder/images/floppydisks.png, src/gui-osx/Hatari Help
	Folder/images/harddisks.png, src/gui-osx/Hatari Help
	Folder/images/joystick.png, src/gui-osx/Hatari Help
	Folder/images/keyboard.png, src/gui-osx/Hatari Help
	Folder/images/main.png, src/gui-osx/Hatari Help
	Folder/images/memory.png, src/gui-osx/Hatari Help
	Folder/images/monitor.png, src/gui-osx/Hatari Help
	Folder/images/newfloppy.png, src/gui-osx/Hatari Help
	Folder/images/screen.png, src/gui-osx/Hatari Help
	Folder/images/sound.png, src/gui-osx/Hatari Help
	Folder/images/system.png, src/gui-osx/Hatari Help
	Folder/images/tos.png, src/gui-osx/Hatari Help Folder/manual.html,
	src/gui-osx/Info-Hatari.plist, src/gui-osx/PrefsController.m, src
	/gui-osx/SDLMain.h, src/gui-osx/SDLMain.m, src/gui-osx/disk.icns:
	Update OSX version with latest changes from Jerome Vernet
	[f3c14938bfc6]

	* src/mfp.c:
	MFP's int 0 was not taken into account, which broke printer's output
	[6a1a8966dba0]

	* src/mfp.c:
	Remove old debug printf's
	[48501858737f]

2013-06-18  Nicolas Pomarede

	* doc/compatibility.html, doc/release-notes.txt:
	Add 'Spidertronic' to the fixed games
	[2d1291155ba7]

	* doc/release-notes.txt:
	Update fixed game
	[c2e9be647df9]

2013-06-17  Nicolas Pomarede

	* doc/authors.txt:
	Update contributors' list
	[9253dbabe414]

2013-06-16  Eero Tamminen

	* tools/debugger/hatari_profile.py:
	rename "Calls" heading

	The first column is really about how many times given symbol is
	visited (e.g. by loop that starts from first instruction in a
	routine), it's not about subroutine calls, which can be confusing.

	Hopefully renaming it to "Visits/calls" reminds about this.
	[a261d955c2cd]

	* doc/manual.html:
	usage example on exception debugging + text improvements
	[6edd77f3857b]

	* doc/manual.html, doc/release-notes.txt, src/debug/debugcpu.c,
	src/debug/debugdsp.c, src/debug/debugui.c, src/debug/history.c,
	src/debug/history.h:
	user can specify whether CPU or DSP history is tracked

	On Falcon DSP runs much more instructions than CPU, so history can
	get totally swamped with DSP activity although typically it's CPU
	activity user's interested about.
	[ee9e5e296b63]

2013-06-16  Nicolas Pomarede

	* src/fdc.c:
	Fine tune prepare phase for FDC's type I commands This was measured
	on a 520 STF by doing a 'restore' + 'seek 0'
	[168537a625ed]

2013-06-15  Eero Tamminen

	* tools/debugger/hatari_profile.py:
	profiler postprocessor: fix div by zero when call count = 0
	[01487650e282]

	* doc/release-notes.txt:
	better MIDI error description
	[b4b83168c624]

	* doc/emutos.txt:
	update emutos panic debugging notes
	[19183ab522d6]

2013-06-14  Nicolas Pomarede

	* doc/release-notes.txt:
	Update notes about drives' led color
	[af5517558d48]

	* src/fdc.c, src/gemdos.c, src/hdc.c, src/includes/statusbar.h,
	src/psg.c, src/statusbar.c:
	Use a brighter green for the drive led when the FDC is executing a
	command
	[40b5822ecb5d]

	* src/fdc.c, src/gemdos.c, src/hdc.c, src/includes/statusbar.h,
	src/psg.c, src/statusbar.c:
	Use a brighter green for the drive led when the FDC is executing a
	command
	[cad8414ec370]

2013-06-13  Nicolas Pomarede

	* src/acia.c:
	Remove possible gcc warning about uninitialized variable
	[3d67ed3da52f]

	* src/includes/cfgopts.h, src/includes/configuration.h,
	src/includes/joy.h, src/includes/m68000.h:
	Remove extra ',' at the end of the enum definition (silence compiler
	warnings)
	[3e93cd424b75]

	* src/fdc.c:
	In the FDC's status register, correctly report the state of the
	index pulse signal (fix FLRPMM.PRG by P. Putnik and reports 300 RPM
	for the drive speed)
	[a6a58812be57]

2013-06-12  Nicolas Pomarede

	* src/acia.c:
	ACIA's RTS could be 0 after a master reset, instead of 1 (this is
	harmless, as RTS is not connected on ST anyway)
	[13fc5b1410fc]

	* src/acia.c, src/ikbd.c:
	When the IKBD reset on cold start, don't send bytes until the ACIA's
	serial line is initialized This should fixes problem with EmuTos <
	0.91 where a reset was sometimes needed to move the mouse
	[4e3319ec8aa2]

2013-06-10  Thomas Huth

	* src/dmaSnd.c, src/includes/dmaSnd.h, src/main.c:
	Fixed crash that occured when compiling with ENABLE_SMALL_MEM
	defined. DmaSnd_Init() called DmaSnd_Reset() which in turn accessed
	IoMem before it has been initialized. Since DmaSnd_Reset() is called
	during Reset_ST() anyways, the problem could easily be solved by
	removing DmaSnd_Init() completely.
	[669b0aa4c072]

2013-06-09  Nicolas Pomarede

	* src/acia.c:
	Default IKBD's ACIA to 9600 baud after a reset On real hardware, it
	seems tx/rx are working after a reset, but the ACIA's reference doc
	is not precise on this default behaviour. Some EmuTos versions
	tested on a real ST need this to work under Hatari
	[47e45c9937d3]

	* src/fdc.c:
	typo
	[1fcc83575127]

2013-06-09  Eero Tamminen

	* doc/release-notes.txt, src/options.c:
	Giving empty string as GEMDOS HD dir disables GEMDOS HD emulation
	[127879ca3b0b]

2013-06-09  Thomas Huth

	* src/bios.c, src/falcon/videl.c:
	Silenced compiler warnings that occured when ENABLE_TRACING was not
	defined
	[3262b3f3501a]

	* src/falcon/dsp.c:
	Silenced compiler warnings that occured when ENABLE_DSP_EMU was not
	defined
	[56b84ca73536]

2013-06-03  Eero Tamminen

	* src/debug/debugui.c:
	fix FD leak in debugger script parsing
	[a15b283f83fe]

	* doc/release-notes.txt:
	update release notes
	[28053da8a50c]

	* src/gemdos.c:
	fix args in Mshrink trace message

	- there's reserved zero word before args in C-bindings
	- optimize couple of other memory related trace messages slightly
	[6e11115a6199]

2013-06-02  Eero Tamminen

	* tools/debugger/hatari_profile.py:
	profile post-processor: error -> warning

	this case (caller net being boundable to any symbol) can be valid in
	the very beginning of a program run, not necessarily an error
	[0665979151a5]

2013-06-01  Eero Tamminen

	* src/debug/profilecpu.c:
	fix profiler PC access corner case

	On some rare cases (e.g. Hatari cartridge linea_init jump address)
	PC addresses have extra bits that are masked out when emulation uses
	them. Profiler needs to do same instead of complaining & asserting.
	[693fa4a2a49c]

	* src/gemdos.c:
	show args for rest of non-mint gemdos calls when tracing

	All (3) of these were memory allocation related functions, so now
	it's possible to track memory allocated from TOS.
	[42dfaec46d3f]

	* doc/release-notes.txt:
	update release notes
	[9649f256a4d0]

	* doc/manual.html:
	document "profile stack" subcommand and ":noinit" bt option
	[ac186ce8e3fe]

	* src/debug/breakcond.c, src/debug/debugInfo.c,
	src/debug/debug_priv.h, src/debug/debugui.c, src/debug/debugui.h:
	add "NextPC" variable and bt option that doesn't re-initialize
	debugging on hit

	These are needed for getting useful information from "profile stack"
	command:
	--- outside Hatari --- $ cat > profile-stack.ini << EOF profile stack
	b pc="NextPC" :once :quiet :noinit :file profile-d0.ini EOF $ cat >
	profile-d0.ini << EOF e d0 EOF
	--- in Hatari debugger --- > profile on > symbols prg > b
	GemdosOpcode = 0x3f :quiet :noinit :file profile-stack.ini
	--------------------------

	(shows backtraces to all Fread() calls and their return values.)
	[c8cc6daa7dfc]

	* src/debug/profile.c, src/debug/profile_priv.h,
	src/debug/profilecpu.c, src/debug/profiledsp.c:
	add profile "stack" subcommand

	This is useful for getting backtraces during profiling.
	[916df38ea409]

	* src/change.c, src/midi.c:
	MIDI change triggers emu reset, MIDI IRQ disable if MIDI not enabled

	This will hopefully fix Cubase not working after enabling MIDI
	during run-time.
	[1d25e2cff695]

2013-05-29  Eero Tamminen

	* readme.txt:
	recommend CMake version with which we build Hatari version

	Frank reported that Hatari build doesn't succeed with CMake v2.6,
	but it works with v2.8.
	[98383366f85d]

	* doc/todo.txt:
	add todo note about FPU precision
	[fc0c02a96e62]

2013-05-26  Eero Tamminen

	* src/gemdos.c:
	fix fread return value compiler warning
	[5eb9c15f48a0]

	* tests/debugger/Makefile, tests/debugger/makefile:
	rename makefile
	[2bd1ad275505]

	* src/debug/evaluate.c:
	fix LLVM warning
	[4d5b87077f7f]

2013-05-25  Eero Tamminen

	* doc/manual.html:
	document profile call stack showing and update debugger usage
	examples

	(also use in usage examples section consistently 2 spaces between
	command and its arguments, this will hopefully make examples
	slightly more readable.)
	[19b6b37b01d3]

2013-05-24  Eero Tamminen

	* src/gemdos.c:
	fix matching of host names with multiple '.' within first 8 chars

	When host names are read to DTA, extra dots before last dot are
	converted to "invalid" characters ("@") in str.c. However, when
	matching converted names back to host names, '*' in match glob
	pattern expanded only to first dot.

	Now '*' expansion stops only at last dot.
	[8c5e22f3b42e]

	* src/str.c:
	fix Fsnext() 8+3 GEMDOS name clipping

	This str.c function didn't clip 9+2 file name to 8+2 like is done in
	gemdos.c for other GEMDOS file functions.
	[55cfaac16cc8]

2013-05-21  Eero Tamminen

	* doc/release-notes.txt, src/gemdos.c:
	fix Dfree() success return value
	[3559fb7fb060]

2013-06-09  Nicolas Pomarede

	* src/fdc.c:
	Comment debug printf
	[2ed15aaffcb3]

	* doc/compatibility.html, doc/release-notes.txt:
	Update notes with FDC's changes
	[bc70e24e8098]

	* src/fdc.c:
	Add correct delay for FDC's type I commands when "verify" bit is set
	Although ST/MSA disk images can't have "verify" errors, we still
	need to emulate the delay it would take to settle the head and check
	the next address field, else some FDC commands will run faster than
	expected. (fix STNICCC by Oxygene, which was running slower than on
	real HW)
	[23e482740944]

2013-06-08  Nicolas Pomarede

	* src/fdc.c:
	Improve logs for FDC type I commands
	[33587d9db223]

	* src/fdc.c:
	Add debug printf and alternatives timings in FDC
	[1f1342909218]

2013-05-26  Nicolas Pomarede

	* doc/compatibility.html, doc/release-notes.txt:
	updates notes for mouse issues in Spectrum 512 and The Sentinel
	[9f28de798d0a]

	* src/ikbd.c:
	When mouse is in absolute mode in the IKBD, correctly apply scaling
	factor to deltaX/Y (fix slow mouse in the game 'The Sentinel' and in
	the painting program 'Spectrum 512')
	[a7b1c237cab9]

2013-05-24  Nicolas Pomarede

	* src/fdc.c:
	After reading/writing a sector, we must also transfer 2 CRC bytes
	for better timings
	[72901f621820]

	* src/fdc.c:
	FDC's internal timer was not correct, resulting in slower timings
	DMA transfers were accumulating some extra cycles, taking more than
	the expected 4096 cycles for 16 bytes (~141000 cycles to read a
	sector, instead of 131072)
	[98c3962a4793]

2013-05-21  Nicolas Pomarede

	* src/fdc.c:
	For Read Address and Read Track, correctly returns if no disk is
	inserted
	[a1106f3f4f4c]

	* src/fdc.c:
	For the FDC type III Read Address command, use
	FDC_NextSectorID_NbBytes() to get the correct delay Depending on the
	current position in the track, this will compute the number of bytes
	to skip to reach the next address field while the disk is spinning.
	[4ae931cfe766]

2013-05-20  Nicolas Pomarede

	* src/fdc.c:
	For the FDC type III Read Track command, add a delay to wait for the
	next index pulse
	[a59c49f72f27]

	* src/fdc.c:
	For the WD1772, head settling time is 15 ms, not 30 ms
	[35d01b6e69bb]

	* src/fdc.c:
	Add more traces for FDC's type II/III commands
	[c5f634e0e04b]

	* doc/compatibility.html, doc/release-notes.txt:
	Add notes for Microprose Golf
	[cfbb3c045ac5]

	* src/fdc.c:
	Don't do an extra test after the last DMA transfer with read/write
	sector When the last 16 bytes block was transferred, we didn't
	immediatly check that it was the last one, which added another 4096
	cycles loop before completing the read/write sector command ; the
	command was 3% slower than expected which could mess with some
	programs' timings. (fix crash during Microprose Golf's intro)
	[79be95d1aed8]

	* src/fdc.c:
	In the FDC, take the disk's spin into acccount to compute the
	angular position of a byte in a track Depending on the current
	position above the track and the next position we want to reach, we
	need to add a corresponding delay to skip the bytes inbetwen (for
	example, adding an extra spin if the next sector is not directly
	located after the current sector)
	[bdcbb40ca86f]

2013-05-19  Nicolas Pomarede

	* src/fdc.c:
	For FDC Read / Write Sector commands, add a delay to reach the data
	after the ID field was read With standard formatting, there're 41
	bytes to skip to get the right timings (else we were too fast) (fix
	garbage pixels after the countdown in the Decade Demo Intro)
	[2344225d674f]

	* src/fdc.c:
	Use some constants for the FDC's GAPs used in a track's layout
	[5a0f32b723d9]

2013-05-18  Eero Tamminen

	* tools/debugger/gst2ascii.c:
	Windows doesn't support endian.h either

	(left-over from BIG_ENDIAN tests)
	[fb8cb07bb6d4]

2013-05-16  Nicolas Pomarede

	* doc/compatibility.html:
	Fuzion CD 161's intro doesn't work on a real STF
	[04496807357c]

2013-05-16  Eero Tamminen

	* tools/debugger/gst2ascii.c:
	Windows doesn't support POSIX headers, revert part of previous
	commit

	Add dummy defines for MiNTlib builds instead (all machines on which
	they run, should be big-endian).
	[43cdd6471ec8]

2013-05-16  Nicolas Pomarede

	* src/includes/mfp.h, src/mfp.c:
	Remove old unused test code to improve MFP's interrupt processing
	[032e36117b46]

2013-05-15  Eero Tamminen

	* doc/release-notes.txt, src/debug/debugui.h, src/falcon/dsp_cpu.c:
	Also undefined/illegal DSP instructions & stack under/overflow
	invoke debugger with -D
	[9b76d896bef4]

2013-05-13  Eero Tamminen

	* doc/release-notes.txt, src/gemdos.c:
	if host returns invalid datetime, use default one instead of
	returning GEMDOS error

	- This is Windows specific problem. Its localtime() doesn't support
	all timestamps returned by stat() calls. Error return caused TOS
	to ignore files with such dates, and all the following files (e.g.
	Fsnext()).
	- 1980-01-01 is used as the default date, it's earliest one supported
	by TOS.
	[1a53619931fb]

2013-05-11  Eero Tamminen

	* doc/manual.html:
	improve profiler doc a bit
	[2a1d59da0849]

2013-05-10  Eero Tamminen

	* src/debug/profiledsp.c:
	profiler: one of the DSP JSSET instruction opcodes was incorrect

	Incorrect opcode matched JSET i.e. several things that were marked
	as subroutine calls were actually (conditional) branches.
	[d5ce6fd49b41]

2013-05-08  Nicolas Pomarede

	* src/mfp.c:
	More consistent naming for MFP's vector number
	[51b0f42111bd]

	* src/cpu/newcpu.c, src/includes/video.h, src/uae-cpu/newcpu.c,
	src/video.c:
	Remove old unused code to handle simultaneous HBL exceptions
	[75c38879ba4f]

2013-05-07  Eero Tamminen

	* src/debug/breakcond.c:
	fix: newline missing from breakpoint trace output
	[73176379c2f7]

2013-05-06  Eero Tamminen

	* doc/emutos.txt:
	emutos compat update
	[574114cab1ae]

2013-05-05  Eero Tamminen

	* doc/todo.txt:
	add todo for GST parsing

	(which I may not have time to fix before release)
	[76e50d3a9367]

	* doc/manual.html:
	manual updates

	- update version to 1.7 as manual mentions lot of things not in
	1.6.2 yet
	- add another note for gst2ascii
	- fix HTML validator issues
	[a60c12ea30d3]

	* doc/images/callgraph.png, doc/images/callgraph.svg,
	doc/images/kcachegrind.png, doc/manual.html,
	tools/debugger/hatari_profile.py:
	document callgrind generation + notes on profiler accuracy

	Also:
	- add some example images
	- remove some duplicate info from post-processor usage output
	[bee121a75114]

	* tools/debugger/hatari_profile.py:
	indicate costs with potentially missing symbols, reduce name lenght

	- if inclusive cost is < in-between-symbols cost, there may be
	symbols missing
	- don't give so much space for symbol names. DRI/GST limits name
	len to 22, use something similar
	[4904c232755b]

2013-05-04  Eero Tamminen

	* src/debug/profile.c, src/debug/profilecpu.c:
	fix corner case issue mentioned in previous commit
	[14b4574e222b]

	* tools/debugger/hatari_profile.py:
	fix couple of post-processing corner cases + better messages

	- owncounts can be zero although totalcounts aren't
	- it's easy to get error if symbols don't from some reason match
	(e.g. because you re-compiled binary without re-generating
	symbols), error message now comments about this.
	[12ce06b00b0e]

	* src/debug/profilecpu.c:
	improve debugging of wierd profile PC values

	For some reason profiling (BadMood) CPU & DSP while creating and
	removing breakpoints causes in one case IO address $ffffff accesses.
	They don't happen without profiling&breakpoints. Valgrind, mudflap
	& Duma don't find any problems, so this is still a mystery. :-/
	[fff12307d134]

	* src/debug/profile.c:
	fix CPU profiling corner case assert

	Case was with first (or second?) profiled instruction being tracked
	function entry point, which therefore gets undefined return address.
	Cost finalization at profile end asserts on unrecognized addresses.
	[96d1097307f7]

	* tools/debugger/gst2ascii.c:
	update also gst2ascii message
	[b99a15708773]

	* tools/debugger/gst2ascii.c:
	-o option ignores also useless GCC v2 symbols
	[62cfaa95ec53]

	* tools/debugger/gst2ascii.c:
	use standard C headers & types instead of SDL ones

	This way gst2ascii can be easily built also for Atari with MiNTlib.
	[b2e5f43589d1]

2013-05-03  Eero Tamminen

	* doc/compatibility.html:
	update zero-5 note
	[a28b0fef6beb]

2013-05-03  Nicolas Pomarede

	* doc/release-notes.txt:
	Update releases note for CPU's IACK
	[23d6a98e44fc]

	* src/cpu/hatari-glue.c, src/cpu/newcpu.c, src/includes/m68000.h, src
	/uae-cpu/hatari-glue.c, src/uae-cpu/newcpu.c, src/video.c:
	Handle IACK for simultaneous HBL/VBL exceptions This removes some
	previous uncomplete/wrong support for this and correctly handles
	Super Monaco GP, Super Hang On, Monster Business, European Demo's
	Intro, BBC Menu 52.
	[bc11f8639f03]

2013-04-30  Nicolas Pomarede

	* src/cpu/newcpu.c, src/includes/m68000.h, src/m68000.c, src/mfp.c,
	src/uae-cpu/newcpu.c:
	Use the more generic variable CPU_IACK instead of MFP_IACK
	[c1ed5f55f85a]

2013-04-28  Nicolas Pomarede

	* src/video.c:
	Change debug printf
	[2fdf9586b877]

2013-04-26  Nicolas Pomarede

	* doc/compatibility.html:
	Update notes for 'Musical Wonders 1990' demo
	[6fd24bc14db5]

	* src/video.c:
	Cancel changes #3902, 'Musical Wonders 1990' doesn't work correctly
	on a real STF
	[a95880358570]

2013-04-24  Nicolas Pomarede

	* src/acia.c, src/cycInt.c, src/includes/acia.h,
	src/includes/cycInt.h:
	Don't use an additional 4 cycle timer in the ACIA, this is now
	automatically handled in mfp.c
	[4c26e8526d44]

	* src/cpu/newcpu.c, src/uae-cpu/newcpu.c:
	Remove old/unused interrupt code
	[16cc224edc98]

2013-04-23  Nicolas Pomarede

	* src/uae-cpu/newcpu.c:
	RTE is $4e73, not $4e72
	[586d90231775]

2013-04-22  Eero Tamminen

	* tools/debugger/hatari_profile.py:
	10 digits for larger counts
	[e182fef31c33]

2013-04-21  Nicolas Pomarede

	* doc/release-notes.txt:
	Update notes with latest MFP changes
	[fd59ad8d46b7]

	* src/cpu/newcpu.c, src/includes/mfp.h, src/mfp.c, src/uae-
	cpu/newcpu.c:
	In the MFP, handle multiple interrupts in chronological order during
	a single CPU instruction
	[e882662b6c90]

2013-04-22  Eero Tamminen

	* tools/debugger/hatari_profile.py:
	more info on -i & -p profile post-processor options

	-i: show also total time for cycles and per call instructions & time
	-p: show both inclusive & exclusive costs, and both percentage &
	counts for them (only inclusive for calls, as for those
	exclusive values are always same as default counts)
	[3249112c7143]

2013-04-19  Eero Tamminen

	* src/debug/symbols.c, tools/debugger/gst2ascii.c:
	ignore global equated define types on GST symbol import
	[4ece37d8e8a4]

	* src/debug/symbols.c:
	it's enough to do fclose once (earlier)
	[2ee6667b05fc]

	* tools/debugger/CMakeLists.txt:
	build & install gst2acii
	[1f95b924d24c]

	* doc/release-notes.txt, tools/debugger/gst2ascii.1,
	tools/debugger/gst2ascii.c, tools/debugger/hatari_profile.1:
	add gst2ascii tool

	This can output DRI/GST format symbol table from Atari program in
	ASCII format which is understood by the profile data post-processor
	(and Hatari debugger 'symbols' command in case you want to modify
	the symbol information before giving it to the debugger).
	[8efb89d152f4]

2013-04-17  Eero Tamminen

	* src/xbios.c:
	trace support for vsetscreen

	i.e. same as setscreen, just with extra arg
	[9d3d518db356]

2013-04-16  Eero Tamminen

	* src/debug/symbols.c:
	improve messages + remove error msg about GCC _etext symbol (TEXT
	symbol which is just outside of TEXT section)
	[ef5a9eb1248e]

	* src/debug/symbols.c:
	ignore also symbols with normal object file names
	[9fcc967c3568]

	* src/debug/symbols.c:
	fix executable type messages on symbol loading
	[8c9fc52bed0c]

	* src/debug/symbols.c:
	ignore object file names with paths
	[8bf0cc6df06f]

	* src/debug/symbols.c:
	fix GST long name detection
	[d688f5ff0eae]

	* src/debug/symbols.c:
	ignore .L* local symbols in DRI/GST table as useless

	GCC can put tens of thousands of them into symbol table which can
	result in thousands of name conflicts..
	[6c5c2fe89d00]

2013-04-16  Thomas Huth

	* src/file.c:
	Fixed problem with latest zlib version (gzeof is only set when using
	gzread)
	[f6b563b9b44f]

2013-04-16  Eero Tamminen

	* tools/CMakeLists.txt, tools/debugger/CMakeLists.txt:
	CMake stuff to install profiler post-processor
	[b7fd854a9a04]

	* tools/debugger/hatari_profile.1:
	add basic manual page for profiler post-processor
	[a62022268410]

2013-04-15  Eero Tamminen

	* tools/ahcc-symbols-convert.sh, tools/debugger/ahcc-symbols-
	convert.sh:
	move also ahcc script
	[87ca47dfe841]

	* tools/debugger/devpac3-symbols-convert.sh, tools/debugger/dsp-lod-
	symbols-convert.sh, tools/debugger/hatari_profile.py, tools/debugger
	/nm-symbols-cleanup.sh, tools/devpac3-symbols-convert.sh, tools/dsp-
	lod-symbols-convert.sh, tools/hatari-profile.py, tools/nm-symbols-
	cleanup.sh:
	move debugger scripts to their own directory under tools/

	also rename hatari-profile.py to hatari_profile.py, pylink complains
	about that (as files with dashes in them cannot be imported).
	[60c50326f40e]

	* tools/hatari-profile.py:
	fix pylint warning for profile post-processor
	[694f5518e8cf]

	* doc/manual.html:
	manual: update profiler section + other minor updates
	[90d0aee12a64]

	* src/debug/profilecpu.c, src/debug/profiledsp.c:
	right align percentages in profile list outputs
	[1041944ccd9b]

	* doc/manual.html:
	update debugger section

	subsections:
	- symbols
	- breakpoints
	- tracing

	(profiling still needs to be updated.)
	[8697b194f679]

2013-04-14  Nicolas Pomarede

	* src/mfp.c:
	Update debug traces
	[3bdaa5bc0ce8]

2013-04-13  Nicolas Pomarede

	* doc/release-notes.txt:
	Add 'Atomix' to the list of fixed games
	[85fd918bbfb3]

2013-04-13  Thomas Huth

	* src/debug/profiledsp.c, src/falcon/dsp_disasm.c:
	Silenced compiler warnings about bad format strings for 64-bit
	values
	[ac1b3f50e777]

	* src/cpu/falcon_cycle030.h, src/debug/debugui.c, src/debug/profile.c,
	src/debug/symbols.c, src/falcon/dsp_core.c, src/falcon/dsp_core.h,
	src/falcon/dsp_cpu.c, src/falcon/microphone.c, src/falcon/nvram.c,
	src/gemdos.c, src/gui-sdl/dlgFileSelect.c, src/gui-sdl/dlgSystem.c,
	src/gui-sdl/sdlgui.c, src/includes/m68000.h, src/includes/unzip.h,
	src/uae-cpu/newcpu.c:
	Fixed more typos (discovered with the codespell utility)
	[fe1b43592c8f]

2013-04-12  Eero Tamminen

	* doc/release-notes.txt, src/blitter.c, src/debug/debugInfo.c,
	src/includes/blitter.h:
	add "blitter" subcommand to debugger "info" command
	[cd966a53283e]

	* doc/release-notes.txt, src/debug/breakcond.c:
	fix: tracking breakpoints didn't work with other conditions

	Earlier tracking breakpoint comparison value was updated only if
	whole breakpoint matched. This meant that they didn't work
	correctly (or at all) when coupled with other breakpoints.

	Now tracking breakpoint values are updated whenever the tracked
	value changes which means that they will now work also when coupled
	with other breakpoint conditions.

	HOWEVER: because breakpoint condition evaluation is optimized with
	short-circuiting (similarly to conditions in C with '&&', skipping
	rest of checks if something doesn't match), tracking condition needs
	to be given before other conditions and you can still have only one
	such condition per breakpoint.
	[40a67f5fa58b]

	* tests/debugger/makefile, tests/debugger/test-dummies.c:
	update debugger test dummies
	[bb6fcbd34d22]

	* doc/todo.txt:
	add note about VIDEL reg handling to todo.txt
	[c9d34bcfb572]

2013-04-12  Nicolas Pomarede

	* doc/compatibility.html, doc/release-notes.txt:
	Update notes
	[e80c0062adb2]

	* src/mfp.c:
	Typo
	[df87ba37393c]

2013-04-11  Nicolas Pomarede

	* src/cpu/newcpu.c, src/includes/mfp.h, src/mfp.c, src/uae-
	cpu/newcpu.c:
	Handle MFP's changes during an ongoing exception before the IACK
	(fix Anomaly Demo Menu by Oxygene and sample intro in the game The
	Final Conflict)
	[87276b828e07]

2013-04-10  Eero Tamminen

	* tools/hatari-profile.py:
	silence post-processor warning
	[0227a8a7dd35]

	* tools/hatari-profile.py:
	improve profiler data post-processor callgraph options

	These make the graph options behave in more expected way:
	* nodes connected to ones specified for --ignore option are relinked
	* emphasis limit isn't affected by count option
	* --only-subroutines option removes all nodes that aren't called as
	subroutines, regardless of their cost
	* improve --compact option documentation
	[563f336ae028]

	* src/debug/profile.c, src/debug/profile_priv.h,
	src/debug/profilecpu.c, src/debug/profiledsp.c:
	Fix caller address for symbol called right after subroutine call

	 foo: jsr -> <instructions> bar: <- rts

	Logically this should be indicated as "bar" symbol following the
	preceeding instruction, not "foo"s return instruction calling it,
	like was the case before.
	[6fe99fd4aeb9]

	* tools/hatari-profile.py:
	profile post-processor: handle PC_UNDEFINED, add --only-subroutines
	option

	* Use caller->callee call type to add some type identification for
	the called symbol/function. Use that info to:

	 - Handle PC_UNDEFINED introduced by previous patch, and mark such
	node(s) in callgraphs separately, as it implies it being the first
	symbol called during profiling.

	 - Add preliminary --only-subroutines option that leaves to
	callgraph only symbols that either are called as subroutines, or
	which costs exceed the given limit.
	[0ff09731c197]

	* src/debug/profile.c, src/debug/profile_priv.h,
	src/debug/profilecpu.c, src/debug/profiledsp.c:
	fix several corner case issues in caller info collecting

	* Use impossible PC value as default (PC_UNDEFINED), so that
	uninitialized PC values can be detected (previously they were
	initialized to zero).

	These caused warnings output by "profile callers" command and errors
	with profile post-processing script, for some very specific
	profiles:

	* Caller information was collected for current PC instruction,
	profiling data for previous PC instruction, this caused small
	mismatch in the data.
	  -> Change caller info also to be about the previous instruction.

	* Function's own costs were wrong (subroutine call instruction
	cost isn't assigned for the caller).
	  -> Total statistics used for calculating caller totals are now
	updated after caller info is processed, not before.

	* DSP code didn't check for new subroutine call if another call
	returned on that same address (unlike CPU side did).
	  -> This is now fixed.
	[8ef24f412a22]

2013-04-09  Eero Tamminen

	* src/debug/profiledsp.c:
	Fix DSP caller info call type for conditional subroutine calls

	This uses heuristic that if previous instruction was conditional
	subroutine call, condition failed and there was no subroutine call,
	just normal advancement to next PC address. It should be safe
	assumption for most of the cases.
	[82f8df0b1b54]

2013-04-07  Eero Tamminen

	* src/debug/profile.c, src/debug/profilecpu.c, src/debug/profiledsp.c:
	use C99 inttypes.h macros to fix printfs with Uint64 values
	[cfad9b1735c5]

	* src/debug/symbols.c, src/gemdos.c:
	get rid of "fread() return value ignored" warnings
	[e5b14c7d3f78]

	* tools/devpac3-symbols-convert.sh:
	fix: devpac listing symbol lines have different format for GST
	binaries
	[525e447db18a]

	* doc/emutos.txt:
	add new demo to emutos.txt
	[60b272f42895]

2013-04-06  Thomas Huth

	* src/gui-sdl/CMakeLists.txt:
	Use -Wno-write-strings for GCC only
	[979a828622f1]

	* src/debug/68kDisass.c, src/falcon/videl.c, src/hdc.c, src/xbios.c:
	Variables must be defined at the beginning of a block
	[cccc482cfce2]

2013-04-05  Nicolas Pomarede

	* src/cpu/newcpu.c:
	Process interrupts and STOP instruction in the same way as in uae-
	cpu/newcpu.c
	[8a2f641ef512]

2013-04-04  Eero Tamminen

	* src/debug/symbols.c:
	one more sanity check for making sure program in RAM & file match
	[95dd03950e60]

2013-04-04  Nicolas Pomarede

	* src/uae-cpu/newcpu.c:
	With new mfp.c and delayed IRQ, update interrupt processing during a
	STOP (fix stop 2500 in Sowatt - Sync screen)
	[f75e9f752397]

	* src/mfp.c:
	Update debug traces
	[1b8ecf003999]

2013-04-04  Eero Tamminen

	* doc/release-notes.txt:
	update release notes
	[deaba12c1406]

	* src/debug/symbols.c, src/gemdos.c, src/includes/gemdos.h:
	add debugger "symbols" "prg" subcommand to load symbols from last
	program

	This requires also GEMDOS HD emulation to be patched, to store what
	it thinks to be the last started program.
	[cc818b771cdc]

	* src/debug/symbols.c:
	minor fixes to error cases in previous 2 commits
	[e4254bcc7c50]

	* src/debug/symbols.c:
	check and ignore symbols that go outside of their sections
	[1046fcbc917e]

	* src/debug/symbols.c:
	add support for reading DRI/GST symbols from programs
	[b88fa69544c4]

2013-04-03  Eero Tamminen

	* doc/release-notes.txt, src/debug/68kDisass.c,
	src/debug/profilecpu.c:
	Profiler top instruction count/cycles/misses lists show the related
	instructions
	[5ed803739011]

	* tools/hatari-profile.py:
	change -p option to use Hatari provided total costs instead of
	estimating them

	Unlike the new Hatari provided subroutine call costs, the estimated
	costs were just estimates, and could be completely wrong, that's why
	this is changed.

	The patch is messier than I would like, besause besides:
	- adding support for actually using the new Hatari information (that
	was parsed already by previous commit(s))
	- removing code for estimated cost propagation
	- removing kcachegrind call info for nodes that don't have (anymore)
	total costs
	- documenting the new -p option
	- updating comments

	it also does some other changes:
	- class method and member name changes:
	  - propagate -> subcost
	  - total -> subtotal
	  - data/value -> cost
	  - add "str" postfix to local variable names that are in other
	methods used for integers/tuples instead of strings
	- add "bold" attribute to callgraph nodes & arrows for things that
	are over the given limit
	- couple of minor, unrelated doc updates

	(they were too intermixed with the other changes.)
	[defe703dab23]

2013-04-02  Eero Tamminen

	* src/debug/profile.c:
	improved profiler warning messages
	[f28325deae84]

	* src/debug/profilecpu.c, src/debug/profiledsp.c:
	fix to profiler subroutine call return address handling

	return address can be address for another function/symbol, so return
	addresses and entering a symbol address need to be checked
	separately.

	(or at least return address should be checked first if one doesn't
	care about missing "next" type of "call" to an address.)
	[432641afa5ac]

	* src/debug/68kDisass.c:
	profile data overrides asm comments

	parsing the profile data can fail if disassembly has "random"
	comment strings in it, so comments should appear only when there's
	no profile data
	[9bda2cb44e4a]

2013-04-01  Nicolas Pomarede

	* doc/release-notes.txt:
	Update notes on joystick's axes detection bug
	[cf9058ad4689]

	* src/joy.c:
	Use the correct index, fix bad bug in the joystick's
	detection/mapping code Joystick certainly failed for a lot of people
	before because of that ...
	[bbf8825e680f]

	* src/dmaSnd.c:
	Typo in comment
	[df235ab97bce]

2013-03-27  Eero Tamminen

	* doc/release-notes.txt, src/gemdos.c:
	Fix: cut file and dir names to 8+3 chars like all TOS versions do
	[caa6d6c99cb4]

2013-03-26  Eero Tamminen

	* python-ui/TODO:
	update python ui TODOs
	[da6a4fbb78f6]

	* python-ui/dialogs.py:
	update python ui trace list
	[b27043d2b1e3]

2013-03-20  Eero Tamminen

	* src/debug/profile.c:
	profile call counts were off by one / function, more info on call
	stack contents
	[23071411337b]

	* src/debug/profile.c, src/debug/profile_priv.h,
	src/debug/profilecpu.c, src/debug/profiledsp.c:
	call cost tracking fixes and improvements

	- calculate costs also for functions that hadn't returned yet at
	the end of the profiling
	- RTE on JSR return address means same as RTS, it's return from
	interrupt that happened during instruction at return address
	- add special hack for EmuTOS AES task switcher (it messes profiler
	call tracking with its stack return address manipulation)
	- better variable name: runcosts -> totalcost
	- add more documentation / comments
	[833b8c7dbe51]

	* src/debug/symbols.c, src/debug/symbols.h:
	use Uint32 both in CPU & DSP symbol functions so that their
	signatures are same

	I.e. pointers to them can be passed as args to common functions.
	[84cdc03d5bbe]

2013-03-20  Nicolas Pomarede

	* doc/compatibility.html:
	Small changes to compat list
	- Devpac, not DevPac (too much time spent coding with, name must be
	preserved :) )
	- Hextracker requires Hatari 1.5 for proper STE DMA sound
	[dba71bf49266]

2013-03-19  Eero Tamminen

	* src/debug/profile.c, src/debug/profile_priv.h,
	src/debug/profilecpu.c, src/debug/profiledsp.c:
	speed up subroutine cost calculations & checks

	By moving some of the checks from generic code to CPU/DSP code, some
	heavier operations need to be done less frequently.

	With this, frameskip went with DSP emulation caller profiling below
	max value on my machine (Intel i3).
	[cf9741d79062]

	* src/debug/profiledsp.c:
	clearer to re-calculate all counters when one of them needs to be
	anyway

	(in this part of code this isn't relevant for performance.)
	[de98338e94f6]

	* src/debug/profile.c:
	minor fixes to profile output

	- when call type info is missing, no letters are output
	- address can be zero at least for DSP, so check call count instead
	[7246fc9d7051]

	* src/debug/profiledsp.c:
	add initial DSP call type identification support
	[af2283311280]

2013-03-18  Eero Tamminen

	* src/debug/profilecpu.c, src/debug/profiledsp.c:
	3 small fixes to previous commit

	bugs introduced in refactoring...
	[c336876e19a1]

	* src/debug/profile.c, src/debug/profile_priv.h,
	src/debug/profilecpu.c, src/debug/profiledsp.c, tools/hatari-
	profile.py:
	initial profiler support for getting full costs for subroutine calls

	includes:
	- common code for collecting, processing and outputting the data
	about the full costs
	- full CPU side support
	- related structure changes in DSP code
	- some extra refactoring to improve code CPU/DSP profiling code
	- post-processor support for parsing the new data and storing it
	internally

	missing:
	- DSP side code (opcode classification) needed for getting the full
	costs
	- post-processor actually using the new data
	- testing the new data correctness
	[eac31396971b]

2013-03-18  Thomas Huth

	* src/cart.c:
	Do not use cartridge with TOS 0.00
	[ca7febbe6b72]

2013-03-18  Eero Tamminen

	* doc/compatibility.html:
	add puet.net links for trackers
	[0d3d1effa4f9]

	* doc/compatibility.html:
	add Devpac 3 and Hextracker notes to compatibility list
	[d274a54ebb37]

2013-03-17  Eero Tamminen

	* tools/hatari-profile.py:
	show different call types with different arrows in callgraphs
	[8d8ea115e4cf]

	* src/debug/profile.c, src/debug/profile_priv.h,
	src/debug/profilecpu.c, src/debug/profiledsp.c, src/debug/symbols.c,
	src/debug/symbols.h:
	remove unnecessary unsigned usage in profiler

	Some of the unsigned usage in profiler was redundant and required
	few extra casts.

	(Usage of signed in loop counters may also allow some extra
	optimizations by compiler.)
	[7f24d5e6e7f9]

	* src/debug/profile.c, src/debug/profile_priv.h,
	src/debug/profilecpu.c, src/debug/profiledsp.c:
	fix OpcodeFamily use + small optimization

	LastOpcodeFamily variable is set only by 68000 instruction pairing
	code and that isn't called by WinUE 030 core. OpcodeFamily variable
	already contains last instruction's family when profiler is called,
	so that can be used instead.

	Doing the symbol index checks direcly in profiler CPU/DSP update
	function avoids running some extra code for most instructions (as
	symbols should match only to relatively few instructions).
	[89266f5f9a98]

2013-03-17  Nicolas Pomarede

	* src/dmaSnd.c, src/sound.c:
	Avoid overflow when mixing STE DMA sound and YM2149 in some cases
	(patch by David Savinkoff)
	[b701e19484ce]

2013-03-16  Nicolas Pomarede

	* doc/release-notes.txt:
	Change wording on IKBD's clock
	[d65baa8a7686]

2013-03-15  Eero Tamminen

	* src/debug/profilecpu.c:
	Use OpcodeFamily(Last) in evaluating last instruction for profile

	(Now that also WinUAE CPU core updates it)

	Additionally this moves DEBUG checks to be after profile information
	is updated, so that the added disassembly call will show up to date
	information.
	[df9c46d6eeba]

	* src/cpu/gencpu.c:
	set OpcodeFamily also for the WinUAE CPU core
	[8b344d863ff3]

	* doc/emutos.txt:
	ramses will never work with emutos
	[07185874b9cb]

	* doc/emutos.txt:
	compatibility updates for latest EmuTOS snapshot
	[7c8501b67e68]

	* doc/manual.html, doc/release-notes.txt, src/gemdos.c:
	implement Fforce() and open file handle closing on Pterm*()

	Saving current program basepage address to opened file handles,
	removing handles that have current program basepage when the program
	exits, and checking that Fforced handle basepage either matches
	current program or one of its parents should make Fforce() safe
	enough.

	If process crashes without GEMDOS emu noticing and removing
	Fforcing, the basebase check should catch that, so that stale forced
	handle can be removed.

	Process crash can still leak internal handles, but that problem is
	now *much* smaller than it was with previous code.

	Patch has also few <define> -> ARRAYSIZE(array) changes for
	consistency reasons.
	[02a9995a2e57]

	* src/debug/profilecpu.c:
	correct cycles values & Disasm FILE* pointer

	According to Nicolas, cycles are 8Mhz based, so for higher machines
	they need to be scaled to give correct values.
	[4ee9ea5ccf51]

2013-03-14  Eero Tamminen

	* src/debug/CMakeLists.txt, src/debug/profile.c, src/debug/profile.h,
	src/debug/profile_priv.h, src/debug/profilecpu.c,
	src/debug/profiledsp.c:
	split CPU and DSP profiling code from profile.c

	CPU and DSP profiling code has diverged and grown so much that it's
	better to split them to separate files. Except for splitup, there
	are no other changes.
	[19ec8bd1f280]

	* doc/release-notes.txt:
	update release notes
	[8a94c074fc01]

	* doc/manual.html:
	note additional GEMDOS emu limitations in manual
	[93fe01d77a47]

	* src/gemdos.c:
	give warnings on GEMDOS emu unimplemented features

	Unlike in real TOS:
	- Fforce() isn't implemented (code comment explains why)
	- Files opened by a program aren't implicitly closed on program
	termination (as emu doesn't know which of the currently open files
	belong to which of the resident programs)
	[1c285132d2ac]

	* src/gemdos.c:
	GEMDOS handle validation changes to help Fforce() implementation

	Validation changes also slightly reduced code duplication.

	Couple of other (trivial) changes in patch:
	- more uniform white-space use
	- use TOS handle ID also in "info gemdos" output
	[e729944325e8]

2013-03-14  Nicolas Pomarede

	* src/mfp.c:
	When writing to the MFP's registers, take the write cycles into
	acccount (properly fix Super Hang On)
	[cc247cb8acf4]

	* src/cycles.c, src/includes/cycles.h:
	Move Read/Write access cycles in separate functions and use them
	with CyclesGlobalClockCounter too (backport from another 2012/08 dev
	branch)
	[9f57cdf8c0eb]

2013-03-13  Eero Tamminen

	* src/gemdos.c:
	whitespace fixes/consistency
	[30de442830c5]

	* src/gemdos.c:
	show TOS file handle on trace, not internal handle index

	+ some white space & comment location fixes
	[b9b746ca34c9]

	* src/includes/stMemory.h, src/stMemory.c:
	make STMemory_Clear() static as it's used only in stMemory.c
	[9c1e22f519ab]

	* tools/hatari-profile.py:
	propagated call costs are estimated too, if they had multiple
	callees
	[3081026c95c5]

	* tools/hatari-profile.py:
	initial callgrind/kcachegrind file format output support
	[d32951f4a4bf]

2013-03-12  Eero Tamminen

	* tools/hatari-profile.py:
	separate title line for --no-limited removed nodes
	[354266654003]

	* src/gemdos.c:
	flush gemdos writes

	(Assumed fix to Douglas Devpac compilation issue.)

	Real TOS is unlikely to buffer the writes, so opening the same file
	without closing earlier handle to it, may result getting data from
	the new file handle that is out of date (not written out yet by host
	C-library).
	[ec09c54fd25b]

2013-03-10  Thomas Huth

	* src/falcon/crossbar.c, src/falcon/crossbar.h, src/ioMemTabFalcon.c:
	Fixed FF893A (attenuation) register - its size is word, not byte
	[81bb536bac58]

	* src/uae-cpu/newcpu.c:
	Silenced compiler warning
	[1848e6b45e19]

	* src/stMemory.c:
	Fixed indentation
	[e4636ea7a925]

	* src/xbios.c:
	Fixed trace format string for Devconnect
	[d0738105d84c]

2013-03-10  Eero Tamminen

	* tools/hatari-profile.py:
	add --mark and --no-limited callgraph options

	These are helpers for really large graphs
	* With --mark one can specify substrings for node names which should
	be separately highhlighted in graph. This is useful when you're
	interested in something that's below normal highlight limit
	* With --no-limited, all nodes below limit are removed from graph.
	This is something one could try if using "--compact --no-leafs
	--no-intermediate" still leaves too many nodes to the graph for it
	to be readable
	[19ac64897554]

	* src/debug/profile.c, tools/hatari-profile.py:
	add some emulator info to profile data and show it by post-processor
	[17ae7390c3ff]

	* src/avi_record.c, src/debug/natfeats.c, src/gui-sdl/dlgAbout.c,
	src/includes/main.h, src/includes/version.h, src/main.c,
	src/options.c:
	fix PROG_NAME and move it to new version.h header
	[2ffdc3786b34]

	* tools/hatari-profile.py:
	callgraph fine-tuning

	- show also node's own cost if main one is estimated from cost-
	propagation
	- use red arrow only when called function has significant costs, not
	if only the caller has
	[0cbc9ee49dad]

2013-03-08  Eero Tamminen

	* tools/hatari-profile.py:
	fix typo
	[f4dd4b7c6496]

	* tools/hatari-profile.py:
	callgraph improvements:

	* --no-leafs removes now also nodes that don't have any
	connections (if they are below limit)
	* fix: show nodes that don't have any connections (unless --no-leafs
	is used)
	* --no-leafs and --no-intermediate check that node isn't referring
	to itself, such references are ignored when considering whether
	node should be removed
	* added (textual) information about limits and filtering to the
	callgraph
	[7a1e67e0c51b]

	* tools/hatari-profile.py:
	callgraph improvements:

	- remove nodes with --no-leafs & --no-intermediate options only if
	their percentage of total is below given limit
	- update documentation accordingly + hopefully make it slightly
	clearer
	- improve warnings & callgraph title
	[f78954043af6]

	* tools/hatari-profile.py:
	fix: show arrows for all calls from given location

	Even if the same instruction jumped to different addresses, only one
	of them was indicated with an arrow in the callgraph.
	[ba140c684341]

	* tools/hatari-profile.py:
	report profile line numbers as starting from 1
	[78eef1b65609]

2013-03-07  Eero Tamminen

	* src/debug/profile.c, tools/hatari-profile.py:
	move field names & regexps from post-processor to profiler

	Profiler code outputs the profile data and therefore knows better
	what are the fields and how to parse them from disassembly, than the
	post-processor.

	Moving them and removing the setup dict from post-processor required
	"hard-coding" remaining two things in that dict to appropriate
	classes:
	- name for program code memory area (PROGRAM_TEXT)
	- cycles field position (after instructions) (it didn't anymore make
	sense to keep the subclass/dict)
	[a7df48cae159]

	* tools/hatari-profile.py:
	improve profile post-processor documentation
	[056a18107821]

	* doc/todo.txt, src/includes/vdi.h, src/vdi.c:
	Fix: text size setting in VDI mode

	This was broken for ST/STE 2-plane mode by previous VDI code change.

	Now screen height is always aligned to 16 pixels (largest possible
	TOS font height) and screen related TOS variables are set based on
	font height calculated by TOS itself, on not font height forced by
	Hatari.
	[101056dea3d4]

	* tests/tosboot/readme.txt:
	update tos boot tester readme for the last changes
	[df02965f158f]

2013-03-05  Eero Tamminen

	* src/debug/profile.c:
	avoid profiler warning on save
	[47e8851e3b1c]

	* tools/hatari-profile.py:
	override parsed symbols with given symbols with caller info

	Hatari debugger and profiler post-processor parse symbols a bit
	differently. Post-processor has better rules for this, so if
	resolved caller name differs from one parsed from the file output by
	profiler, override it with post-processor one.
	[b0945df83c63]

2013-03-10  Nicolas Pomarede

	* doc/compatibility.html, doc/release-notes.txt, src/mfp.c:
	Update releases notes and comments
	[6e9e7bea1c86]

	* src/includes/mfp.h, src/mfp.c, src/video.c:
	Take PendingCycles into account when calling
	MFP_TimerB_EventCount_Interrupt (fix bottom border removal in Decade
	Demo - Reset part, flickering rasters in High Fidelity Dreams by
	Aura)
	[19d7efbbb8af]

	* src/mfp.c:
	Better sub-instruction's cycles handling in MFP_UpdateIRQ and
	MFP_ProcessIRQ
	[712875d548e8]

	* src/cycles.c, src/includes/cycles.h:
	CyclesGlobalClockCounter should be Uint64, not Sint64
	[c7fc5aafdb3f]

	* src/acia.c, src/blitter.c, src/dmaSnd.c, src/falcon/crossbar.c,
	src/fdc.c, src/ide.c, src/includes/mfp.h, src/mfp.c, src/midi.c,
	src/psg.c, src/rs232.c:
	Simplify MFP_InputOnChannel() to pass only the interrupt number and
	the delayed cyles The caller should not have to know which
	bits/registers are involved in the MFP when an MFP interrupt happens
	[e68b379022ff]

	* src/mfp.c:
	Add MFP_ConvertIntNumber() to avoid duplicating some code
	[bb358470c19d]

	* src/includes/mfp.h, src/mfp.c:
	Rename the MFP's interrupt sources from MFP_EXCEPT_xxx to
	MFP_INT_xxx
	[7d9d7c2250a5]

	* src/cycles.c, src/includes/cycles.h, src/includes/m68000.h:
	Add a global counter to count cpu cycles and act as a master clock
	[7e8da8bb4cac]

2013-03-06  Nicolas Pomarede

	* src/includes/video.h, src/video.c:
	Change TIMERB_VIDEO_CYCLE_OFFSET to 24 cycles (due to 4 cycle delay
	in MFP's IRQ)
	[3e1eb42dc599]

2013-03-05  Nicolas Pomarede

	* doc/compatibility.html, doc/release-notes.txt:
	Update release notes and compatibility with recent MFP changes
	[f1f2ad74b259]

2013-03-04  Eero Tamminen

	* tools/hatari-profile.py:
	change --ignore-to, add --compact & --no-calls, fix --no-
	leafs/-intermediate options

	* --ignore-to option acts now when internal callgraph information is
	constructed and it will remove calls to given nodes completely i.e.
	it affects function call counts and therefore cost propagation.
	This is to avoid mis-assigning interrupt handler costs (declaring
	them is the purpose of this option)

	* --no-calls <IDs> option allows specifying which *types* of calls
	are ignored. By default calls of unknown and exception return
	type are ignored as call when constructing callgraph information.
	This is based on the new flags profiler adds to the caller
	information, and intended to give more readable graphs by default,
	with less need for use of --ignore-to option.

	* --compact option will show just one arrow between same nodes,
	regarless of from how many places in the caller the callee is
	called from.

	* --no-leafs/-intermediate options were broken. Then didn't
	relink parents & children of the removed node. This should be now
	fixed.
	[44833374b2d5]

2013-03-03  Eero Tamminen

	* src/debug/profile.h:
	commit also header change
	[8db7c9893126]

	* src/debug/debugcpu.c, src/debug/debugdsp.c, src/debug/profile.c:
	profiler: make "addresses" behave like other disassembly commands,
	add "save" command

	- "addresses" disassembly argument is now address/range from where
	one want disassembly with profiling data.
	- by default configured number of dissassembly lines is shown, but
	user can give also a range, like for other disassembly commands.
	- "addresses" command is continued by pressing enter, like other
	disassembly commands.
	- profile saving isn't anymore done with "addresses" command, but
	separate "save" profiler subcommand.
	[1097366f8f9a]

	* src/gemdos.c, src/xbios.c:
	add missing TOS4 gemdos/xbios OS call names

	TOS4 does these calls at bootup.
	[374c2e6d3fbc]

	* doc/compatibility.html:
	add link to no-fragments
	[fed2e34d9099]

2013-03-01  Eero Tamminen

	* doc/emutos.txt:
	update emutos compatibility for v0.9.0
	[af5937e37037]

	* tests/tosboot/bootauto.st.gz, tests/tosboot/bootdesk.st.gz,
	tests/tosboot/disk/GEMDOS.PRG, tests/tosboot/disk/MINIMAL.PRG:
	boot test programs rebuilt with newer AHCC version
	[d51feee676da]

	* tests/tosboot/disk/ahcc-gemdos, tests/tosboot/disk/ahcc-minimal:
	increase AHCC script EmuTOS boot wait for EmuTOS v0.9.0
	[25cb788f1574]

	* tests/tosboot/tos_tester.py:
	bootup tester updates, mainly for new EmuTOS v0.9.0 features

	- add support for testing ACSI and IDE disks, but allow that only
	for EmuTOS as others require driver to be installed on HD image
	- add VDI testing for Falcon, but allow that only for EmuTOS as TOS
	4.x doesn't work with VDI screens. Increase VDI screen sizes used
	for testing slightly (to catch TOS 4.x type issues)
	- change EmuTOS feature checks to be based on image sizes as EmuTOS
	reported TOS version may increase when it gets new features, but
	EmuTOS compatibility to Hatari features (like IDE) differs from
	real TOS with similar TOS version
	- fix pylint complains, mainly with docstring updates
	[8cc612171c94]

	* doc/manual.html:
	update GEMDOS emu information in manual
	[12284fdc3f43]

2013-02-27  Eero Tamminen

	* src/debug/profile.c:
	sort caller info by calls + better comparison function names
	[0fa9f7d4d7f0]

	* src/debug/profile.c:
	fix DSP caller info and improve profiler warnings
	[604e08566a94]

2013-02-26  Eero Tamminen

	* src/debug/profile.c:
	fix DSP calltype info and add legend to profile disassembly output
	[bd5489c8d4b6]

	* src/debug/profile.c, tools/hatari-profile.py:
	add caller type to profile callers information

	- heuristics based on instruction type at previous PC address to
	decide what type of "call" is being done
	- output of that information, with legend explaining it
	- some warning check changes
	- post-processor changes to accept this new information and profile
	file comments (accept=ignore)
	[49416318c2ac]

2013-02-25  Eero Tamminen

	* tools/hatari-profile.py:
	several new profiler post-processor options and output changes

	- addresses and cycles time is shown only if new -i/--info option
	is specified. This way output fits to normal sized console and
	can be pasted easier to mails etc
	- add --no-leafs/--no-intermediate callgraph options to reduce
	callgraph nodes (done before --ignore-* option parsing)
	- add --emph-limit option for callgraph node highlighting
	- lists show now both normal and propagated values when
	  -p option is used, IMHO this makes it more readable
	- some changes to how verbosity is handled internally
	[77745da7466a]

2013-02-24  Eero Tamminen

	* src/debug/symbols.c:
	fix typos in DSP symbol lookup (cpu -> dsp)
	[ae633ffb9c8a]

	* src/debug/profile.c:
	fix typos in DSP symbol lookup (cpu -> dsp)
	[2eaa46770138]

	* src/debug/profile.c:
	fix: used CPU sites member for DSP sites
	[cb3e2a1394a5]

2013-02-23  Eero Tamminen

	* tools/hatari-profile.py:
	add --propagate options and arrow coloring in callgraphs

	Propagate option propagates estimated function costs based on call
	counts, upwards in the graph to callers. Output is visible both in
	callgraph and lists.

	Callgraph arrows to nodes which have high costs are red, so that
	it's easier to track them within other arrows.
	[67ea321dfd0e]

2013-02-22  Eero Tamminen

	* tools/hatari-profile.py:
	add & use parent/child info from function instances

	This is easier to use than separate callinfo and easier to extend.
	[76689d8f3841]

2013-02-21  Eero Tamminen

	* tools/hatari-profile.py:
	use line number info in totals output

	(line info was added with FunctionStats change.)
	[2e4f329a417b]

	* tools/hatari-profile.py:
	use better variable name ProfileStats
	[a599211362c4]

	* tools/hatari-profile.py:
	separate function statistics to its own class

	FunctionStats class was added in preparation for further callgraph
	processing and accounts for most changes. Additionally:
	- changed profile items to be indexed by address, not symbol
	- used also addresses for graphviz dot node names
	- hopefully clarified the profile parsing code more
	[4f8ecca20133]

	* src/debug/debugInfo.c:
	revert previous commit, it's redundant

	All calls (from conditional breakpoints and debugui.c) to this
	function already init session.
	[0f071c45b319]

	* src/debug/debugInfo.c:
	lock file subcommand needs to init CPU & DSP sessions too

	similarly to breakpoint file actions, CPU & DSP debug sessions need
	to be initialized before file is parsed, for things to be correctly
	setup for the parsed commands.
	[0fef0b07c15a]

2013-02-20  Eero Tamminen

	* tools/hatari-profile.py:
	remove dead code
	[84ce27eafc73]

	* tools/hatari-profile.py:
	symbol parsing improvements

	- instead of checking whether address is within TEXT section and
	making it relative before looking it up from symbols (on each
	parsed address), have separate option for giving relative symbols
	and relocate them once after memory areas have been parsed
	- fix for handling symbols parsed from profile which needed to be
	renamed because those symbols were already used for another
	address
	- fix couple of bugs in symbol resolving when switching from one
	memory area to another (i.e. corner cases)
	- give real addresses for RAM/TOS/etc area symbol (used when no
	normal symbol matches), not just address for first executed
	instruction in them

	Symbol handling is hopefully now bug free.
	[17781c5ee1a5]

	* src/debug/profile.c:
	allow profiler output file overwrites
	[78fbae9e06eb]

	* tools/hatari-profile.py:
	refactor, remove ugliest InstructionStats object innards poking
	[7c7dd827c5d8]

	* tools/hatari-profile.py:
	fix for "no functions" case, improve verbosity
	[ffbd88e8a2d0]

2013-02-19  Eero Tamminen

	* tools/hatari-profile.py:
	fix area offset return value
	[5de796942e20]

	* tools/hatari-profile.py:
	fixes to symbol processing and make profile parsing sequential

	Symbol processing has following improvements:
	- function could have changed between disassembly discontinuations,
	get the correct function name in those cases
	- resolve first address in profile to preceeding symbol (as profile
	file doesn't necessarily have name of that)
	- when adding symbols from profile file, they may need to be made
	relative [1]
	- symbols with same name but different address are renamed so that
	information for them gets assigned right
	- symbols with illegal chars for Graphviz node names are renamed
	(for now, later I will use separate node IDs)

	[1] For now. Profile file parsing was changed to parse each profile
	data part separately before moving to next data types. This was
	made so that memory area information can be guaranteed to be
	available when symbol resolving needs to be done.

	 With that change, text-relative symbols could be "relocated"
	at start of profile parsing, instead of needing to do that for
	all the addresses parsed from the profile itself (when checking
	whether there's a symbol corresponding to that address)
	[7606e17450c2]

	* src/debug/profile.c:
	support disassembly while profiling, with DEBUG show zero cycle
	instructions
	[096b44f1c1c4]

	* tools/hatari-profile.py:
	limits work similarly to both callgraphs & lists + usage update
	[7a69fdf6a9b7]

2013-02-18  Eero Tamminen

	* tools/hatari-profile.py:
	refactor callgraph code, create separate callgraph for each profile
	item
	[3fb64a6d9d56]

	* tools/hatari-profile.py:
	refactor statistics output, replace -c -e -i -m options with -t

	This refactoring cleaned out duplicate code and I think single
	options is nicer. There were also couple of unrelated argument
	changes elsewhere.
	[a810fe9e4894]

	* tools/hatari-profile.py:
	minor output improvements
	[dab21ae1b46e]

	* tools/hatari-profile.py:
	improve output handling and remove dead code
	[813c0e02087b]

	* tools/hatari-profile.py:
	refactor symbol & memory area handling to separate class
	[d96f9b5fc13b]

	* tools/hatari-profile.py:
	add second method for call address resolving

	- instruction count for first instruction in function can be used
	as a call count, with that one can provide call count lists also
	without caller profile information
	- fixed resolving address to a preceeding symbol (visible in stats
	and callgraphs)
	- continued item field handling generalization, dsp cycle
	differences field has now correct heading
	[0b16216700d8]

2013-02-17  Laurent Sallafranque

	* src/falcon/dsp_cpu.c:
	fix 2 DSP timings problems:
	- L access to external memory was taking 2 cycles too much
	- jmp with immediate adress in external memory too
	[b8a5a1f287d1]

2013-02-17  Eero Tamminen

	* src/debug/profile.c, src/falcon/dsp.c:
	profiling info is collected after instruction has been executed

	This is to be able to collect all relevant information. At that
	point PC is on next instruction and profiling code needs to store
	and deal with previous PC value.

	Change DSP update also to be called like that + do related profiling
	code changes.
	[0e39ef4c0f60]

	* doc/release-notes.txt, src/debug/breakcond.c, src/debug/profile.c:
	Fix profiler usage in debugger files invoked by breakpoints

	Allows profiling automation by chaining breakpoints.
	[c422aff63049]

2013-02-16  Eero Tamminen

	* doc/release-notes.txt:
	update release notes (and capitalize all items for consistency)
	[342be5cd19f4]

	* src/debug/profile.c, tools/hatari-profile.py:
	add processor speed to profile data & post-process it

	*INCOMPATIBLE PROFILE DATA CHANGE*
	-> profiler and post-processor need to be both either older or
	newer than this commit

	Post-processing:
	- generalize code for handling memory areas and move really Hatari
	specific options (disassembly format & memory areas) to a subclass
	- start generalizing profile item count handling
	- parse and store processor speed information
	- based on that, add time information to callgraph nodes and symbol
	lists

	Profile data saving:
	- output processor speed info
	- change memory area identifiers to such that they can be used as
	symbols (no spaces) and remove RAM area
	[80ce1e22bfd5]

	* src/debug/profile.c:
	fix profiler's suspicious cycles warnings:

	- give correct (=previous) PC address in message
	- STOP instruction can have arbitrary cycles values, don't report
	large values for that
	[15bfd1841794]

2013-02-15  Eero Tamminen

	* src/debug/profile.c:
	add time info to profile stats

	(and show the memory areas in the address order)
	[9a9c44adb88f]

	* src/debug/profile.c:
	Fix CPU cycle counting when DSP enabled + some code cleanup
	[f97aba0cd462]

	* src/debug/debugInfo.c, src/falcon/dsp.c, src/falcon/dsp.h:
	add "info dsp" command (shows e.g. stack content)
	[3ddc10dc970f]

2013-02-14  Eero Tamminen

	* tools/hatari-profile.py:
	major improvements to the profile data post-processor

	- add callgraph output and some filtering options to control it
	- add top function call count list
	- add --limit option to limit lists based on function percentages
	(and what gets emphatized in callgraphs)
	[03da50aaed18]

2013-02-12  Eero Tamminen

	* tools/hatari-profile.py:
	improve symbol handling and don't list empty values

	symbol handling:
	- GCC local symbols can be prefixed with [$.]
	- object file name symbols can have [.-] in them
	- more robust object file name test
	- don't show warnings when changing symbol:
	  - to a one with or without (short) prefix
	  - for object file name
	[0a61a075c21b]

	* src/debug/profile.c:
	fix compiler warnings / DSP value overflow check

	max_cycles needs to be 64-bit as cycles counter for DSP is 64-bit
	(it's 32-bit for CPU to save memory).

	Added ifdef as cache misses are stored only for WinUAE.
	[c50c2840640c]

2013-02-11  Eero Tamminen

	* tools/hatari-profile.py:
	pylint warning fixes & profile doc updates
	[520bf534286b]

	* src/debug/68kDisass.c:
	fix disassembly column changing function

	Not all of the new column values were initialized.

	Depending on stack content, this could cause disassembly to segfault
	with profile disassembly output (which is currently only thing
	changing the columns).
	[3aaa293359f0]

	* doc/release-notes.txt:
	update release notes
	[05cdba686ddd]

	* src/falcon/hostscreen.c, src/includes/resolution.h,
	src/resolution.c, src/screen.c:
	fix max resolution handling for ST mode
	[49221d1651bc]

	* doc/release-notes.txt:
	update release notes
	[672934113016]

	* src/falcon/nvram.c, src/reset.c, src/vdi.c:
	setup NVRAM video mode based on VDI mode, when in VDI mode

	Based on patch by Vincent Rivière which makes VDI mode work properly
	with EmuTOS under Falcon emulation.

	It doesn't change the situation for real TOS:
	- TOS v3 still doesn't work with monochrome VDI modes with height <
	480.
	- TOS v4 still doesn't work with VDI mode which sizes are >32kB.
	[285a171457c1]

	* tools/hatari-profile.py:
	make usage info also whole script doc
	[155a2f47cfa6]

	* tools/hatari-profile.py:
	prepare post-processor for callgraph addition

	- add callee/caller information parsing
	- move statistics to separate class
	- move totals summing to instructions class
	[8e219c54209b]

2013-02-06  Eero Tamminen

	* src/debug/profile.c, src/debug/symbols.c, src/debug/symbols.h:
	symbol address caller tracking for CPU & DSP profiler

	Callers to addresses which have symbols associated with them, are
	tracked and separate call counts are kept for each. This
	information is output if profiler 'addresses' command output goes to
	a file, and with the separate 'callers' command.

	Caller information is required for being able to get callgraphs for
	the executed code.
	[b0b3855641a0]

2013-02-05  Eero Tamminen

	* src/falcon/nvram.c:
	remove (now redundant) nvram.c Dprintf defines
	[d1a5fd7673d7]

2013-02-04  Eero Tamminen

	* src/includes/vdi.h, src/vdi.c:
	prevent bad ratio still giving too large values

	also, with VDI size alignment, smallest size can be ST-low.
	[568b370ceb03]

	* src/includes/vdi.h, src/screen.c, src/vdi.c:
	limit VDI screen size to 300kB

	This allows slightly larger resolutions while reducing Hatari memory
	usage and making sure that selected VDI resolution works e.g. in
	EmuTOS and older TOSes.
	[3d35685fbce3]

2013-02-03  Eero Tamminen

	* src/debug/log.c, src/debug/log.h, src/falcon/nvram.c:
	add run-time trace support for NVRAM reads & writes
	[187c3f4ba6fa]

	* src/vdi.c:
	fix comment
	[aa960e04a9aa]

2013-02-02  Laurent Sallafranque

	* src/falcon/dsp_cpu.c:
	fix: simultaneous access to external X and Y memory cycles was wrong
	(thanks to Doug For this)
	[f9b90a3c6529]

2013-02-01  Eero Tamminen

	* src/debug/profile.c:
	correct CPU area calculations

	(should have been updated when TOS data was moved before Cartridge
	data, several commits ago.)
	[76cf815555ee]

	* src/debug/profile.c, src/debug/profile.h, src/falcon/dsp_disasm.c:
	use 64-bit variables for DSP instruction & cycle counts

	because this needed adding separate DSP area function, I could add
	also the cycle diff sum information to statistics output.
	[e162c2712aca]

2013-02-01  Laurent Sallafranque

	* src/cpu/newcpu.c, src/includes/m68000.h:
	change: take into account the 68030 cycles in cache mode ON
	[5a63aa977dfb]

	* src/falcon/dsp_cpu.c:
	fix: extra access to external memory after the first one cost 2
	cycles instead of one (thanks to Doug Little for the TIP)
	[622e01afef0b]

2013-02-01  Eero Tamminen

	* doc/release-notes.txt, src/debug/breakcond.c, src/debug/debugcpu.c,
	src/debug/debugdsp.c:
	make breakpoints silent on 'n' command
	[71e0b614e44c]

	* tests/debugger/test-dummies.c:
	update debugger tests to recent changes
	[5e6e15d9c82b]

	* doc/release-notes.txt:
	update release notes, put profiler and windows changes under their
	own headings
	[50ab066f2872]

	* src/debug/profile.c:
	try at working around wrong cycles diff value
	[85e65361fd09]

	* src/gui-win/opencon.c:
	update includes also
	[0aef18a3c0cf]

	* src/configuration.c, src/gui-win/opencon.c,
	src/includes/configuration.h, src/options.c:
	add -W for opening log window on Windows, fixed(?) Windows stderr
	redirection
	[bc086ca89534]

	* src/debug/profile.c, src/debug/profile.h, src/falcon/dsp_disasm.c:
	instead of min/max DSP cycles, show diff of them

	post-processor can output DSP cycle diffs (use of different memory
	areas/registers) as "cache misses".
	[331dbec754bf]

2013-01-31  Eero Tamminen

	* src/debug/profile.c, src/debug/profile.h, src/falcon/dsp_disasm.c:
	separate CPU & DSP profile data structures, add min/max DSP cycles
	info

	using separate structures allows providing different info for CPU
	and DSP
	[cc810af306ca]

	* tools/hatari-profile.py:
	adapt to any number of items in profile

	(currently processes up to 3 of them, but doesn't throw exception if
	there are more)
	[7849c0f07658]

	* tools/nm-symbols-cleanup.sh:
	helper script to cleanup MiNT 'nm' output for symbols command
	[d9c87d1f668d]

	* tools/hatari-profile.py:
	fix memory area symbol assignment

	(depends on previous profile.c update)
	[46e0dc036194]

	* src/debug/profile.c:
	output profile addresses in memory order

	(previously cartridge area came before ROM TOS)
	[fc24052241c7]

	* tools/hatari-profile.py:
	fix post-processor exceptions
	[66ec14d4ad90]

	* src/debug/symbols.c:
	object file symbol names can contain '-' characters
	[8c3d7588c70a]

	* tools/hatari-profile.py:
	symbol check improvements

	- silently ignore duplicate symbol info
	- warn about consequences of having same symbol name for multiple
	addresses (= overriding symbol info)
	[c4a4ec506735]

	* tools/hatari-profile.py:
	skip memory area checks for DSP profiles
	[0f25b499decd]

	* tools/hatari-profile.py:
	profile file and output handling imporovements

	- automatically identify whether profile is for DSP or CPU based
	on new profile header
	  -> removed "-d" option
	- separate class for handling file & user output
	- exit on first error
	- if there's no other symbol, collect stats under generic memory
	area (RAM, text section, TOS ROM, Cartridge ROM) symbols
	[e675970e0a39]

	* src/debug/profile.c:
	add profile identifier to profile file
	[12a6da6a7d56]

2013-01-30  Eero Tamminen

	* doc/release-notes.txt:
	add recent changes to release notes
	[4668dded703c]

	* tools/hatari-profile.py:
	support DSP profile output, with -d option
	[618eb9d430d0]

	* tools/hatari-profile.py:
	improve symbol addresses handling

	- accept hex addresses with and without 0x prefix (EmuTOS .sym
	files have prefixes)
	- igore object file names if there's already symbol name for that
	address
	- take note which symbols were taken from symbols file, which ones
	from profile data
	- add function addresses to lists for functions which names were not
	in the profile data
	[273fb1e47588]

	* tools/hatari-profile.py:
	remove mins as useless and add max value address
	[e7d7ec1b0923]

	* tools/hatari-profile.py:
	add instruction statistics output
	[cadc03ee0983]

	* src/debug/profile.c:
	cycles information is for previous instruction, compensate
	[fc43c1919409]

	* tools/dsp-lod-symbols-convert.sh:
	preliminary DSP LOD -> symbols file convertor
	[391d95be4c57]

	* src/debug/profile.c:
	fix define check
	[4f7726c1cfaf]

	* src/debug/profile.c:
	cycles counter seems cumulative, compensate in profiler
	[9f32e52a9eff]

	* tools/hatari-profile.py:
	fix profiler exception + disable debug output
	[c673c9554622]

	* tools/hatari-profile.py:
	first version of Hatari profile data post-processor
	[91159729a47f]

	* src/debug/profile.c:
	output TOS/RAM/TEXT/Cartridge addresses to profile data

	profile data post-processing assume TOS addresses are absolute and
	program TEXT segment addresses are relative so it needs to know
	where those are.
	[841b62a4ec5c]

	* src/debug/breakcond.c, src/debug/debugInfo.c, src/debug/debugInfo.h:
	add TEXTEnd debugger variable (last address of program text segment)
	[91c34a9c6134]

2013-01-29  Eero Tamminen

	* src/debug/symbols.c:
	symbols command: offsets can be given for data and bss in addition
	to text
	[ae2a024e97aa]

2013-01-28  Eero Tamminen

	* src/debug/profile.c:
	assign DSP cycles cost to previous instruction

	this is because debugger is called before DSP instruction is
	executed i.e. cycles information is for the previously executed
	instruction
	[82fb7d79f349]

	* src/joy.c:
	fix const warning introduce by previous joy.c commit
	[801c9f81debd]

	* src/debug/68kDisass.c:
	minor improvements to disassembler text file reading

	- correct ftell() error checking
	- free buffer on error exit
	- remove redundant frees on file read function fail
	- ANSI-C variable declarations
	[a2f0dc4f1d12]

	* src/includes/joy.h, src/joy.c:
	fix mudflap warning in joy axis mapping code

	With some rewriting:
	- Moved the structs to joy.c as they aren't used by anything else
	- Used const char pointers for name string
	- Used array size as loop exit condition instead of string checking
	[49285266aa38]

	* src/debug/68kDisass.c:
	fix mudflap warning: stack buffer accessed from outer scope

	additionally, remove sp variable shadowing (which confused the issue
	how much up the stack buffer usage goes).
	[1db010f1f13e]

	* tools/devpac3-symbols-convert.sh:
	Devpac 3 listing symbol table -> Hatari debugger symbols convertor
	[a8658c94d48c]

2013-01-27  Eero Tamminen

	* src/debug/profile.c:
	use Cycles_GetCounter() to get CPU cycles

	It works for everything else except non-cycle exact WinUAE CPU core
	option. The main thing is getting this working for cycle exact CPU
	core...
	[6d8054f1cd9c]

2013-01-26  Eero Tamminen

	* src/debug/breakcond.c, src/debug/debugdsp.c, src/debug/history.c,
	src/debug/profile.c, src/falcon/dsp.c, src/falcon/dsp.h,
	src/falcon/dsp_cpu.c, src/falcon/dsp_cpu.h:
	support for specifying profile addresses output file

	This required adding FILE* option for DSP disassembly functions
	which caused updates in several places.
	[031e2313bd32]

	* src/cpu/newcpu.c, src/debug/68kDisass.c, src/debug/profile.c,
	src/debug/profile.h, src/includes/m68000.h, src/m68000.c:
	add CPU instruction cache miss profiling

	Note: CPU cache is supported only by WinUAE CPU core.
	[09178bc26b9d]

2013-01-26  Thomas Huth

	* src/acia.c, src/cart.c, src/cfgopts.c, src/cycInt.c, src/dmaSnd.c,
	src/fdc.c, src/gemdos.c, src/hd6301_cpu.c, src/hdc.c, src/ide.c,
	src/ikbd.c, src/ioMemTabFalcon.c, src/main.c, src/mfp.c, src/psg.c,
	src/screen.c, src/sound.c, src/unzip.c, src/video.c, src/xbios.c,
	src/zip.c:
	Fixed typos reported by codespell
	[5f752775d03e]

2013-03-05  Nicolas Pomarede

	* src/cpu/newcpu.c, src/cpu/newcpu.h, src/falcon/dsp.c,
	src/falcon/dsp.h, src/mfp.c, src/uae-cpu/newcpu.c, src/uae-
	cpu/newcpu.h:
	Remove DSP's IRQ from mfp.c and call DSP_ProcessIRQ() from the CPU
	emulation
	[8a53f5849c9b]

2013-03-04  Nicolas Pomarede

	* src/mfp.c:
	Clear IRQ in MFP_Reset()
	[b9e7a1f3b2b1]

	* src/includes/mfp.h, src/mfp.c:
	Remove MFP debug code and change VR description
	[12297107d383]

2013-03-03  Nicolas Pomarede

	* src/mfp.c:
	Add new interrupt related variables to the memory snapshot
	[df99d056cd97]

	* src/mfp.c:
	Remove old wrong/commented code
	[df216ace9fa0]

	* src/mfp.c:
	More compact versions of MFP_CheckPendingInterrupts() and
	MFP_InterruptRequest()
	[088c3385ad19]

	* src/uae-cpu/newcpu.c:
	Remove debug printfs
	[877d09d67cf2]

	* src/mfp.c:
	Indent comments
	[88b96b7c242f]

	* src/mfp.c:
	When an MFP interrupt happens, a delay of 4 cycles is needed before
	the CPU receives it (fix Audio Artistic Demo and the games Super
	Hang On, Super Monaco GP, Bolo)
	[aed047c66614]

	* src/uae-cpu/newcpu.c:
	Remove debug printf
	[e55dcee66530]

2013-02-25  Nicolas Pomarede

	* src/cpu/newcpu.c, src/includes/mfp.h, src/mfp.c, src/uae-
	cpu/newcpu.c:
	In the main CPU loop, use MFP_ProcessIRQ instead of
	MFP_CheckPendingInterrupts The MFP must only set IRQ to 0 or 1,
	without taking SR into account. That's up to the CPU emulation part
	to call MFP_Exception if MFP_IRQ=1 and SR allows it.
	[e4d838d59eb1]

2013-02-24  Nicolas Pomarede

	* src/m68000.c:
	Add comment about useless test to remove later
	[acbf9a5092fd]

	* src/mfp.c:
	Remove useless check for unused MFP bits
	[8b1f68189385]

	* src/mfp.c:
	MFP_UpdateIRQ should also be called when ISRx and IMRx are modified
	[c078b28a777b]

	* src/mfp.c:
	Rename MFP_UpdateFlags to MFP_UpdateIRQ and use
	MFP_CheckPendingInterrupts()
	[339d45cf4226]

	* src/cpu/newcpu.c, src/includes/mfp.h, src/mfp.c, src/uae-
	cpu/newcpu.c:
	In MFP_CheckPendingInterrupts, return the MFP interrupt number
	instead of true/false
	[4f0c947a8149]

	* src/uae-cpu/newcpu.c:
	Call do_specialties() only once per opcode, not for every expired
	internal timer
	[d2bc5a7d2362]

	* src/mfp.c:
	There can be only one MFP interrupt source at a time Only the
	highest priority pending interrupt should cause an exception The
	previous code was wrong as it would called several exceptions at the
	same time and stack them in the reverse order (lower prioriry first
	!)
	[cafa412936da]

2013-01-24  Eero Tamminen

	* src/debug/profile.c, src/debug/profile.h:
	fix typo, make functions static (as they aren't called outside of
	profile.c)
	[dffe52d0aef1]

2013-01-21  Eero Tamminen

	* doc/manual.html:
	LMC emu is stable, not experimental
	[ee1104daa49e]

	* src/debug/breakcond.c:
	fix copyright line
	[663a551f6e35]

2013-01-20  Nicolas Pomarede

	* doc/compatibility.html:
	Update notes for the demo 'V8 Music System'
	[25a5efed0eec]

	* src/acia.c:
	When ACIA's IRQ is set, the MFP IRQ should happen 4 cycles later
	This delay was measured on a real STF.
	[fa948c81a521]

2013-01-17  Thomas Huth

	* src/cpu/cpummu030.c:
	MMU030: Minor fixes (taken from upstream Previous emulator)
	[22b7347cd5d7]

2013-01-13  Thomas Huth

	* doc/compatibility.html, doc/manual.html:
	Final HTML clean-up: Documentation files are now valid HTML5.
	[bfd8c62a896a]

2013-01-13  Nicolas Pomarede

	* src/ikbd.c, src/includes/ikbd.h:
	Remove redundant variable KeyboardProcessor.bReset We always have
	bReset = !bDuringResetCriticalTime, so bDuringResetCriticalTime is
	enough
	[a32d1ace5c43]

	* doc/release-notes.txt:
	Update notes for ACIA/IKBD changes
	[5873a5709ead]

	* src/ikbd.c:
	Better timings for the $F1 byte returned by IKBD's reset command $80
	$01 This delay was accurately measured on a real STF with a custom
	program
	[b889b39f7d58]

2013-01-12  Thomas Huth

	* doc/compatibility.html, doc/manual.html:
	HTML cleanup: Replaced obsolete tags
	[2f70d2774044]

	* doc/compatibility.html, doc/manual.html:
	HTML cleanup: Now using proper table headers
	[fe5e9775d00a]

2013-01-13  Nicolas Pomarede

	* src/ikbd.c, src/includes/ikbd.h:
	For hardware and software reset, use the common code in
	IKBD_Boot_ROM()
	[801bd44a41ab]

2013-01-12  Nicolas Pomarede

	* src/cpu/hatari-glue.c, src/uae-cpu/hatari-glue.c:
	Call IKBD_Reset() when the RESET instruction is used
	[29e79b0f5c7b]

2013-01-08  Eero Tamminen

	* src/vdi.c:
	bugfix: show also appl_init() in AES traces
	[437a388e93e3]

2013-01-06  Nicolas Pomarede

	* src/ikbd.c:
	During IKBD reset, use the define IKBD_ROM_VERSION instead of 0xF1
	[7edf5a1632c6]

	* doc/compatibility.html:
	Add notes for the game "F29 Retaliator"
	[c3a2292fc972]

2013-01-05  Nicolas Pomarede

	* doc/compatibility.html:
	Add notes for the game "Warlock's Quest"
	[4e562d54ee91]

2013-01-04  Nicolas Pomarede

	* src/gui-sdl/dlgFileSelect.c:
	Fix a bug when remembering the fileselector scrollbar's position
	When using the fileselector in a large directory, then going to a
	small directory with <= 16 entries, the scrollbar was drawn at the
	wrong position.
	[b05f51174cd3]

2013-01-02  Nicolas Pomarede

	* src/ikbd.c:
	For the IKBD's output buffer, fix the check to send a new byte in
	TDR
	[f31979234f79]

	* src/ikbd.c:
	In the IKBD, don't ignore a new byte in RDR if the output buffer is
	not empty The IKBD can handle new byte asynchronously, even if the
	current command is not completed and still has some bytes to send
	(fix a regression in the game 'Zombi')
	[798aa5a0b334]

	* src/ikbd.c:
	Correctly check the IKBD's output buffer is not full when adding one
	byte
	[3fb423fda660]

	* src/ikbd.c:
	Remove old special case for the game 'Downfall' and update comments
	[982565195a9e]

	* src/ikbd.c, src/includes/ikbd.h:
	When the IKBD sends a packet, check there's enough room in the
	output buffer Some programs can crash or lock if the received packet
	is truncated or malformed due to the output buffer being full
	[0d37b6f36006]

2012-12-31  Nicolas Pomarede

	* src/ikbd.c:
	Prevent a possible buffer overflow when sending commands to the IKBD
	[38b507da21cb]

2012-12-30  Nicolas Pomarede

	* cmake/Toolchain-mingw32.cmake:
	Autodetect mingw's sysroot path
	[1d91985e1e45]

2012-12-30  Eero Tamminen

	* tools/zip2st.sh:
	zip2st: check that given zipfile exists
	[ed8fec2932c5]

2012-12-27  Nicolas Pomarede

	* src/dmaSnd.c:
	Add more traces when accessing dma sound / microwire
	[ba74a5ac5d5c]

2012-12-25  Nicolas Pomarede

	* src/ikbd.c:
	Update traces for IKBD's clock
	[01ff9c5f8a26]

	* src/ikbd.c:
	Add more traces for non supported IKBD commands
	[385ee0236e29]

	* src/ikbd.c:
	Return the correct number of bytes for IKBD's ReadMemory ($21), even
	if not implemented We can't return the real content of the IKBD's
	RAM, but at least we return the correct header + 6 empty bytes.
	[56a46f3b7eeb]

2012-12-24  Nicolas Pomarede

	* src/ikbd.c, src/includes/ikbd.h, src/video.c:
	Rewrite SetClock ($1B) and ReadClock ($1C) commands to behave like
	the real IKBD We don't use time()/locatime() anymore to update the
	clock ; it was not very portable on some OS and gave wrong results
	sometimes anyway. This new code is based on the HD6301 disassembly
	of the IKBD's ROM.
	[a5438d3f91c7]

2012-12-23  Thomas Huth

	* src/gui-sdl/dlgSystem.c:
	Fixed the length of dialog objects
	[06c7da4de001]

	* doc/compatibility.html:
	Added more Falcon demos that require an FPU. Thanks to Anders
	Eriksson for the hints!
	[8285e9fad0f6]

	* src/bios.c:
	Fixed format string (Clang compiler issued a warning)
	[be12eb28ae60]

2012-12-23  Nicolas Pomarede

	* src/ikbd.c:
	Better timings for the bytes returned by IKBD's commands $16, $1C,
	$87-$9A This delays were accurately measured on a real STF with a
	custom program
	[e0e2dd72877a]

2012-12-23  Thomas Huth

	* doc/compatibility.html:
	Added Captain Blood and Zombi to the compatibility list
	[fd71f9af7301]

	* doc/toc.js:
	Scroll to the right section in manual, second try
	[06b506a2bc1a]

2012-12-22  Thomas Huth

	* src/cpu/newcpu.c:
	MMU030: The MMU configuration exception must generate stackframe
	type 0x2. Thanks to Andreas Grabher for the hint!
	[3f7e214b3bf5]

	* src/cpu/cpummu030.c:
	MMU030: Reworked debugging messages
	[7cd019393a09]

2012-12-22  Nicolas Pomarede

	* src/midi.c:
	Also uses ACIA_AddWaitCycles when accessing MIDI, to take E Clock
	into account
	[8cbcceb56d6f]

	* src/acia.c, src/includes/acia.h:
	Use E Clock to correctly emulate the number of cycles when accessing
	ACIA This E Clock delay was accurately measured on a real STF with a
	custom program
	[e425ec2302fc]

	* src/includes/m68000.h, src/m68000.c:
	Add M68000_WaitEClock to count cycles needed to reach the next E
	Clock's edge When procesing HBL/VBL interrupts or ACIA accesses, the
	CPU needs to be synchronised with the E Clock, which is 1/10th of
	the CPU frequency.
	[80732d4a020e]

	* src/cycles.c:
	Add a comment for the case where MovepByteNbr==0
	[3b501f24cb5b]

	* src/cpu/gencpu.c, src/uae-cpu/gencpu.c:
	Also uses MovepByteNbr=0..4 for MOVEP M->R
	[8c723ae84390]

2012-12-22  Thomas Huth

	* doc/manual.html:
	Some more HTML fixes
	[4902c8ed0e69]

2012-12-22  Nicolas Pomarede

	* src/cpu/gencpu.c, src/uae-cpu/gencpu.c:
	For MOVEP R->M, set MovepByteNbr=0 after the last byte access This
	means that if MovepByteNbr=1..4, we're emulating a movep
	instruction. If MovepByteNbr=0 we're not emulating another opcode
	than movep.
	[347591bae8e9]

2012-12-22  Thomas Huth

	* doc/toc.js:
	Added a hack to force the browsers to show the right section when
	coming from an external link
	[dc5739a3e2b1]

	* doc/manual.html:
	Fixed bad HTML
	[c5381004050e]

2012-12-21  Eero Tamminen

	* doc/manual.html:
	test for external linkage to manual
	[c65baecb6a03]

2012-12-21  Nicolas Pomarede

	* src/acia.c, src/midi.c:
	Access to the ACIA's registers add a delay of 6 cycles per valid
	register This 6 cycles delay was accurately measured on a real STF
	with a custom program.
	[bc25b3804359]

2012-12-17  Eero Tamminen

	* doc/manual.html:
	update manual:

	- printer/RS-232/MIDI work fine, so remove experimental comment
	- finetune mouse and printer descriptions a bit
	[46a075ccf9fb]

2012-12-16  Eero Tamminen

	* doc/release-notes.txt:
	update release notes
	[3f0d182f1b20]

	* src/gui-sdl/dlgFileSelect.c:
	add CWD button to SDL fileselector
	[0becbbc32f54]

	* doc/hatari.1, doc/manual.html, src/options.c:
	fix -c option description and add more docs on Hatari configuration
	[d090fa137db8]

2012-12-13  Eero Tamminen

	* doc/emutos.txt:
	update doc to latest EmuTOS state (fsel_ex support/fix)
	[b061dd3b7905]

	* python-ui/CMakeLists.txt:
	only hatariui and debugui need to be installed executable

	(Debian Sid patch for Hatari set only conftypes as non-executable,
	but actually most of the python files don't need to be executable)
	[12fde5ca8a67]

	* doc/hatari.1:
	apply dash patch from debian sid

	(+ add blackslashes also to args added after that)
	[be69ef61b275]

2012-12-12  Nicolas Pomarede

	* src/ikbd.c:
	Fix an ACIA timing problem for IKBD commands returning more than one
	byte The 1st byte was returned immediatly, the delay was ignored.
	[e003f0053c3d]

2012-11-25  Thomas Huth

	* src/cpu/cpummu030.c:
	MMU030: Added MMU Configuration Exceptions. Sync'ed source code with
	Previous. Thanks to Andreas Grabher for the changes!
	[4fe8fcddbb63]

2012-11-20  Eero Tamminen

	* doc/release-notes.txt:
	release note about Pexec() fix, fit lines to 80 cols
	[577eaa8b1262]

2012-11-17  Eero Tamminen

	* doc/hatari.1, doc/manual.html:
	document new debugger commands and new disasm option
	[d965351b4ae6]

2012-11-16  Thomas Huth

	* src/cartData.c, src/cart_asm.s:
	Reworked pexec code in cartridge so that it does not destroys the
	command line
	[cb04d6e08831]

2012-11-16  Eero Tamminen

	* doc/release-notes.txt, src/debug/68kDisass.c:
	fix signedness issue in disassembler

	breaks disassembly output when compiled with PowerPC NetBSD using
	GCC 4.1.3
	[b7f62ef99f25]

2012-11-15  Thomas Huth

	* src/cpu/mmu_common.h:
	Disabled the THROW + CATCH debug messages
	[ef4abac4845f]

	* doc/compatibility.html:
	Bumped version number for X-Tasie in compatibility list
	[34e100dbd399]

2012-11-14  Thomas Huth

	* doc/compatibility.html:
	Updated X-Tasie in the compatibility list
	[e013fb5f16fd]

	* src/debug/log.h:
	TRACE_IOMEM_WR has to be declared as long-long to avoid bad sign
	extension
	[9b8489f75522]

	* src/falcon/videl.c:
	Make sure that Videl display height does not get negative
	[c53508439caf]

	* src/cpu/cpummu030.c:
	MMU030: The unaligned access functions must not destroy the fault
	address
	[402fa9c51afa]

	* src/cpu/cpummu030.c, src/cpu/cpummu030.h:
	MMU030: Improving try-catch in table search function. Patch taken
	from Previous (thanks to Andreas Grabher)
	[2ad6d8a9baee]

2012-11-13  Eero Tamminen

	* doc/release-notes.txt:
	update release notes
	[d389911ca1bb]

	* src/debug/debugcpu.c:
	better comment
	[b7ddf8c231b5]

	* src/debug/debugInfo.c:
	fix corner cases for "lock regaddr" command DSP handling
	[d261df121774]

	* src/debug/evaluate.c:
	handle 16-bit DSP register names correctly in evaluate command
	[badaf95300c7]

	* src/debug/debugui.c:
	fix: recognize DSP shortcut commands correctly

	otherwise expression evaluation can expand "PC" to CPU PC register
	instead of DSP one in DSP command.
	[4b5546684b5f]

2012-11-12  Nicolas Pomarede

	* src/includes/ym2149_fixed_vol.h:
	Add missing end of line at end of file (fix compiler warning)
	[ec535aca9caa]

2012-11-12  Eero Tamminen

	* src/debug/debugcpu.c:
	correct 'w' command info
	[71bb145bdcee]

	* src/debug/debugInfo.c:
	under MiNT, OS header differs from ROM one -> adapt info commands
	[e885fb6b6324]

	* src/gemdos.c:
	give info on GEMDOS vector

	(needed if one wants to re-enable GEMDOS redirection in debugger
	after MiNT overwrites it.)
	[15cfe34c3d3c]

2012-11-10  Nicolas Pomarede

	* doc/authors.txt:
	Add Paulo Simoes to list of contributors
	[7762f8c0116e]

	* doc/release-notes.txt, src/includes/ym2149_fixed_vol.h:
	Slightly better volume table for YM2149 emulation This table was
	measured by Paulo Simoes on a real ST, and converted to Hatari's
	format by David Savinkoff.
	[ca407fdf9e15]

	* doc/release-notes.txt:
	Add details for fixed games
	[84a21f5c8c06]

2012-11-09  Eero Tamminen

	* doc/release-notes.txt:
	add info no recent improvements to release notes

	(and rephrase some things better)
	[e5756e37b31c]

	* src/debug/68kDisass.c, src/debug/68kDisass.h, src/debug/debugui.c,
	src/options.c:
	add --disasm option

	Move flag parsing code from debugui.c to 68kDisass.c where the new,
	more extensive disassembly option parsing resides.
	[616b56695cb2]

	* src/configuration.c, src/debug/68kDisass.c, src/debug/68kDisass.h,
	src/includes/configuration.h:
	change nDisasmEngine to bDisasmUAE and add nDisasmOptions config
	options

	We're not going to have more disassembly engines, so bool is enough
	for engine selection and allows simplifying the checks.
	[d898bc092749]

	* src/debug/68kDisass.c, src/debug/68kDisass.h, src/debug/breakcond.c,
	src/debug/debugcpu.c, src/debug/history.c, src/debug/profile.c, src
	/uae-cpu/newcpu.c:
	simplify, check DisasmEngine option only in Disasm()
	[5f0f93c98eea]

2012-11-08  Eero Tamminen

	* src/configuration.c, src/debug/68kDisass.c, src/debug/breakcond.c,
	src/debug/debugcpu.c, src/debug/history.c, src/debug/profile.c,
	src/includes/configuration.h, src/uae-cpu/newcpu.c:
	add "nDisasmEngine" configuration option

	Markus' disassembly engine has nicer looking output than the UAE
	internal disassembler, and it's (now) also possible to configure its
	output to some extent within debugger.

	However, Markus' engine doesn't output all instructions correctly
	(MMU related ones, divul, maybe others), so it's better to leave the
	selection between them to user.
	[aff1f4f71ce3]

	* src/debug/debugcpu.c, src/debug/debugdsp.c:
	Fix: after breakpoint, debugger runs one step too few

	Breakpoints need to be checked before stepping count, so that it's
	breakpoint that hits on an address instead of first stepping
	dropping you to debugger and then breakpoint.

	However, when continuing from breakpoint, step count shouldn't be
	decreased before returning to emulation. Fix this by increasing
	count after breakpoint.

	When using "next" command to continue with a set breakpoint, zero
	any remaining step count.
	[a86d44425c89]

	* src/debug/breakcond.c:
	although breakpoint matches, rest of the breakpoints need to be
	checked too

	Breakpoint matching code returned after first breakpoint match. This
	had several problems:
	- if the first matching one was "trace" breakpoint, user wasn't
	dropped into debugger although other existing breakpoints would
	have done that
	- information for the other breakpoints that match at the same point
	wasn't updated (for counted breakpoints) or shown (for trace
	breakpoints)
	- "once" breakpoints wouldn't have been removed if something else
	was matched first

	This change will go check all breakpoints before returning (index
	for the last matched one).

	Logic for counted breakpoints was inverted, that's also fixed.
	[e1f7488a9601]

2012-11-07  Eero Tamminen

	* src/gemdos.c:
	output Pexec() args when tracing GEMDOS
	[08aa8ef2588b]

	* src/change.c:
	Also Blitter and CPU level changes require reset

	Otherwise things already using them and relying them can crash
	[e2fd8b15f0ce]

	* src/tos.c:
	fixes to TOS/machine/CPU type matching:
	- TOS 1.62 works only with 68000 (unlike TOS 1.06)
	- TOS v3(.06) doesn't work with 020, only 030/040
	- CPU level change requires call to M68000_CheckCpuSettings()
	[ffd5f66b87f8]

2012-11-06  Thomas Huth

	* src/cpu/cpummu.c:
	Fixed TRY-CATCH-THROW_AGAIN so that it now should work without try-
	stack underflow
	[148506c580a3]

	* src/debug/68kDisass.c:
	Fixed possible crash in disassembler (NULL pointer dereferenciation)
	[c83bf5ed8d98]

2012-11-05  Eero Tamminen

	* doc/release-notes.txt, doc/todo.txt:
	update release notes & todo for last debugger improvements
	[aba8fc7cb467]

	* src/debug/debugcpu.c, src/debug/debugdsp.c:
	"next" debugger command for CPU and DSP, using new CPU/DSP
	GetNextPC() functions

	This uses temporary conditional breakpoints so it's a bit verbose.
	[071fef422e96]

	* src/falcon/dsp.c, src/falcon/dsp.h:
	support for returning next DSP PC without disasm output
	[97d057207ac2]

	* src/debug/68kDisass.c, src/debug/68kDisass.h:
	support for returning next CPU PC without disasm output
	[4148340604fb]

	* src/debug/68kDisass.c, src/debug/profile.c, src/debug/profile.h,
	src/falcon/dsp_disasm.c:
	add percentage to profiling info in disassembly

	- this should make it more readable as numbers are aligned and
	smaller so they are easier to compare
	- counts and cycles are now shown in parenthesis
	[085e349a4e94]

	* src/debug/profile.c:
	remove hexdump column from profiler disassembly output (in an effort
	to try to fit it into normal console width)
	[535baf72ea6a]

	* src/debug/debugui.c:
	add 'setopt' command 'disasm' subcommand for setting output flags
	[cc0e2004a10d]

	* src/debug/68kDisass.c, src/debug/68kDisass.h:
	make disassembly output flags and columns internally configurable
	[f349cb3cae10]

2012-11-04  Nicolas Pomarede

	* src/acia.c:
	In ACIA's init, define Set_Timers callback only for IKBD, MIDI is
	not used yet
	[1dee6e90e31e]

2012-11-04  Thomas Huth

	* src/cpu/gencpu.c:
	Fixed bug in RTE: format must be unsigned to avoid that 'frame'
	value is calculated wrong.
	[47b8c4b79bca]

	* src/cpu/cpummu030.c, src/cpu/cpummu030.h, src/m68000.c:
	MMU030: Always use THROW for bus errors when MMU is enabled (patch
	mostly taken from Previous emulator - thanks to Andreas Grabher)
	[ee9e5ae15aa9]

2012-11-04  Eero Tamminen

	* src/debug/debugcpu.c, src/debug/debugdsp.c:
	add CPU and DSP single stepping commands 's' & 'ds'
	[9486bdbe2d63]

	* src/debug/debugui.c:
	improve debugger history handling:
	- don't duplicate entries taken from history
	- store also command continuing emulation
	[5f1f41ca5932]

2012-11-04  Thomas Huth

	* configure:
	Fixed bug in configure script
	[151a3e2a7c6d]

2012-11-03  Eero Tamminen

	* src/debug/debugInfo.c:
	fix array access in debug info command
	[3b84036044a3]

2012-11-04  Nicolas Pomarede

	* src/acia.c:
	For ACIA's timer, use a 8 MHz CPU reference clock and nCpuFreqShift
	We should not use MachineClocks.CPU_Freq, as Hatari currently relies
	on a fixed 8MHz CPU clock for all its timings.
	[f432a58f881e]

2012-11-02  Eero Tamminen

	* src/debug/profile.c:
	profiler improvements:

	- add "address" subcommand for CPU & DSP that shows all addresses
	and their instructions that were executed during profiling (in
	address-order, upto requested number of instructions)
	- remove max counts/cycles instruction stats info as (now) redundant
	- fix overflow detection for CPU cycles
	[7cb52df179dc]

2012-10-31  Nicolas Pomarede

	* doc/release-notes.txt:
	Add new ACIA to the release notes
	[3f6ab55cff74]

2012-10-30  Nicolas Pomarede

	* src/debug/log.c, src/debug/log.h, src/ikbd.c:
	Update trace levels for ACIA/IKBD
	[7c0ee75971d7]

	* src/acia.c, src/ikbd.c:
	Comment debug printf's
	[892f32e86d40]

	* src/acia.c, src/ikbd.c:
	Update acia/ikbd notes
	[b5720e34ccd8]

2012-10-29  Nicolas Pomarede

	* src/ikbd.c:
	Remove unused code
	[6ecba79f687a]

	* src/cycInt.c, src/ikbd.c, src/includes/cycInt.h,
	src/includes/ikbd.h:
	Remove old IKBD/ACIA's interrupt handlers
	[ee920a5f3d50]

	* src/ikbd.c:
	Remove old ACIA code included in ikbd.c, now we use acia.c
	[f48f1439c44c]

	* src/ikbd.c:
	Adapt IKBD's custom code for Froggies Over The Fence to the new
	acia/ikbd code
	[37e81c884d34]

	* src/acia.c:
	Change some ACIA's LOG
	[b2837526b8ad]

2012-10-27  Nicolas Pomarede

	* src/acia.c, src/includes/acia.h:
	In ACIA_Read_RDR, clear OVRN bit if SR was read
	[a8939fbca144]

	* src/acia.c:
	In ACIA_Write_CR, set new CR before updating IRQ
	[b01679329839]

2012-10-23  Nicolas Pomarede

	* src/acia.c, src/ikbd.c, src/includes/acia.h, src/includes/ikbd.h,
	src/reset.c:
	Restore ACIA's timer after a reset (fix Reset part in Dragonnels
	Demo)
	[1ae8dc236957]

2012-10-22  Nicolas Pomarede

	* src/ikbd.c:
	Fix IKBD's custom code for Dragonnels + add debug code to dump data
	sent with LoadMemory
	[740ea45b3d3a]

2012-10-21  Nicolas Pomarede

	* src/acia.c:
	Use the callback function instead of the direct call to start the
	ACIA's timer
	[086b8e72a092]

	* src/ikbd.c:
	Add the new IKBD's SCI part to the memory snapshot
	[b419cb82228f]

	* src/ikbd.c:
	In IKBD_SCI_Get_Line_RX, when an overrun happens try to process the
	current unread TDR
	[5288963622a0]

	* src/acia.c:
	In ACIA_Write_TDR, don't prepare a new transfer if we're in idle
	state, wait for next clock bit (fix the game USS John Young / FOF54)
	[7350e5200bf5]

	* src/acia.c, src/ikbd.c:
	In ACIA_Clock_RX, check for overrun after the last stop bit, not
	after the last data bit
	[ffa86562c108]

2012-10-19  Nicolas Pomarede

	* src/acia.c:
	Only prepare a new TX in ACIA if in idle state and TSR has not just
	been loaded
	[5a2ed5c116a5]

	* src/ikbd.c:
	Improve IKBD's SCI : send buffered TDR over TX line and init SCI
	during reset
	[e1b5023a456d]

	* src/acia.c:
	Fix IRQ bit after reading ACIA's RDR
	[9cebc4db8d2c]

2012-10-18  Nicolas Pomarede

	* src/acia.c:
	Fix IRQ bit in ACIA_UpdateIRQ
	[aaa7e52c10eb]

2012-10-14  Nicolas Pomarede

	* src/acia.c, src/includes/acia.h, src/memorySnapShot.c:
	Include ACIA data in the memory snapshot
	[95667e47c2a9]

2012-10-13  Nicolas Pomarede

	* src/acia.c, src/cycInt.c, src/includes/acia.h,
	src/includes/cycInt.h:
	In ACIA_Set_Line_IRQ_MFP, update MFP_GPIP and trigger an interrupt
	[358c39356777]

2012-10-12  Nicolas Pomarede

	* src/ikbd.c:
	Complete ACIA TX->IKBD RX and pass RDR to the commands' emulation
	layer
	[8ff71ecabdc8]

	* src/acia.c:
	Fix shifting in ACIA TSR and RSR
	[ece860b369e1]

2012-10-11  Nicolas Pomarede

	* src/ikbd.c:
	Add support for the IKBD's Serial Communication Interface and handle
	RX bit from the ACIA The SCI is similar to the ACIA, but with less
	parameters.
	[0c555439310e]

2012-10-09  Nicolas Pomarede

	* src/acia.c, src/ikbd.c, src/includes/ikbd.h, src/main.c:
	In IKBD_Init, connect the IKBD to the ACIA RX/TX lines
	[a9a7b0498895]

2012-10-08  Nicolas Pomarede

	* src/debug/log.c, src/debug/log.h:
	Add 'acia' and 'ikbd' keyword for the traces
	[e285f8c49158]

	* src/acia.c:
	Typo
	[85a6e5821e07]

2012-10-07  Nicolas Pomarede

	* src/ioMemTabFalcon.c, src/ioMemTabST.c, src/ioMemTabSTE.c,
	src/ioMemTabTT.c:
	Change ioMemTab* to use the new IKBD ACIA's handler for $fffc00/02
	[fe9b09c68ae1]

	* src/acia.c, src/includes/acia.h:
	Add read/write functions for the IKBD's ACIA at $fffc00/02
	[66c1af8c4b04]

	* src/main.c:
	Call ACIA_Init from Main_Init
	[207bdde675b9]

	* src/acia.c, src/includes/acia.h:
	Make ACIA_Array an extern variable
	[16cbcc30a30e]

	* src/acia.c:
	More traces for ACIA's RX
	[949b3e51e8e0]

	* src/acia.c, src/debug/log.h:
	Add traces for the ACIA
	[175ba1f68d47]

	* src/acia.c, src/includes/acia.h:
	Add Set_Timers callback function in ACIA_STRUCT
	[ffbdcb020150]

2012-10-06  Nicolas Pomarede

	* src/acia.c, src/cycInt.c, src/includes/acia.h,
	src/includes/cycInt.h:
	Add ACIA_Start_InterruptHandler_IKBD to start a timer at the
	expected baud rate
	[d6fdec366ea3]

	* src/acia.c:
	In ACIA_UpdateIRQ, complete the TX/RX conditions to set IRQ bit
	[143f72339ac5]

2012-10-04  Nicolas Pomarede

	* src/acia.c, src/includes/acia.h:
	In ACIA, improve RTS and CTS handling
	[0066fd64b356]

	* src/acia.c, src/includes/acia.h:
	ACIA : add Init, Master Reset, CR handling, default callback
	functions
	[6c07e390dc2e]

2012-09-29  Nicolas Pomarede

	* src/acia.c, src/includes/acia.h:
	Initial version of the ACIA's RX process
	[e1d52a7e8415]

2012-09-28  Nicolas Pomarede

	* src/acia.c, src/includes/acia.h:
	Initial version of the TX process
	[46fc27c94ce9]

	* src/CMakeLists.txt:
	Add acia.c
	[20dac429131f]

2012-10-29  Thomas Huth

	* src/cpu/cpummu030.c:
	MMU030: Flush ATC during cold reset
	[dab3dd4e3a38]

	* src/cpu/cpummu030.c, src/cpu/cpummu030.h, src/cpu/newcpu.c:
	Sync'ed the MMU030 reset function with Previous
	[79c2d80c6695]

2012-10-27  Eero Tamminen

	* src/vdi.c:
	fix debug output, AES intin/intout array sizes are in words
	[8cadaf4fa795]

2012-10-26  Eero Tamminen

	* doc/compatibility.html:
	add adebug reloaded. sort TT/falcon utilities by name
	[a4320ccb7ed2]

2012-10-23  Thomas Huth

	* src/cpu/cpummu030.c, src/cpu/cpummu030.h, src/cpu/newcpu.c,
	src/m68000.c:
	MMU030: Disable translation after reset. Address translation of the
	68030 is automatically disabled during reset. Now TOS can reboot
	again properly.
	[f21cce8515d9]

2012-10-23  Eero Tamminen

	* doc/release-notes.txt:
	update release notes
	[7bebc3a31f9d]

	* src/debug/profile.c:
	fix profiler assert

	One entry after profiler.size is allocated for counting invalid Pc
	entries, getting those shouldn't assert.
	[03e3437b8dac]

2012-10-22  Thomas Huth

	* doc/compatibility.html:
	Fixed the link for GEM-demo
	[339681bed8ec]

2012-10-22  Eero Tamminen

	* src/cpu/hatari-glue.c, src/debug/natfeats.c, src/debug/natfeats.h,
	src/uae-cpu/hatari-glue.c:
	bus error / priviledge exception when natfeats is used improperly
	[4ba39af76d46]

2012-10-21  Thomas Huth

	* doc/compatibility.html:
	Added some DHS demos that require an FPU
	[efba0c52654b]

2012-10-20  Eero Tamminen

	* doc/todo.txt:
	LMC1992/Microwire is done
	[1321d493b6f2]

	* src/cpu/hatari-glue.c:
	add VDI opcode check to WinUAE core similar to one in old UAE core
	[c3e35edaae93]

	* src/cpu/hatari-glue.c, src/cpu/hatari-glue.h:
	add natfeats support to WinUAE core (fixes its build)
	[00753ff2f8fd]

	* doc/todo.txt:
	update TODOs
	[ffaebb1838cd]

2012-10-20  Thomas Huth

	* src/hdc.c:
	Fixed ACSI debug print statement
	[8c66ab9ebad3]

	* doc/todo.txt:
	Removed the TT special shifter modes from the TODO list
	[15070741d6b1]

2012-10-20  Eero Tamminen

	* doc/hatari.1, doc/manual.html, doc/release-notes.txt,
	src/CMakeLists.txt, src/cart.c, src/configuration.c,
	src/debug/CMakeLists.txt, src/debug/natfeats.c,
	src/debug/natfeats.h, src/includes/configuration.h,
	src/includes/m68000.h, src/options.c, src/uae-cpu/hatari-glue.c, src
	/uae-cpu/hatari-glue.h:
	support for basic Native Features and config/option to
	enable/disable it
	[50958d336a1a]

2012-10-19  Eero Tamminen

	* doc/compatibility.html, doc/midi-linux.txt:
	add more links to docs
	[e43c5b34578d]

	* doc/release-notes.txt, src/vdi.c:
	show string arguments in AES traces
	[fe0320d25faa]

2012-10-14  Thomas Huth

	* src/cpu/cpummu030.c, src/cpu/cpummu030.h:
	MMU: Merged latest changes from Previous
	[b48c787ef1b0]

	* src/ikbd.c:
	Improved error checking in IKBD clock functions. localtime() and
	mktime() can return error codes which should be checked.
	[e91ff87020f5]

	* src/cpu/cpummu030.c:
	MMU: PTEST must return the physical address of the descriptor, not
	its content
	[06e1bdcd4dea]

	* src/cpu/newcpu.c:
	MMU: Fixed decoding of PLOAD and PFLUSH.
	[35659b714fe8]

2012-10-12  Thomas Huth

	* src/cpu/cpummu030.c, src/cpu/newcpu.c:
	Implemented bus error stack frame for 68030 MMU mode
	[07a1b76011a5]

2012-10-11  Thomas Huth

	* src/gui-sdl/sdlgui.c:
	Use unsigned char in text blitting function to avoid negative values
	for characters >= 128
	[4c45c5a1e52f]

2012-10-10  Thomas Huth

	* src/cpu/cpummu030.c:
	MMU: Another bugfix for PTEST. Cleaning debugging output. Thanks to
	Andreas Grabher for the patch.
	[a77ac3870fad]

2012-10-11  Eero Tamminen

	* python-ui/README:
	improve python ui readme
	[ffe4eb32057b]

	* doc/compatibility.html:
	add xmoon, ats works only with old core
	[fbdafca342e4]

2012-10-10  Eero Tamminen

	* src/cpu/newcpu.c:
	fix WinUAE CPU core write_log() debug output memory accesses

	use STMemory_Read* functions instead of get_long/get_byte functions
	because latter are subject to memory bank access restrictions and
	can trigger exceptions inside emulation.
	[6d3b55e1b0e5]

	* doc/release-notes.txt:
	add missing note for 1.6.2 release
	[a5f8e687fc55]

2012-10-05  Thomas Huth

	* src/cpu/cpummu030.c:
	MMU: Minor fix for PTEST and debugging messages. Thanks to Andreas
	Grabher for the patch.
	[13c4c9530359]

2012-10-04  Eero Tamminen

	* doc/compatibility.html:
	improve DSP comments, add comments about FPU, add Sweety Things
	[e9a1a4a887e7]

	* doc/emutos.txt:
	update EmuTOS compatiblity list
	[0700874bc3e4]

2012-10-03  Thomas Huth

	* doc/release-notes.txt:
	Added MMU030 to the release notes
	[199b1a9135e8]

	* src/cpu/cpummu030.c:
	Hack for using the MMU with our 'supervisor' SysMem. TOS places the
	MMU tables at address 0x700 - and for this address our
	implementation for SysMem currently always requires supervisor mode.
	Thus to get the MMU code working again, it now temporarily switches
	to supervisor mode. However, this is a hack and needs more
	investigation on a real Falcon to see what's happening there.
	[9d45b07de881]

	* src/cpu/cpummu030.c, src/cpu/cpummu030.h:
	Improved function code handling for 68030 MMU. Thanks to Andreas
	Grabher for the patch.
	[3699a903ccd5]

2012-09-27  Eero Tamminen

	* doc/manual.html:
	note about GEMDOS emulation dir sorting
	[3faa5ab1dfcf]

2012-10-03  Nicolas Pomarede

	* doc/release-notes.txt:
	Update release notes
	[1c66cb06f047]

2012-09-23  Eero Tamminen

	* doc/manual.html:
	update file selector usage info in manual
	[12c7adbc05d1]

2012-09-22  Nicolas Pomarede

	* src/sound.c:
	Use a 17 stage LFSR for the pseudo random noise generation (patch by
	David Savinkoff)
	[83ccf2853249]

2012-09-21  Nicolas Pomarede

	* doc/release-notes.txt:
	Update notes with fileselector's changes
	[9ed2e2241470]

	* src/gui-sdl/dlgFileSelect.c:
	In file selector, ensure scrollbar remains visible for large
	directory (this is a dirty fix, in that case the last files of a
	directory could still be difficult to reach using the mouse)
	[87155424986a]

	* src/gui-sdl/dlgFileSelect.c:
	Start from the previous Y position in the file selector when calling
	SDLGui_FileSelect()
	[fbb01995565e]

	* src/cpu/hatari-glue.c, src/uae-cpu/hatari-glue.c:
	When the RESET instruction is called, we must also reset the MFP and
	the FDC
	[35c8f4ef893f]

2012-09-20  Thomas Huth

	* doc/release-notes.txt, src/ikbd.c:
	Fixed IKBD set-clock function for Captain Blood. Apparently we've
	got to take care of the setting the "daylight saving time" field in
	the tm structure.
	[3d488c2a74b4]

2012-09-17  Thomas Huth

	* src/gui-sdl/dlgSystem.c:
	Removed the 040 from the MMU option
	[0a976075cf93]

	* src/cpu/newcpu.c:
	Use the right memory access functions in Exception_mmu
	[a797561062b0]

	* src/cpu/newcpu.c:
	Fixed the check for the MMU model. Thanks to Andreas Grabher for the
	hint!
	[4267d8f6063b]

2012-09-13  Eero Tamminen

	* doc/release-notes.txt:
	update release notes & fix typo
	[a9cbfa43e337]

	* doc/hatari.1, doc/manual.html, src/configuration.c, src/gemdos.c,
	src/includes/configuration.h, src/options.c:
	add --gemdos-case option for forcing file name case
	[242d3bdeada4]

	* doc/emutos.txt:
	update emutos compat list
	[a98c3ba0042b]

2012-09-10  Thomas Huth

	* src/cpu/cpummu030.c:
	Fixing limit check in MMU table search function. TOS 4.04 should now
	be bootable. Big thanks to Andreas Grabher for the patch!
	[07cd788b4fcb]

2012-09-10  Eero Tamminen

	* doc/release-notes.txt:
	update release notes
	[7737842efdfd]

	* src/gemdos.c:
	give warning if dir or pathname exceeds 8+3 chars
	[d1a2c4154d11]

2012-09-09  Thomas Huth

	* src/cpu/newcpu.c:
	Set BusErrorPC in new CPU core, too
	[9bf0bd25dbde]

	* src/cpu/cpummu030.c, src/cpu/cpummu030.h:
	Merged latest changes from Previous MMU branch
	[095995a024a2]

	* src/tos.c:
	Fixed the check for the MMU patch
	[db8551602eec]

2012-09-08  Thomas Huth

	* src/cpu/cpummu030.c:
	Fixed the copyright statement
	[2d79aa62d4a4]

	* src/cpu/newcpu.c:
	Use the right m68k_run function when MMU is enabled
	[b8c82046d4d4]

2012-09-07  Thomas Huth

	* doc/authors.txt, src/options.c, src/tos.c:
	Some more hacks needed for the 68030 MMU
	[e0c7c12b16b7]

	* src/cpu/CMakeLists.txt, src/cpu/cpummu.h, src/cpu/cpummu030.c,
	src/cpu/cpummu030.h, src/cpu/custom.c, src/cpu/gencpu.c,
	src/cpu/mmu_common.h, src/cpu/newcpu.c, src/cpu/newcpu.h,
	src/cpu/sysconfig.h:
	Integrated the 68030 MMU (unfortunately it is not working yet)
	[8521076211a3]

	* src/cpu/cpummu030.c, src/cpu/cpummu030.h:
	Added the basic code for the 68030 MMU emulation (not integrated
	yet). Thanks to Andreas Grabher for the code!
	[f4bf564cc1d9]

	* src/cpu/fpp.c:
	Silenced GCC 4.4 warnings about uninitialized variables
	[33ef4e7de43a]

2012-09-04  Eero Tamminen

	* doc/release-notes.txt:
	update release notes
	[917e036ddf4e]

	* doc/emutos.txt:
	update emutos debugging info
	[1fcf3b88fa75]

	* src/debug/console.c:
	xconout redirection handles characters with high bit set

	They seem to have high byte as 0xff, at least in Gulam, maybe due to
	sign extension.
	[264b71ac6c0c]

	* doc/emutos.txt:
	couple of extra demos compatible with emutos
	[15fe8e53e995]

	* doc/compatibility.html:
	couple of extra links to compatibility list
	[ab45e22f062b]

2012-09-01  Thomas Huth

	* .hgignore:
	Added conftypes.py to hgignore file
	[7af4dc590813]

	* Visual.Studio/VisualStudioFix.c, Visual.Studio/VisualStudioFix.h,
	src/audio.c, src/avi_record.c, src/bios.c, src/blitter.c,
	src/cart.c, src/cartData.c, src/change.c, src/clocks_timings.c,
	src/configuration.c, src/control.c, src/convert/high640x8.c,
	src/convert/low320x16.c, src/convert/low320x16_spec.c,
	src/convert/low320x32.c, src/convert/low320x32_spec.c,
	src/convert/low320x8.c, src/convert/low640x16.c,
	src/convert/low640x16_spec.c, src/convert/low640x32.c,
	src/convert/low640x32_spec.c, src/convert/low640x8.c,
	src/convert/macros.h, src/convert/med640x16.c,
	src/convert/med640x16_spec.c, src/convert/med640x32.c,
	src/convert/med640x32_spec.c, src/convert/med640x8.c,
	src/convert/routines.h, src/convert/vdi16.c, src/convert/vdi2.c,
	src/convert/vdi4.c, src/cpu/compat.h, src/cpu/hatari-glue.c, src/cpu
	/hatari-glue.h, src/cpu/maccess.h, src/cpu/memory.c,
	src/cpu/memory.h, src/cpu/options_cpu.h, src/cpu/sysconfig.h,
	src/createBlankImage.c, src/cycInt.c, src/cycles.c,
	src/debug/68kDisass.c, src/debug/68kDisass.h, src/debug/breakcond.c,
	src/debug/breakcond.h, src/debug/console.c, src/debug/console.h,
	src/debug/debugInfo.c, src/debug/debugInfo.h,
	src/debug/debug_priv.h, src/debug/debugcpu.c, src/debug/debugcpu.h,
	src/debug/debugdsp.c, src/debug/debugdsp.h, src/debug/debugui.c,
	src/debug/debugui.h, src/debug/evaluate.c, src/debug/evaluate.h,
	src/debug/history.c, src/debug/history.h, src/debug/log.c,
	src/debug/log.h, src/debug/profile.c, src/debug/profile.h,
	src/debug/symbols.c, src/debug/symbols.h, src/dialog.c, src/dim.c,
	src/dmaSnd.c, src/falcon/crossbar.c, src/falcon/crossbar.h,
	src/falcon/hostscreen.c, src/falcon/hostscreen.h,
	src/falcon/microphone.c, src/falcon/microphone.h,
	src/falcon/nvram.c, src/falcon/nvram.h, src/falcon/videl.c,
	src/falcon/videl.h, src/fdc.c, src/file.c, src/floppy.c,
	src/gemdos.c, src/gui-osx/AlertHooks.h, src/gui-osx/AlertHooks.m,
	src/gui-osx/CreateFloppyController.h, src/gui-
	osx/CreateFloppyController.m, src/gui-osx/PrefsController.h, src
	/gui-osx/PrefsController.m, src/gui-osx/Shared.h, src/gui-
	osx/Shared.m, src/gui-sdl/dlgAbout.c, src/gui-sdl/dlgDevice.c, src
	/gui-sdl/dlgFileSelect.c, src/gui-sdl/dlgFloppy.c, src/gui-
	sdl/dlgHardDisk.c, src/gui-sdl/dlgJoystick.c, src/gui-
	sdl/dlgKeyboard.c, src/gui-sdl/dlgMain.c, src/gui-sdl/dlgMemory.c,
	src/gui-sdl/dlgNewDisk.c, src/gui-sdl/dlgRom.c, src/gui-
	sdl/dlgScreen.c, src/gui-sdl/dlgSound.c, src/gui-sdl/dlgSystem.c,
	src/gui-sdl/sdlgui.c, src/gui-win/opencon.c, src/hd6301_cpu.c,
	src/hd6301_cpu.h, src/hdc.c, src/ide.c, src/ikbd.c,
	src/includes/audio.h, src/includes/avi_record.h,
	src/includes/blitter.h, src/includes/cart.h, src/includes/change.h,
	src/includes/clocks_timings.h, src/includes/configuration.h,
	src/includes/control.h, src/includes/createBlankImage.h,
	src/includes/cycInt.h, src/includes/cycles.h, src/includes/dialog.h,
	src/includes/dim.h, src/includes/dmaSnd.h, src/includes/fdc.h,
	src/includes/file.h, src/includes/floppy.h, src/includes/gemdos.h,
	src/includes/gemdos_defines.h, src/includes/hdc.h,
	src/includes/ide.h, src/includes/ikbd.h, src/includes/ioMem.h,
	src/includes/ioMemTables.h, src/includes/joy.h,
	src/includes/keymap.h, src/includes/m68000.h, src/includes/main.h,
	src/includes/memorySnapShot.h, src/includes/mfp.h,
	src/includes/midi.h, src/includes/msa.h, src/includes/options.h,
	src/includes/paths.h, src/includes/pixel_convert.h,
	src/includes/psg.h, src/includes/reset.h, src/includes/resolution.h,
	src/includes/rs232.h, src/includes/rtc.h, src/includes/scandir.h,
	src/includes/screen.h, src/includes/screenSnapShot.h,
	src/includes/sdlgui.h, src/includes/shortcut.h,
	src/includes/sound.h, src/includes/spec512.h, src/includes/st.h,
	src/includes/stMemory.h, src/includes/statusbar.h,
	src/includes/str.h, src/includes/tos.h, src/includes/utils.h,
	src/includes/vdi.h, src/includes/video.h, src/includes/wavFormat.h,
	src/includes/xbios.h, src/includes/ymFormat.h, src/includes/zip.h,
	src/ioMem.c, src/ioMemTabFalcon.c, src/ioMemTabST.c,
	src/ioMemTabSTE.c, src/ioMemTabTT.c, src/joy.c, src/keymap.c,
	src/m68000.c, src/main.c, src/memorySnapShot.c, src/mfp.c,
	src/midi.c, src/msa.c, src/options.c, src/paths.c, src/printer.c,
	src/psg.c, src/reset.c, src/resolution.c, src/rs232.c, src/rtc.c,
	src/scandir.c, src/screen.c, src/screenSnapShot.c, src/shortcut.c,
	src/sound.c, src/spec512.c, src/st.c, src/stMemory.c,
	src/statusbar.c, src/str.c, src/tos.c, src/uae-cpu/build68k.c, src
	/uae-cpu/fpp.c, src/uae-cpu/gencpu.c, src/uae-cpu/hatari-glue.c, src
	/uae-cpu/hatari-glue.h, src/uae-cpu/maccess.h, src/uae-cpu/memory.c,
	src/uae-cpu/memory.h, src/uae-cpu/newcpu.c, src/uae-cpu/newcpu.h,
	src/uae-cpu/options_cpu.h, src/uae-cpu/readcpu.c, src/uae-
	cpu/readcpu.h, src/uae-cpu/sysdeps.h, src/utils.c, src/vdi.c,
	src/video.c, src/wavFormat.c, src/xbios.c, src/ymFormat.c,
	src/zip.c, tests/tosboot/disk/common.c, tests/tosboot/disk/common.h,
	tests/tosboot/disk/gemdos.c, tests/tosboot/disk/minimal.c,
	tools/hmsa/floppy.c, tools/hmsa/floppy.h, tools/hmsa/hmsa.c,
	tools/hmsa/hmsa.h:
	Replaced 'GNU Public License' with the correct 'GNU General Public
	License'. Thanks to Teemu Hukkanen for the hint!
	[e39f2ac97eb5]

2012-08-18  Eero Tamminen

	* src/vdi.c:
	add intin array info to AES function traces
	[4a8eeaa12138]

2012-07-29  Eero Tamminen

	* tests/tosboot/disk/ahcc-gemdos, tests/tosboot/disk/ahcc-minimal,
	tools/hconsole/example-commands, tools/hconsole/hconsole.py:
	add "--conout 2" to Hatari remote API usage
	[9c996dcf4338]

	* doc/manual.html:
	add --conout to manual
	[7736a22fe593]

	* doc/hatari.1:
	fix typo
	[a5f84db3b84f]

	* doc/emutos.txt:
	emutos doc updates
	[fd70815b9f3d]

	* src/options.c, src/resolution.c:
	output what value was set by options if it's not otherwise shown by
	UI

	CPU level etc are shown in statusbar and window size is visible
	there too, but for several other options there's no feedback whether
	Hatari got correct values.

	This is important because their values are typically parsed with
	atoi(), but that stops parsing at first unrecognized value (e.g. 0x2
	is interpreted as 0).

	I noticed this when testing expression evaluation with debugger
	"setopt" command, "1+1" yields "$2" which is interpreted as 0...
	[82f318fac54d]

	* src/bios.c:
	fix Bios trace args parsing and be more verbose about Bios Setexe()
	args
	[cb56a1f6103e]

	* src/debug/debugui.c:
	fix illegal memory access in previous expression evaluation fix

	If none of given chars is found, strcspn() seems to return string
	len, not zero, this was undocumented in its the manual page.
	[ec2687b79c82]

2012-07-26  Eero Tamminen

	* tests/debugger/makefile, tests/debugger/test-dummies.c:
	fix broken debugger test building

	- add config.h and history.c for makefile
	- added needed extra fake stuff to test-dummies
	[afdfe859e066]

	* tests/debugger/test-breakcond.c, tests/debugger/test-evaluate.c:
	improved test comment
	[4ba906589f74]

2012-07-22  Eero Tamminen

	* doc/release-notes.txt:
	add --conout to release notes
	[cd248423871e]

	* src/debug/console.c, src/options.c:
	improved option descriptions
	[fe4db7ac4562]

	* doc/hatari.1, src/bios.c, src/debug/CMakeLists.txt,
	src/debug/console.c, src/debug/console.h, src/debug/debugcpu.c,
	src/includes/options.h, src/options.c:
	Much improved console output re-direction support

	- Instead of catching redirected bconout() BIOS function, catch
	calls to xcounout vector function directly as this will catch also
	EmuTOS panic and MiNT console messages, not just TOS Bios calls.

	- Add separate --conout Hatari command line option and internal
	(non-configurable) ConOutDevice variable for this.

	- Move VT52 emulation and other relevant functionality from bios.c
	to new console.[ch] file and enable/call this in/from debugcpu.c
	when a ConOutDevice is specified by user.
	[0388a39cc923]

	* doc/authors.txt, doc/release-notes.txt:
	update authors & release notes
	[0b5eabe36557]

	* src/control.c, src/debug/debugui.c, src/debug/debugui.h:
	Debugger expression evaluation improvements

	- Fix: expression expansion doesn't mess lines in command line
	history, expression evaluation always allocs new buffer

	- Rename DebugUI_RemoteParse() to more apt DebugUI_ParseLine(), as
	it can be used also internally in Hatari (mainly when temporarily
	asking Hatari C-code to output disassembly etc output with
	debugger at appropriate points)

	- Support expression expansion also in DebugUI_ParseLine().
	 -> means that they can be used also through the control socket,
	not just when using Hatari directly

	- Either single or double quotes can be used to mark expressions
	(as quoting double quotes from C-code is pain)
	[2de215cbb3af]

2012-07-22  Thomas Huth

	* doc/compatibility.html:
	Converted the compatibility list to HTML 4.01 Strict
	[7c42145da62c]

	* doc/manual.html:
	Sync'ed the parameter list with the manual, using the latest version
	of groff which generates somewhat better HTML than the version we
	used in the past (no more ugly HTML tables here). Also fixed some
	more transitional HTML so that the manual is now "HTML 4.01 Strict".
	[832fda8e31f7]

2012-07-21  Thomas Huth

	* doc/compatibility.html, doc/manual.html, doc/toc.js:
	Switched to a better TOC script and fixed internal links.
	[c2f5c1a30a07]

2012-07-20  Eero Tamminen

	* src/statusbar.c:
	fix titlebar max message len ("REC" text got overdrawn with low res
	no-borders)
	[4bf3634f7160]

	* src/CMakeLists.txt:
	fix comment typos
	[13e7758592b2]

2012-07-20  Thomas Huth

	* doc/compatibility.html, doc/manual.html, doc/toc.js, doc/update-
	index.sh:
	The index of the HTML documentation is now generated via a small
	JavaScript program. This way the index is always up-to-date, and we
	get rid of the old-fashioned named anchors in the HTML files.
	[72e48df295c7]

2012-07-17  Thomas Huth

	* src/video.c:
	Save new TT video settings to memory snapshots, too. Thanks to
	Cyprian Konador for the patch!
	[e7ac16e1aec0]

2012-07-14  Thomas Huth

	* src/falcon/videl.c, src/memorySnapShot.c:
	Fixed crash in Videl mode when loading memory snapshots. The
	videl_zoom structure must _not_ be saved, it contains malloc'ed
	pointers that became invalid when loading a snapshot. The
	information in this structure is regenerated during a resolution
	switch anyway, so we can simply omit it from the snapshots.
	[34c01e9910bc]

	* src/falcon/videl.c, src/includes/screen.h, src/video.c:
	Improved TT video emulation.
	- Extend the ST palette registers from 9bit to 12bit for ST modes
	- Duochrome mode instead monochrome for ST High;
	- Implementation of TT SampleHold i TT Hypermono video mode Thanks to
	Cyprian Konador for the patch!
	[5ae66837962d]

2012-06-24 : *** Version 1.6.2 ***

2012-06-24  Nicolas Pomarede

	* doc/compatibility.html, doc/doxygen/Doxyfile, doc/emutos.txt,
	doc/manual.html, doc/release-notes.txt, doc/todo.txt, hatari.spec,
	readme.txt, src/gui-osx/English.lproj/InfoPlist.strings, src/gui-
	osx/French.lproj/InfoPlist.strings, src/gui-osx/Info-Hatari.plist,
	src/includes/main.h:
	New release 1.6.2, increase version in corresponding files
	[84390a6f7417] [tip]

2012-06-23  Nicolas Pomarede

	* src/debug/breakcond.c, tests/debugger/test-dummies.c:
	typo AUE -> UAE
	[a7ec17bc2684]

2012-06-21  Eero Tamminen

	* doc/emutos.txt:
	update comments to v0.8.7 release
	[13f27005ff37]

2012-06-19  Eero Tamminen

	* src/gui-sdl/dlgFileSelect.c:
	fix potential double cursor on file selector errors

	(when it's called directly from keyboard shortcut, not from options
	dialog)
	[c36a1c3cbfe1]

	* doc/release-notes.txt, src/gui-sdl/dlgMain.c:
	fix double mouse pointer on snashot restore

	Thanks to Charlie Nolan for notifying about the issue and pointing
	out where the bug is!
	[e07eea78ad20]

2012-06-17  Nicolas Pomarede

	* src/sound.c:
	Improve YM2149's output with an anti-alias piecewise selective
	filter (patch by David Savinkoff)
	[65243a46bf4d]

2012-06-16  Eero Tamminen

	* readme.txt:
	add (build verification) note about TOS tester to readme
	[dffd611d2de7]

	* tests/tosboot/bootauto.st.gz, tests/tosboot/bootdesk.st.gz,
	tests/tosboot/disk/GEMDOS.PRG, tests/tosboot/disk/MINIMAL.PRG,
	tests/tosboot/disk/common.c, tests/tosboot/tos_tester.py:
	make sure all tester output gets to screen before screenshot
	[3859ba93e9f0]

2012-06-10  Nicolas Pomarede

	* doc/images/sound.png, doc/manual.html, doc/release-notes.txt:
	Update release notes and manual with --sound-sync option
	[426af0760de1]

	* doc/hatari.1, doc/manual.html, src/audio.c, src/configuration.c, src
	/gui-sdl/dlgSound.c, src/includes/audio.h,
	src/includes/configuration.h, src/main.c, src/options.c:
	Add --sound-sync option to synchronize video with OS audio if needed
	(patch by David Savinkoff) In case your OS audio's driver has some
	latency issues, this option can help keeping video and audio
	synchronized by speeding up or slowing down video emulation by very
	small amounts of microseconds.
	[0c0d05fc9480]

2012-06-09  Nicolas Pomarede

	* doc/todo.txt:
	For the todo : possible crashes with dma sound are only in Falcon
	mode, not STE.
	[ca7b99d807f7]

2012-06-09  Thomas Huth

	* src/cpu/newcpu.c, src/cpu/sysdeps.h:
	Fix cycle-exact counting in WinUAE CPU mode
	[77967f0f9102]

2012-06-09  Eero Tamminen

	* doc/manual.html:
	update features list
	[cf3679648104]

	* doc/todo.txt:
	todo note about DMA segfault
	[a7e8f429a978]

	* src/debug/symbols.c:
	accept "." in symbol names[1], tell addresses on multiple matches

	[1] useful when symbol list contains also object file names
	[74c4a402c2c3]

	* tests/tosboot/bootauto.st.gz, tests/tosboot/bootdesk.st.gz,
	tests/tosboot/disk/GEMDOS.PRG, tests/tosboot/disk/MINIMAL.PRG:
	update test binaries correspondingly
	[e893a3129213]

	* tests/tosboot/disk/common.c, tests/tosboot/disk/common.h,
	tests/tosboot/disk/gemdos.c, tests/tosboot/disk/minimal.c:
	wait for Enter, not any key

	Otherwise (space) keypress TOS tester uses to dismiss startup memory
	check can dismiss the test program when fast-forward is being used.
	[f32f0e185eec]

	* tests/tosboot/readme.txt:
	update TOS tester readme
	[0eb24ca73a50]

2012-06-06  Eero Tamminen

	* doc/compatibility.html, doc/release-notes.txt, doc/todo.txt:
	add misc missing items from mailing list to docs
	[6cb54e08e04e]

	* src/configuration.c:
	enable cycle exact by default for WinUAE

	user typically doesn't have this on his hatari config, and without
	this it would get eventually saved as false, which would be pretty
	bad for Falcon compatibility...
	[9649e5cea16f]

	* src/includes/unzip.h:
	remove the silly OF macros from unzip.h
	[c5da2828cefd]

2012-06-05  Eero Tamminen

	* doc/release-notes.txt:
	release notes update:

	- split DSP/WinUAE/oldCore changes
	- formatting improvements
	- add couple of new items
	[e66232c46ca7]

	* src/options.c, src/tos.c:
	WinUAE: when machine type changes, set FPU for TT, disable it for
	others

	Set also 24-bit addressing and disable 040 MMU when ST/STE/TT/Falcon
	machine type is set.
	[7336d2d8fb72]

	* src/change.c:
	reset emulation if FPU type changes
	[df7a2400f845]

	* src/configuration.c:
	default to Falcon with WinUAE, old CPU still defaults to ST
	[95f03eda407e]

2012-06-04  Eero Tamminen

	* tests/tosboot/tos_tester.py:
	test also (one) VDI mode
	[a312e1bc0937]

2012-05-31  Eero Tamminen

	* tests/tosboot/tos_tester.py:
	update tester checks as latest emutos snapshot fixed serial output
	[f8b7da6c61de]

2012-06-04  Thomas Huth

	* src/cpu/hatari-glue.c, src/cpu/newcpu.c, src/cpu/newcpu.h:
	Fixed Hatari's illegal opcodes in WinUAE mode
	[5b749a42805d]

2012-05-31  Thomas Huth

	* CMakeLists.txt:
	Abort build-configuration when zlib is missing
	[080d65ac4659]

2012-05-30  Eero Tamminen

	* tools/zip2st.1, tools/zip2st.sh:
	skip intermediate dirs in zip2st
	[00ff7f1f17b6]

	* tools/hmsa/hmsa.c:
	only last . in extension name should matter for hmsa
	[0644105db272]

2012-05-28  Eero Tamminen

	* src/includes/configuration.h:
	fix FPU type values (patch from Previous emulator)
	[6ccc4727441f]

	* src/gemdos.c:
	show drive mask with "info gemdos"
	[06bf8c690bed]

2012-05-28  Nicolas Pomarede

	* doc/release-notes.txt:
	Reorder changes into groups
	[b92c56fbca4e]

	* src/dmaSnd.c, src/sound.c:
	On STE, make DMA sound's volume louder compared to YM2149's volume
	(patch by David Savinkoff)
	[34b3666bd4c8]

2012-05-28  Thomas Huth

	* src/cpu/custom.c, src/cpu/newcpu.c:
	Hacked the plain 68000 modes of the WinUAE core to work with Hatari,
	too
	[a941332bd17b]

	* src/cpu/cpummu.c, src/cpu/gencpu.c, src/cpu/memory.h,
	src/cpu/newcpu.c:
	Fixed compiler warnings
	[fc374d482642]

	* src/m68000.c:
	Fix for GEMDOS HD not working anymore when changing WinUAE CPU
	level. The currprefs.cpu_level variable was not updated in WinUAE
	mode, causing GemDOS_OpCode() to read the wrong parameters from the
	stack.
	[4c9d176dbc37]

2012-05-28  Nicolas Pomarede

	* src/dmaSnd.c:
	Don't output any sound when LMC mixing is set to DMA, but DMA is OFF
	(patch by David Savinkoff)
	[f18ffd270c98]

2012-05-27  Nicolas Pomarede

	* doc/authors.txt:
	Add more items to David Savinkoff's list of contribution
	[08974ef4b727]

	* src/sound.c:
	Add comments describing the filtering at the output of the YM2149
	[75cfad140461]

2012-05-26  Nicolas Pomarede

	* src/sound.c:
	Better model when samples are played using "Quartet mode" (patch by
	David Savinkoff) In "Quartet Mode", samples are played by modulating
	the volume of the 3 YM2149 voices after setting the period to 0 and
	enabling tones on the 3 voices.
	[1ae3882984ca]

2012-05-25  Thomas Huth

	* src/cpu/cpu_prefetch.h, src/cpu/cpummu.c, src/cpu/cpummu.h,
	src/cpu/gencpu.c, src/cpu/m68k.h, src/cpu/newcpu.c,
	src/cpu/newcpu.h, src/cpu/sysconfig.h:
	Changed CR-LF line endings to normal LF mode
	[3340674305cb]

	* src/cpu/custom.c, src/cpu/custom.h, src/cpu/events.h,
	src/cpu/events_jit.h, src/cpu/events_normal.h, src/cpu/rpt.h:
	Removed/disabled some unused code
	[74f3e837b511]

2012-05-23  Eero Tamminen

	* tests/tosboot/disk/common.c:
	fix test variable name
	[5340f289e88c]

2012-05-22  Eero Tamminen

	* tests/tosboot/tos_tester.py:
	512kB isn't valid memsize to test for Falcon/TT
	[5962562d2f49]

	* python-ui/dialogs.py, python-ui/hatari.py, python-ui/release-
	notes.txt:
	python GUI support for --desktop-st and --force-max
	[90395a13fe6e]

	* python-ui/README:
	fix path comment
	[5ab09a1ca6a8]

2012-05-21  Eero Tamminen

	* python-ui/dialogs.py, src/gui-sdl/dlgScreen.c, src/gui-
	sdl/dlgSystem.c:
	update gui strings
	[8700e4f0a095]

	* tests/tosboot/tos_tester.py:
	add tester TODO
	[3dcb45c12e68]

	* doc/release-notes.txt:
	update release notes
	[8424fdd93df5]

	* tools/hatari-local-midi-ring.sh:
	fix script arg parsing
	[3f7d4a13b0ea]

2012-05-20  Eero Tamminen

	* tests/tosboot/disk/TEXT, tests/tosboot/disk/gemdos.c,
	tests/tosboot/tos_tester.py:
	check either serial or printer output depending on TOS version + add
	fast option

	Printer doesn't work for autostarted programs with some normal TOS
	version whereas serial works for all normal TOS versions, but not
	for EmuTOS. So added serial support and checking different device
	output based on TOS version.

	Added --fast option to run tests faster. If there are failures, one
	should check them without that (i.e. --fastfdc/--fast-forward).

	Fix to cleanup device output files before running next test. Old
	files were causing some fails.
	[e614612d5543]

	* tests/tosboot/bootauto.st.gz, tests/tosboot/bootdesk.st.gz,
	tests/tosboot/disk/GEMDOS.PRG, tests/tosboot/disk/MINIMAL.PRG:
	update test binaries accordingly
	[cd5254e62550]

	* tests/tosboot/disk/common.c, tests/tosboot/disk/common.h,
	tests/tosboot/disk/gemdos.c, tests/tosboot/disk/minimal.c:
	add console and serial output testing
	[6bb6a6d9d966]

	* tests/tosboot/readme.txt:
	minor tos-tester readme improvements
	[351618263bc9]

	* doc/todo.txt:
	add note about TOS startup printer issue + trivial text improvements
	[b4a5c8971302]

	* src/change.c, src/includes/rs232.h, src/rs232.c:
	allow just one of RS232 directions to be configured

	This is similar to the other devices and allows disabling device by
	giving empty path.

	With this, we need to create the RS232 input thread (which
	redundantly wakes up at 5Hz interval) only if RS232 input is
	actually configured in.

	Removed (now) redundant bConnectedRS232 variable.
	[7e01cbc6c2c9]

	* tools/hatari-local-rs232.sh:
	fix rs232 script arg passing and show hatari path
	[99fc2dacb6b5]

2012-05-19  Nicolas Pomarede

	* doc/compatibility.html, doc/release-notes.txt:
	Update docs with 'The Musical Wonders 1990' by Offbeat
	[63aabf41135a]

	* src/video.c:
	Allow bottom border to be removed when switch back to 50 Hz is made
	at cycle 504 (fix 'Musical Wonders 1990' by Offbeat)
	[941912e2e872]

	* src/video.c:
	Fix a potential wrong border removal when freq switch was at cycle
	512/0
	[a2b5d438fd4e]

2012-05-18  Eero Tamminen

	* src/xbios.c:
	fix Devconnect trace arg, add args for more DSP and palette XBios
	call traces
	[6d08a3d50c34]

	* doc/emutos.txt:
	more info on debugging + other doc improvements
	[0ca5bffa065b]

	* doc/emutos.txt:
	reason for Cubase crash from Vincent
	[424184e995c7]

	* doc/emutos.txt:
	update for latest emutos CVS snapshot state
	[aa64c85aa6be]

	* doc/compatibility.html:
	bragg256 doesn't anymore work with TT emu
	[6f1445443b19]

2012-05-17  Eero Tamminen

	* doc/release-notes.txt:
	add note about videl borders
	[9829f168f45b]

	* doc/midi-linux.txt:
	correct midi option name
	[f95069503e49]

2012-05-11  Thomas Huth

	* src/video.c:
	Removed the redundant VideoShifterByte variable
	[c6258e39d861]

	* doc/release-notes.txt, src/ikbd.c, src/memorySnapShot.c:
	Implemented IKBD set-clock function (fixes the game 'Zombi')
	[666085b99271]

2012-05-08  Nicolas Pomarede

	* doc/compatibility.html, doc/release-notes.txt:
	Update release notes for The Wave Of the Future by ICE and
	Electrocution I by Sphere
	[7b8d44ea6076]

	* src/cycles.c:
	For BCLR/BSET/BCHG, the write is effective at the end of the
	instruction, not 4 cycles before like MOVE (fix bclr/bset #1,$ff820a
	used for bottom border removal in Electrocution I by Sphere in Stax
	Menu 66 and top border removal in The Wave Of The Future by ICE)
	[ab6c12ce3253]

2012-05-05  Nicolas Pomarede

	* doc/release-notes.txt:
	Typo
	[e576d359ead0]

	* doc/release-notes.txt:
	Update release notes for JMP with illegal address exception
	[714d109e08d4]

	* src/uae-cpu/gencpu.c:
	Fix return PC when JMP generates an illegal address exception (fix
	Sherman Cracktro by The Ivisibles in No Extra V2 compilation)
	[c88d85808e2e]

2012-04-16  Eero Tamminen

	* doc/emutos.txt:
	update emutos compatilibity to latest CVS snapshot state
	[04da9da24462]

	* doc/compatibility.html:
	add gemdemo url
	[8501a44a9071]

2012-04-09  Nicolas Pomarede

	* src/includes/ym2149_fixed_vol.h, src/sound.c:
	For the volumes table [32][32][32] uses geometric mean interpolation
	(patch by David Savinkoff) Also fix a possible overflow when
	building the linear mixing table.
	[28e1fec33c79]

2012-04-07  Nicolas Pomarede

	* doc/compatibility.html, doc/release-notes.txt:
	Add 'Antiques' by Dune/Sector One to the docs
	[4b6cd4e92fdc]

2012-03-28  Nicolas Pomarede

	* doc/release-notes.txt:
	Update video changes for STE overscan
	[b50bd7f1194a]

2012-03-27  Thomas Huth

	* src/ioMemTabTT.c:
	0xff8783 should rather return 0 instead of 0xff. Thanks to Uwe
	Seimet for the hint.
	[55a80bd4b855]

2012-03-27  Laurent Sallafranque

	* src/falcon/videl.c:
	fix: videl borders can be negative. In this case, I fix them to 0
	[f1f5e40ef7dc]

2012-03-28  Nicolas Pomarede

	* src/video.c:
	On STE, hi/lo switch at cycles 508/4 is also adding 20 bytes to left
	border The switches at pos 504/4 and 508/4 are both giving 20 bytes
	more in the left border and a total of 224 bytes for an overscan
	line without stabilizer (instead of the usual 230 bytes with
	stabilizer on STF/STE)
	[cd9ff82e11a4]

2012-03-25  Eero Tamminen

	* doc/manual.html:
	improve manual's debugger & perf section texts a bit
	[b2305af6d946]

2012-03-17  Eero Tamminen

	* doc/release-notes.txt:
	update release notes
	[b57dd4f9eabb]

	* src/change.c, src/includes/printer.h, src/printer.c:
	remove double buffering from printer output

	simplified the code by removing the buffering code in Hatari and
	relying on C-library FILE buffering, which can easily be disabled
	with setvbuf(fp, NULL, _IONBF, 0);

	handle output file similarly to midi & rs232, allow disabling it by
	setting filename empty in Hatari command line.
	[4fdb81e989c8]

2012-03-15  Nicolas Pomarede

	* doc/release-notes.txt:
	Update release notes with Delirious Demos IV
	[d47f6ea98dea]

2012-03-13  Nicolas Pomarede

	* doc/compatibility.html:
	Update notes for the Delirious Demos IV
	[7b65acb88010]

	* src/video.c:
	On STE when writing to video address hi byte $ff8205, the value is
	masked with $3f (fix STE detection in the Delirious Demo IV)
	[73a4e06e5b7c]

2012-03-11  Eero Tamminen

	* src/bios.c, src/debug/log.c, src/xbios.c:
	fix warnings & errors when tracing is disabled
	[357c9f49ad7b]

	* src/debug/68kDisass.c:
	const offset variables to remove compiler warning from disassember

	(apparently then gcc can verify that array offsets are valid)
	[11e73a29f8fb]

2012-03-09  Laurent Sallafranque

	* src/falcon/videl.c:
	fix TT rendering.
	[e4412685ff0c]

2012-03-08  Eero Tamminen

	* src/statusbar.c:
	more debug/backtrace support to find out what things are telling
	statusbar conflicting info on screen size
	[8d28b0f3124c]

2012-03-07  Laurent Sallafranque

	* src/falcon/videl.c:
	fix a bug when displaying true color 40 colums and switching from
	borders to no borders.
	[1bf31f9f68e8]

2012-03-07  Thomas Huth

	* src/cpu/fpp.c, src/uae-cpu/fpp.c:
	Fixed format string for long doubles.
	[6c9f5bca4cae]

	* src/bios.c, src/xbios.c:
	Fixed compiler warnings. Clang complained about bad format
	parameters.
	[42931ca96f0c]

2012-03-07  Laurent Sallafranque

	* src/falcon/videl.c:
	fix left/right borders. This seems correct except for ST Low and med
	res.
	[9737e7bade6f]

	* src/falcon/videl.c, src/falcon/videl.h, src/ioMemTabFalcon.c,
	src/video.c:
	Move all IOmem Falcon registers into Videl + code cleaning.
	[22d3c9f30097]

2012-03-05  Laurent Sallafranque

	* src/cpu/falcon_cycle030.h, src/cpu/table68k:
	MMU patch for Motorola undocumented MMU instructions. Thanks to
	Andreas for the patch.
	[f96e0cfe4c43]

	* src/cpu/md-fpp.h:
	fix to_exten code. Thanks to Andreas for the patch.
	[e644515445ae]

2012-03-04  Eero Tamminen

	* doc/manual.html, doc/release-notes.txt:
	update release notes and manual in regards to debugging improvements
	[14ec78d97dd0]

	* src/falcon/dsp.c, src/falcon/dsp.h, src/falcon/dsp_cpu.c,
	src/falcon/dsp_cpu.h, src/falcon/dsp_disasm.c:
	DSP PC is 16-bit, propagate it and instruction len as such when
	disassembling
	[d9a5b4d00c64]

	* src/debug/debugdsp.c, src/falcon/dsp_disasm.c:
	move DSP profile output to end of disassembly instead of its own
	line

	This way it's more readable and dsp_symbols trace works ok with
	profiling data
	[f2fccbb456c9]

	* src/debug/68kDisass.c, src/debug/debugcpu.c:
	move profile output to end of disassembly instead of its own line

	The result is much more readable and with this dsp_symbols trace
	works correctly also when profiling is enabled.
	[f8cfd15f0bd9]

2012-03-04  Nicolas Pomarede

	* doc/release-notes.txt:
	Update release notes with FDC changes
	[0811192a2361]

2012-03-04  Eero Tamminen

	* src/bios.c, src/debug/debugInfo.c, src/includes/bios.h,
	src/includes/xbios.h, src/xbios.c:
	add "info" command opcode table otputs for BIOS & XBIOS too

	(gemdos, vdi & aes already had those.)
	[79c36bc180df]

	* src/gemdos.c:
	remove ifdeffed gemdos code and add hex opcodes to remaining trace
	output

	- the code has been ifdeffed out for years, it's time for it to go
	- all gemdos, bios and xbios calls traces show now hex opcodes,
	similarly to the "info" command opcode tables
	[8745c01c2717]

	* src/gemdos.c:
	show args for all gemdos calls with none, word or long arg, as hex
	[92c146e4b0fc]

	* src/xbios.c:
	show args for most XBIOS calls when tracing + refactoring:
	- do Params+=SIZE_WORD once in caller instead of everywhere
	- instead of build time XBIOS_DEBUG, do same with run-time tracing
	- show opcodes as hex

	Full call signature is shown for all XBios functions that take
	either:
	- no args
	- single word
	- single long/pointer
	- two words
	[8d35a4b59922]

	* src/bios.c:
	show args for all BIOS functions when tracing + refactoring:
	- +=SIZE_WORD is done in caller, once
	- everything returns false, so do it only in caller
	- show opcodes as hex
	[4cebf4f74d12]

	* doc/emutos.txt:
	update EmuTOS STE/Falcon compatibility for CVS version 20120301
	[1e213ce33af9]

2012-03-04  Nicolas Pomarede

	* src/psg.c:
	After a reset, there should be no drive selected FDC commands after
	a reset are supposed to be ignored until a drive is selected, for
	example we should ignore the 'step without update' command 0x20 in
	the middle of the 'Rising Force' demo (buggy loader) (fix 'Rising
	Force' by Holocaust)
	[93cf6e440bf9]

	* src/fdc.c:
	Print logical track and physical track in FDC traces
	[399b1457081e]

	* src/fdc.c:
	When no drive is selected, we should ignore FDC type I, II and III
	commands Hatari previously defaulted to drive A: in that case, which
	was wrong as seen with the 'Step without update' command used in
	Japtro's loader. (fix 'Japtro' by Holocaust)
	[f0dd0e53981a]

2012-03-03  Laurent Sallafranque

	* src/falcon/videl.c:
	add correct values for left/right borders.
	[51510dd89a00]

2012-03-03  Eero Tamminen

	* src/bios.c, src/xbios.c:
	show in traces arg for all bios & xbios calls taking WORD arg

	- Doing this generically allows removing the separate functions
	for that
	- I changed also args in Rwabs() output to be in the order they're
	in the that Bios() call, otherwise people don't know what the args
	are without looking into Hatari code
	- Add (visually aligned) call opcode to all bios&xbios trace outputs
	[b2f3384406d2]

	* doc/compatibility.html, doc/emutos.txt:
	update EmuTOS notes based on latest 20120301 CVS snapshot
	[db55a21ee3be]

	* doc/compatibility.html:
	fix notes on what falcon progs need
	[5c699eb0dfd8]

2012-02-28  Laurent Sallafranque

	* src/falcon/videl.c, src/falcon/videl.h, src/ioMemTabFalcon.c:
	added register $ff820a to Videl.
	[e31fccbd8947]

	* src/falcon/videl.c:
	fix VIDEL borders display bug when displaying in fullscreen + add no
	border with monochrome monitor.
	[b989bc1c9f87]

2012-02-27  Eero Tamminen

	* doc/manual.html, doc/release-notes.txt, doc/todo.txt,
	src/debug/debugcpu.c, src/debug/debugdsp.c, src/debug/log.c,
	src/debug/log.h:
	add tracing of debugger (CPU & DSP) symbol addresses

	If you have symbol output for your program, this can be used e.g. to
	get complete function trace for your program
	[823f998c121a]

	* doc/compatibility.html:
	typo
	[01baf1548ad9]

2012-02-26  Eero Tamminen

	* doc/compatibility.html:
	update compatiblity according mails on hatari-devel 2/2012
	[5bb19c725a99]

2012-02-26  Nicolas Pomarede

	* doc/release-notes.txt, src/ikbd.c:
	Update release notes with ACIA TX IRQ
	[0a241b3444e2]

	* src/ikbd.c:
	Handle TX interrupt in the ACIA (eg by sendding 0xb6 instead of 0x96
	after resetting the ACIA) (fix the game 'Hades Nebula')
	[accdc01d11b4]

2012-02-24  Laurent Sallafranque

	* src/falcon/videl.c:
	VIDEL: all borders are optimized now.
	[0d47e40bdf08]

	* src/falcon/videl.c:
	VIDEL: upper and lower borders optimisations in rendering zoom mode.
	Still to optimize: left/right borders
	[964ce681efcf]

2012-02-23  Laurent Sallafranque

	* src/falcon/videl.c:
	add left/right borders for the falcon + code optimized +
	ConfigureParams.Screen.bAllowOverscan
	[34160d3d5191]

2012-02-23  Eero Tamminen

	* doc/authors.txt, doc/release-notes.txt:
	update authors and release notes
	[b3e12d0149ce]

	* src/debug/profile.c:
	fix cycles profiling not to modify CPU state
	[3cc8936a504d]

2012-02-22  Laurent Sallafranque

	* src/falcon/videl.c:
	code cleaning, warnings removed.
	[faa81e9509f8]

2012-02-21  Laurent Sallafranque

	* src/falcon/videl.c:
	add upper and lower borders for VIDEL.
	[39c21bc81d17]

2012-02-20  Eero Tamminen

	* doc/compatibility.html:
	Fungle Beats needs WinUAE
	[b75097826a3c]

	* doc/emutos.txt:
	update EmuTOS falcon demo compatibility list + add notes for falcon
	games
	[29bdd07e0a68]

2012-02-19  Eero Tamminen

	* src/bios.c:
	interpret Bios VT52 clearscreen+home escape code as newline
	[05162b003e58]

	* src/xbios.c:
	add XBios VsetMode tracing and convert rest of XBios debug output to
	tracing
	[f8b620524b03]

2012-02-18  Eero Tamminen

	* doc/emutos.txt:
	update EmuTOS falcon games & apps compatibility list
	[b42f170e119b]

	* doc/compatibility.html:
	update falcon apps compatibility
	[dac5bcddc82f]

2012-02-17  Eero Tamminen

	* doc/compatibility.html:
	POV 136 comment
	[9a97c614746f]

2012-02-16  Eero Tamminen

	* doc/emutos.txt:
	update EmuTOS compat for ST, add note about EmuTOS version
	requirements

	For ST/STE emulation the 512kB version of EmuTOS shipped with Hatari
	isn't the best alternative. E.g. Checksum/Equinox Protracker 2 STE
	crashes with it while it works fine with 256kB version...
	[94d26c4b07ad]

	* doc/emutos.txt:
	update for latest EmuTOS CVS snapshot (with floppy fix) + more STE
	updates
	[c73797635c00]

2012-02-15  Eero Tamminen

	* doc/emutos.txt:
	update EmuTOS compat for STE
	[1db1470fc413]

2012-02-05  Laurent Sallafranque

	* src/reset.c:
	fix: DSP was not resetted after a Reset.
	[e9fa6df86f6a]

	* src/cpu/cpummu.c, src/cpu/cpummu.h, src/cpu/newcpu.c:
	Major add: 68040 MMU is now running like in WinUae or Aranym. Mega
	Thanks to Gilles Fetis for the patch.
	[20e3a5efb249]

2012-02-05  Nicolas Pomarede

	* src/includes/psg.h, src/psg.c:
	Rename NUM_PSG_REGISTERS (=16) to MAX_PSG_REGISTERS
	[80387355a06a]

2012-02-04  Laurent Sallafranque

	* src/cycInt.c, src/dmaSnd.c, src/falcon/crossbar.c,
	src/falcon/crossbar.h, src/includes/cycInt.h, src/ioMemTabFalcon.c:
	remove the new internal interrupt. I let dmaSnd.c multiplex the
	Microwire interrupt between dmasnd.c (Ste/TT emulation) and crossbar
	(Falcon emulation).
	[de0cefac4f14]

2012-02-03  Eero Tamminen

	* src/includes/psg.h:
	+ psg.h
	[be02d6922a06]

	* src/psg.c:
	replace PSG magic values with corresponding defines
	[2109a764bd07]

2012-02-03  Laurent Sallafranque

	* src/cycInt.c, src/falcon/crossbar.c, src/falcon/crossbar.h,
	src/includes/cycInt.h, src/ioMemTabFalcon.c:
	Correctly handle the Microwire emulation for Falcon.
	[2e9b38929fd2]

2012-02-03  Eero Tamminen

	* tests/tosboot/tos_tester.py:
	increase test startup timeouts to cover all boot configs
	[cde0ff986a65]

2012-02-02  Eero Tamminen

	* src/statusbar.c:
	fix statusbar assert + shorten machine names so they fit statusbar
	[a5696d38b5d7]

	* tests/tosboot/Makefile, tests/tosboot/bootauto.st.gz,
	tests/tosboot/bootdesk.st.gz, tests/tosboot/disk/TEST,
	tests/tosboot/disk/TEXT, tests/tosboot/disk/test,
	tests/tosboot/disk/text, tests/tosboot/floppy.st.gz,
	tests/tosboot/readme.txt, tests/tosboot/tos_tester.py:
	have separate floppy images for testing TOS <1.04 and newer

	floppy image for TOS <1.04 runs tester from autofolder, the one for
	newer TOS versions from DESKTOP.INF.

	To avoid potential issues with Mtools & FAT format, make the names
	of files copied to images upppercase.

	Minor Makefile improvements.
	[8098e3ad88c7]

	* tests/tosboot/disk/GEMDOS.PRG, tests/tosboot/disk/MINIMAL.PRG,
	tests/tosboot/disk/ahcc-gemdos:
	updated binaries
	[6bd3f1a7a964]

	* tests/tosboot/disk/ahcc-gemdos, tests/tosboot/readme.txt:
	update readme for previous TOS Tester changes
	[118411ec7034]

	* tests/tosboot/Makefile, tests/tosboot/disk/ahcc-build,
	tests/tosboot/disk/ahcc-gemdos, tests/tosboot/disk/ahcc-minimal,
	tests/tosboot/disk/common.c, tests/tosboot/disk/common.h,
	tests/tosboot/disk/gemdos.c, tests/tosboot/disk/gemdos.prj,
	tests/tosboot/disk/minimal.c, tests/tosboot/disk/minimal.prj,
	tests/tosboot/floppy/DESKTOP.INF, tests/tosboot/floppy/EMUDESK.INF:
	use separate program for non-gemdos testing to avoid modifying the
	floppy image:

	- the new test program name is MINIMAL.PRG
	- move code common to that and GEMDOS.PRG to common.[ch] files
	- adapt project files, hconsole scripts, *.INF files and Makefile
	accordingly
	- in Makefile check whether AHCC builds succeeded
	[308a2e0b60d9]

	* tests/tosboot/tos_tester.py:
	verify test program output files
	[f770347c18c2]

2012-02-01  Thomas Huth

	* doc/release-notes.txt:
	Updated release notes
	[b3e35352b8d7]

	* src/ioMemTabFalcon.c:
	Changed behavior of 0xff8924 - it's possible to write a value to
	this register
	[eed7d83c253a]

2012-01-31  Thomas Huth

	* src/ioMem.c:
	IO registers can only be read in supervisor mode. Thanks to Roger
	Burrows for the hint!
	[24e5558c93ee]

	* src/ioMemTabFalcon.c:
	The register ff8922 returns zeros on Falcon
	[810f251f3b79]

2012-01-31  Eero Tamminen

	* tests/tosboot/Makefile:
	don't update binaries when just the empty 'test' file timestamp
	updates
	[873560f8873b]

	* tests/tosboot/disk/GEMDOS.PRG, tests/tosboot/floppy.st.gz:
	update binaries
	[ed5117389a91]

	* tests/tosboot/disk/gemdos.c, tests/tosboot/tos_tester.py:
	fix midi fifo message handling, fix TOS tester outputs
	[e7fffd9b28ab]

	* tests/tosboot/disk/gemdos.c:
	add file copy, file access mode and truncate tests, update TODOs
	[14bddcaf3c7e]

	* tests/tosboot/Makefile, tests/tosboot/disk/test:
	add Makefile to generate test files and to run the tests

	(and empty "test" file used by test the test code)
	[dabbaa67db7c]

2012-01-30  Eero Tamminen

	* tests/tosboot/disk/ahcc-build, tests/tosboot/hdimage/DESKTOP.INF,
	tests/tosboot/hdimage/EMUDESK.INF:
	convert floppy ones when creating HD image
	[cdc91f004db2]

	* tests/tosboot/blank-a.st.gz, tests/tosboot/disk/GEMDOS.PRG,
	tests/tosboot/disk/ahcc-build, tests/tosboot/floppy.st.gz:
	update generated Atari binary content for the tester
	[64d3d9259e01]

	* tests/tosboot/disk/ahcc-build, tests/tosboot/readme.txt:
	add files section and otherwise update TOS tester readme
	[28a864b5e9fc]

	* tests/tosboot/disk/ahcc-build, tests/tosboot/tos_tester.py:
	support for floppy testing, save&output TOS test result report at
	end
	[549d95692b33]

	* tests/tosboot/disk/ahcc-build, tests/tosboot/disk/gemdos.c:
	output success only if everything done succeeds

	There's also some comments about what full program will do and some
	stubs that are ifdeffed out. For testing purposes it currently
	outputs failure.
	[a8dda2a555ff]

	* tests/tosboot/.hgignore, tests/tosboot/disk/.hgignore,
	tests/tosboot/disk/ahcc-build:
	ignore local/generated test files
	[6dd53157aaa2]

2012-01-29  Eero Tamminen

	* tests/tosboot/ahcc-build, tests/tosboot/disk/ahcc-build:
	move ahcc-build to disk/ where rest of build files are

	(additionally simplify it to AHCC being linked under disk/)
	[ce7c7a04877b]

	* tests/tosboot/hdimage/DESKTOP.INF,
	tests/tosboot/hdimage/EMUDESK.INF:
	add tester startup files for booting from HD image file
	[a394a97e087b]

	* tests/tosboot/floppy/DESKTOP.INF, tests/tosboot/floppy/EMUDESK.INF:
	add tester startup files for booting from floppy
	[df9a2c4857aa]

	* tests/tosboot/disk/text:
	add test text for future tester features
	[ce7e8564ea42]

2012-01-29  Nicolas Pomarede

	* doc/release-notes.txt:
	Update 'Operation Clean Streets' in the 'fixed games' list
	[ec839b480c06]

	* src/uae-cpu/gencpu.c:
	Add refill_prefetch for i_EOR to fix Operation Clean Streets self
	modified code This is an ugly hack, we need better prefetch
	emulation (switch to winuae gencpu.c)
	[9380ec22a5a3]

2012-01-29  Laurent Sallafranque

	* src/falcon/crossbar.c:
	add some more infos in crossbar traces.
	[b99c5536269e]

2012-01-29  Eero Tamminen

	* tests/tosboot/blank-a.st:
	sorry, didn't mean to add the uncompressed one, removing
	[6fdeb2366dd3]

	* tests/tosboot/blank-a.st:
	add blank floppy image needed by tos tester
	[9114dcb13ad3]

	* tests/tosboot/readme.txt, tests/tosboot/tos-tester.py,
	tests/tosboot/tos_tester.py:
	rewrite TOS tester:
	- what is tested is configurable with options and these sets are
	filtered through valid configs for given TOS versions
	- test success is checked based on test app succesfully writing to
	(MIDI) fifo, screenshot is just extra to verify the end results
	(e.g. error messages)
	[61c311cea94a]

	* tests/tosboot/ahcc-build, tests/tosboot/disk/GEMDOS.PRG,
	tests/tosboot/disk/gemdos.c, tests/tosboot/disk/gemdos.prj:
	add initial version of the Atari side of TOS tester
	[5cb89686fac5]

	* src/cfgopts.c:
	empty config option values: support for string types, warn for
	others

	With this improvement empty config string can be used to disable
	default midi input file setting and just set midi output file.

	It's also good to have warning for non-string config fields which
	are empty instead of just ignoring them like was done previously.
	[62ce5e32e03b]

	* tools/hconsole/hconsole.py:
	get rid of IOError exception also on hconsole's startup
	[aa7604915bc5]

2012-01-28  Laurent Sallafranque

	* src/gui-sdl/dlgSystem.c:
	MMU is only for the 68040 (added to the GUI)
	[3baf5edd0ac2]

	* src/cpu/newcpu.c:
	MMU=1 is only for the 68040 CPU. MMU is always active for the 68030.
	[62f69a0a4957]

2012-01-28  Eero Tamminen

	* src/change.c, src/configuration.c, src/includes/configuration.h:
	remove unused "bPrintToFile" config option
	[7a016a3a03c4]

	* doc/release-notes.txt:
	add some changes from hg shortlog to release notes
	[4d40621395cd]

2012-01-27  Eero Tamminen

	* python-ui/hatari.py:
	remove pipe close exception on Hatari UI startup

	On most distros Python handles that fine, it's just ugly output on
	console, but apparently on Fedora 16, it causes startup issues:
	http://www.atari-forum.com/viewtopic.php?f=51&t=22623
	[5c3e9eb201c7]

	* doc/release-notes.txt, python-ui/hatari.py, python-ui/release-
	notes.txt, src/change.c, src/control.c:
	hatari UI and hatari control socket support for file paths with
	spaces

	(UI code quotes spaces in filenames with '\' and Hatari option
	setting supports that now for control socket and debugger.)
	[a9d44fa21072]

2012-01-26  Eero Tamminen

	* doc/memory-usage.txt, doc/release-notes.txt, src/includes/vdi.h:
	Change max allowed VDI resolution from 1280x960 to 1920x1200
	[62fc48984d70]

	* doc/compatibility.html:
	update compat list
	[502031513c3f]

	* doc/release-notes.txt:
	update compat list
	[c6e22ccdcfee]

	* src/gemdos.c:
	handle special device names (CON:, AUX:, PRN:) in GEMDOS HD emu

	- pass them to TOS
	- add trace output for this
	- remove redundant parenthesis & slightly simplify drive check code
	[171fab783c00]

	* src/configuration.c:
	revert to v1.4 zoomed Videl window size preference which is close to
	ST window size
	[e2fbeb4c60df]

2012-01-24  Laurent Sallafranque

	* src/falcon/dsp_cpu.c:
	fix: Stack pointer is reitialized when a stack error occurs. This
	fix : Build in obsolescence, Llamazap cracked version, Yephya demo
	(which bugs later), Moktar Demo (which bugs later too).
	[5610e571f350]

2012-01-24  Eero Tamminen

	* tools/hconsole/hconsole.py:
	reduce 100ms wait between successive keypresses to 50ms
	[506f37c96501]

2012-01-24  Laurent Sallafranque

	* src/falcon/dsp_core.c:
	fix: DSP SSI was not completly reinitialized after a reset.
	[dd50700dc1b8]

2012-01-23  Nicolas Pomarede

	* doc/release-notes.txt:
	Update release notes for Hammerfist
	[924abb3aee3e]

2012-01-23  Eero Tamminen

	* tools/hconsole/example-commands, tools/hconsole/example-debugger:
	example script fixes for current Hatari
	[9550d7532e99]

2012-01-23  Nicolas Pomarede

	* src/ikbd.c:
	Enable mouse+joystick when commands 0x12 and 0x14 are received
	during IKBD's reset (fix fire button in the game Hammerfist)
	[49ba623cd264]

2012-01-22  Nicolas Pomarede

	* src/ikbd.c:
	Add some traces when bytes are sent to the IKBD during its reset
	phase
	[bd9256d2524d]

2012-01-22  Thomas Huth

	* src/gui-osx/CreateFloppyController.m, src/gui-
	osx/English.lproj/SDLMain.nib/designable.nib, src/gui-
	osx/French.lproj/SDLMain.nib/designable.nib, src/gui-osx/Info-
	Hatari.plist, src/gui-osx/PrefsController.h, src/gui-
	osx/PrefsController.m, src/gui-osx/SDLMain.h, src/gui-osx/SDLMain.m:
	Updating the OS X GUI to Jerome Vernet's latest level
	[0b930e4c32b8]

2012-01-22  Eero Tamminen

	* src/control.c, tools/hconsole/hconsole.py:
	improve hconsole / hatari control socket keypress handling for non-
	alphanumeric characters
	[eccfa00052c8]

2012-01-22  Nicolas Pomarede

	* src/ikbd.c:
	Add more traces for the IKBD reset command
	[09d1d98811e6]

2012-01-20  Eero Tamminen

	* src/cpu/md-fpp.h, src/cpu/newcpu.c:
	fix missing WinUAE prototype warning
	[27c02b434166]

	* src/cpu/cpummu.c:
	fix cpummu.c compiler warnings not related to format strings
	[b8c3d3800050]

	* doc/compatibility.html:
	more WinUAE/old UAE test results
	[038948d2a5e9]

2012-01-18  Eero Tamminen

	* doc/compatibility.html:
	updated compatibility list falcon programs list
	[80a23bb670f6]

	* src/cpu/md-fpp.h:
	fix compiler's variable aliasing warning in double conversion

	(can produce wrong code, especially with -O3)
	[97b34cd8c6df]

	* src/cpu/custom.c, src/cpu/custom.h, src/cpu/memory.h:
	move custom.c function declarations to custom.h, make things not
	used outside it static

	Added also TODO/info about moving also custom.c variable
	declarations to custom.h and for checking is_cycle_ce()
	[e4ea3e6c9ff7]

	* src/cpu/memory.c:
	remove redundant SDL_Quit() prototype from C-file
	[6767180b19f6]

	* tests/debugger/makefile:
	update mudflap comment in tests
	[efb1e75268d8]

	* src/gui-sdl/sdlgui.c:
	fix potential wrong memory access in GUI code

	(I think this is hard to trigger issue reported by mudflap.)
	[2acda29da368]

2012-01-17  Laurent Sallafranque

	* src/cpu/newcpu.c, src/m68000.c:
	fix : changing of CPU or computer via the GUI is now possible with
	WINUAE core
	[a2cf942c5ebd]

2012-01-15  Nicolas Pomarede

	* src/video.c:
	Remove another possible read above array's limit (see rev 3741)
	[f23414c121ab]

	* doc/release-notes.txt:
	Set release notes to 'development' version
	[893fc641cba4]

	* src/debug/debugui.c:
	Remove explicit variables initialization (bug was fixed in rev 3741)
	The out of array accesses in Video_StoreResolution were corrupting
	some variables in debugui.
	[2fe619ef95f2]

	* src/includes/screen.h, src/video.c:
	Remove a potential buffer overflow when storing resolution for each
	HBL When Hatari runs in color mode but switches to hi res for more
	than 1 VBL, Video_StoreResolution() would access memory outside
	HBLPaletteMasks[] and possibly overwrite other variables, eventually
	leading to some crashes (this is the case with the protection code
	used in the 'European Demos' and the 'Transbeauce 2' demo)
	[0b77816c4a8d]

2012-01-15  Eero Tamminen

	* src/includes/video.h, src/video.c:
	specify jitter array sizes in header to avoid mudflap warnings

	(unlike couple of UAE specific and ioMemST/STE/TT/Falcon arrays of
	which muflap also complains about, they have clear fixed size.)
	[6b8902d95711]

	* CMakeLists.txt:
	update mudflap package names in comments
	[1676d6c57da4]

	* src/main.c:
	fix mudflap warning by cast
	[9eecdd9c3c6b]

2012-01-14  Nicolas Pomarede

	* src/statusbar.c:
	When using 512 KB, prints 0.5MB instead of 1/2MB in the status bar
	"8MHz/0.5MB" is much more readable than the double slashes
	"8MHz/1/2MB"
	[bc2a87c53230]

	* doc/release-notes.txt:
	Typo
	[1f70e33b7c26]

2012-01-14  Laurent Sallafranque

	* src/falcon/crossbar.c:
	simplify the code like in dmasnd.c by using Sint64.
	[9835809e904b]

	* src/falcon/dsp_core.c:
	Host interface registers are all taken into account after a reset or
	first init.
	[9b176b322ed3]

2012-01-13 : *** Version 1.6.1 ***

2012-01-13  Nicolas Pomarede

	* doc/compatibility.html, doc/manual.html, readme.txt:
	New release 1.6.1, increase version in corresponding files
	[da2ba745065a] [tip]

	* doc/compatibility.html:
	Add 'Vodka Demo' by Equinox to the compatibility list
	[a37994f79290]

	* doc/doxygen/Doxyfile, doc/release-notes.txt, hatari.spec, src/gui-
	osx/English.lproj/InfoPlist.strings, src/gui-
	osx/French.lproj/InfoPlist.strings, src/includes/main.h:
	New release 1.6.1, increase version in corresponding files
	[ccf66d5e509e]

	* doc/release-notes.txt:
	Update release notes for 1.6.1
	[135479058419]

2012-01-12  Nicolas Pomarede

	* src/debug/debugui.c:
	Ensure debugger is not called by default when a cpu exception
	happens When not explicitly set to 'false', some programs'
	protection cause the debugger to be called, which can confuse the
	user (eg The Transbeauce Demos and The European Demos)
	[5651a4bfdf0e]

	* src/video.c:
	Don't remove left border when the hi/lo switch is made after cycle
	12 (fix 'Kill The Beast 2' in the Vodka Demo by Equinox)
	[58c6879369f5]

	* src/debug/debugui.c:
	Set default debugOutput to NULL (fix segfault) When DebugUI is
	called from Exception(), debugOutput was not initialized and
	DebugUI_SetLogDefault would call File_Close with an invalid (FILE *)
	[b9e92dc09385]

2012-01-10  Laurent Sallafranque

	* src/cpu/gencpu.c:
	added DIVU.L, DIVS.L, MOVEC and DBcc cycles (falcon mode only)
	[69c937803d82]

2012-01-09  Eero Tamminen

	* tests/tosboot/readme.txt, tests/tosboot/tos-tester.py:
	add tos-tester readme, change memory amounts to cover more, tt uses
	vga
	[878ee4a29373]

	* python-ui/CMakeLists.txt:
	Fix conftypes.py to be generated where the other python files are so
	that Hatari UI can be tested without installation (as stated in the
	readme). Depend on the generator.
	[816df9843667]

2012-01-09  Thomas Huth

	* python-ui/CMakeLists.txt, python-ui/Makefile, python-
	ui/conftypes.py:
	Added proper CMake rule to generate conftypes.py
	[ec17f4642694]

2012-01-09  Eero Tamminen

	* doc/release-notes.txt:
	update release notes
	[8aec7bfc3e49]

	* python-ui/hatari.py:
	patch from David: fix HZ order
	[be49fa9e4b72]

	* tests/tosboot/screenshot-report.sh:
	more typos
	[06ddf47ce60d]

2012-01-08  Nicolas Pomarede

	* tests/tosboot/screenshot-report.sh:
	Typo
	[e5db4cc9690a]

2012-01-09  Eero Tamminen

	* tests/tosboot/tos-tester.py:
	limit screen (shot) sizes to reasonable ones, improve comments
	[f6c285de94f0]

	* tests/tosboot/screenshot-report.sh:
	disable "compare" as it seems to get stuck with larger screenshots
	[20f4774f6c96]

2012-01-08  Eero Tamminen

	* python-ui/conftypes.py:
	forgot to add the new, generated conftypes.py
	[0b650f38e106]

	* python-ui/README, python-ui/release-notes.txt, python-
	ui/uihelpers.py:
	update UI version to v1.1 + docs on recent changes
	[f80e19acc065]

	* python-ui/dialogs.py, python-ui/hatari.py:
	add YM voice mixing & microphone options, simplify sound HZ option
	handling
	[5a524be7aafa]

	* python-ui/config.py:
	one more assert to config handling
	[2ec1907c02d6]

	* python-ui/dialogs.py, python-ui/hatari.py:
	fix minor Hatari UI issues:
	- use correct upper limit on max preferred size (=desktop size)
	- fix harmless exception on first tracepoints load
	- note that keep desktop option concerns only Falcon/TT
	- fix typo
	[b2fdb97e94c9]

2012-01-08  Thomas Huth

	* src/video.c:
	Fix for Falcon monochrome mode, second try
	[4049a3986f83]

2012-01-08  Eero Tamminen

	* python-ui/CMakeLists.txt, python-ui/config.py:
	Fix assert and resulting empty hatari config file:

	* This was caused by Hatari v1.6 config variable name changes and
	those new variable names missing type prefixes.

	* Fix is using variable type mapping (conftypes.py) generated from
	Hatari configuration.c file instead of inferring the types from
	the (missing) name prefixes.
	[b77642db06b7]

	* python-ui/Makefile, python-ui/gentypes.py:
	add code for generating conftypes.py from configuration.c
	[8a332bf2e195]

2012-01-08  Thomas Huth

	* src/gui-osx/Shared.h, src/gui-osx/Shared.m:
	Updated wrong file header comments
	[03d39c13e9a5]

	* src/gui-osx/Shared.h:
	A little modification to allow to build Hatari on Xcode 3.1.3/OS X
	10.5.8 PPC. Patch by Andreas Grabher
	[d513d264f450]

	* src/video.c:
	Fix for Falcon monochrome mode. TOS 4.04 temporarily switches to low
	resolution in its early boot sequence. For this we only should look
	at ff8260 and not at bUseHighRes.
	[ecafd650bb9e]

	* src/video.c:
	Source code beautification (indentation with tabs)
	[22eac7640d7b]

	* src/video.c:
	Fixed the problem with version 1.6.0 not booting in monochrome mode
	anymore. bUseHighRes, VideoShifterByte and IoMem[0xff8260] were out
	of sync, causing the monochrome screen mode to fail.
	[3944430235ef]

2012-01-08  Eero Tamminen

	* python-ui/hatari.py, tools/hconsole/hconsole.py:
	less console warnings on Hatari restart in hconsole & hatariui
	[36d8922fba7f]

2012-01-07  Laurent Sallafranque

	* src/cpu/newcpu.c:
	revert last patch as it's not relevant.
	[3fbb1188bd4f]

2012-01-07  Eero Tamminen

	* tests/tosboot/tos-tester.py:
	tos-tester: document how to test un-installed Hatari version
	[e5917358e2df]

	* doc/authors.txt, python-ui/README, python-ui/config.py, python-
	ui/debugui.py, python-ui/dialogs.py, python-ui/hatari.py, python-
	ui/hatariui.1, python-ui/hatariui.py, python-ui/uihelpers.py, tools
	/atari-hd-image.1, tools/hconsole/hconsole.1,
	tools/hconsole/hconsole.py, tools/hmsa/hmsa.1:
	remove / replace remaining berlios references
	[dac7d5a7c1e5]

	* readme.txt:
	readme: known problems -> known distro problems

	(add also a link to David's Python UI patches)
	[dc407f1f2001]

	* tests/tosboot/tos-tester.py:
	find hconsole if this is run within Hatari sources

	(and add the standard hconsole install locations to module import
	path as a fallback)
	[e1357631b384]

	* doc/keymap-sample.txt:
	add note about keymap test programs to keymap example too
	[672d88983485]

	* doc/todo.txt:
	update todo list:
	- 32Mhz issue was fixed already for v1.6
	- add more info to the Kronos bug (before BerliOS goes down)
	- add note about VDI/TOS4
	- fix typo
	[2f2598bdccc3]

	* doc/release-notes.txt, tests/readme.txt:
	add notes of new test programs to other docs
	[62019825e4c5]

	* tests/keymap/checkkeys.c, tests/keymap/keytest.c,
	tests/keymap/keytest.mak, tests/keymap/keytest.prg,
	tests/keymap/keytest.prj, tests/keymap/keytest.rsc,
	tests/keymap/keytest.rso, tests/keymap/listkeys.c,
	tests/keymap/readme.txt:
	add test programs for finding out Atari & SDL keycodes needed in
	Hatari keymap files
	[650e47fc2f0a]

	* tests/tosboot/blank-a.st.gz, tests/tosboot/screenshot-report.sh,
	tests/tosboot/tos-tester.py:
	add TOS bootup tester and screenshot comparison script + intended to
	be used before new Hatari release + there's also blank disk image
	used by tester
	[f1586c166aed]

	* tools/hconsole/hconsole.py:
	close control socket when Hatari is killed to avoid warning when
	hconsole object is destroyed
	[1293353ddcc7]

2012-01-06  Laurent Sallafranque

	* src/cpu/newcpu.c:
	add: split 68030 instructions bigger than 20 cycles to allow the
	"internal interrupts" and the DSP to execute.
	[b86fbed6e0a8]

	* src/falcon/dsp_cpu.c:
	dsp fix+add : externel memory access taken into account I've
	refactored the cycle counting by taking into account the multi
	external memory access. I've also removed a few if here and there.
	I've also reorganized the Ea if to optimise a little (change may not
	be noticeable).
	[3279d337e8a1]

2012-01-06  Eero Tamminen

	* src/tos.c:
	fix comment typos
	[2cc236c511bd]

	* tools/hconsole/hconsole.py:
	update Hatari options & debugger commands list for hconsole
	[636019d9c454]

	* python-ui/README, python-ui/release-notes.txt:
	fix python & gtk version numbers in docs
	[7ff82325804b]

2012-01-04  Laurent Sallafranque

	* src/falcon/dsp.c:
	added the addresses mnemonics in the X peripheral memory. When one
	disasm the x peripheral memory (dm x $ffc0 to dm x $ffff), the
	address mnemonic is added at the end of the disasm.
	[2d9daa1bb182]

	* CMakeLists.txt:
	New CPU musn't be the default CPU yet.
	[5b61a5a23a75]

	* CMakeLists.txt, src/cpu/gencpu.c:
	add: LSR, LSL ADR Dx,Dy 68030 cycles.
	[96fbfe482ec9]

2012-01-03  Laurent Sallafranque

	* src/falcon/dsp_cpu.c:
	code refactoring + DSP memory map comment.

	I've rewritten some parts of the DSP code. It's more readable like
	this. I've optimised a little some A and B registers access (this
	optimisation shouldn't be noticeable) I've added a DSP memory map in
	comments at the beginning of the file.
	[26c2ac01a10b]

2012-01-01 : *** Version 1.6.0 ***

2012-01-01  Nicolas Pomarede

	* doc/doxygen/Doxyfile, doc/release-notes.txt, hatari.spec, src/gui-
	osx/English.lproj/InfoPlist.strings, src/gui-
	osx/French.lproj/InfoPlist.strings, src/gui-osx/Info-Hatari.plist,
	src/includes/main.h, src/memorySnapShot.c:
	New release 1.6, increase version in corresponding files
	[12780dca66b3] [tip]

2012-01-01  Eero Tamminen

	* doc/compatibility.html, doc/release-notes.txt:
	update 32Mhz clock and MMU notes
	[4f6c6b3402b6]

2011-12-30  Nicolas Pomarede

	* src/debug/68kDisass.c:
	Use FILENAME_MAX instead of PATH_MAX (not POSIX compliant) (Clang
	error)
	[2b435d434331]

	* src/unzip.c:
	Remove extraneous parentheses (Clang warning)
	[f42762ce7f7c]

2011-12-30  Thomas Huth

	* doc/hatari.1, doc/manual.html:
	Documented the --patch-tos option
	[30e111d3f6d3]

2011-12-28  Eero Tamminen

	* doc/todo.txt:
	typo
	[fdd332ee69a1]

	* doc/release-notes.txt:
	release note about TT/mono double click fix
	[e020d24a1c78]

2011-12-28  Thomas Huth

	* src/video.c:
	Always set nCyclesPerLine = CYCLES_PER_LINE_71HZ in monochrome mode
	[ce618cc0d7f5]

2011-12-27  Nicolas Pomarede

	* src/ikbd.c:
	Handle a special case when sending bytes to the ikbd while a byte is
	already in transfer In that case, we should replace the byte
	currently being transfered, but we should not restart the TX
	interrupt, nor change the TX_BUFFER_EMPTY bit (fix 'Pandemonium
	Demos' Intro by Chaos)
	[3a9a73e114d2]

	* src/fdc.c:
	Allow an FDC command to be replaced by another command during the
	prepare+spinup delay This feature is not described in the original
	WD1772 documentation, it would need to be correctly measured on a
	real ST. (fix buggy loader in Overdrive Demos by Phalanx)
	[c284aa5611e8]

2011-12-26  Eero Tamminen

	* readme.txt:
	update readme for v1.6 & notes on WinUAE vs. old UAE core
	[dcef12a6ca3f]

	* doc/release-notes.txt, src/debug/log.h:
	flush trace output so that it's not buffered (and therefore
	potentially misleading)
	[1b1af950067c]

2011-12-26  Nicolas Pomarede

	* src/fdc.c:
	For The FDC Restore command, set track=255 after the spinup
	sequence, not before (fix buggy loader in Overdrive Demos by
	Phalanx)
	[666341f96bec]

	* doc/release-notes.txt, src/cycInt.c, src/ikbd.c,
	src/includes/cycInt.h, src/includes/ikbd.h, src/memorySnapShot.c:
	For ACIA transfers, split internal RX/TX interrupt handler in 2
	separate handlers (fix the game 'Alien Storm')
	[b71fc05b3e31]

	* src/fdc.c:
	Fix typo in comment
	[d97cede2f9f1]

	* src/fdc.c:
	Fix FDC delays on Falcon, they were 2 times bigger than expected (16
	Mhz clock instead of 8)
	[89b2158446eb]

2011-12-25  Nicolas Pomarede

	* doc/emutos.txt:
	Latest EmuTOS version is now 0.8.6
	[1c6e2b4f4447]

	* doc/compatibility.html:
	Add notes about Whitewater Madness video issues on STE
	[4d27a1702fb4]

	* doc/compatibility.html, doc/todo.txt:
	Update docs for sound in RBI Baseball 2 and joystick in Warlock's
	Quest
	[0c59db5fb37a]

2011-12-25  Thomas Huth

	* doc/todo.txt, src/video.c:
	Fixed VBL timing problem in monochrom TT mode. VBL timings were
	wrong because we used nScanlinesPerFrame from monochrome mode but
	nCyclesPerLine from color mode. This caused mouse double click
	problems and some other oddities.
	[073804e4887e]

	* src/configuration.c, src/includes/configuration.h, src/options.c,
	src/tos.c:
	Added a new (expert) option to skip TOS patches completely. As seen
	in the game "Yolanda" (when we skipped the memory test of TOS),
	bypassing parts of TOS can cause incompatibilites. To be able to
	switch of some more "patching" by Hatari, I added now a new option
	--patch-tos to be able to disable the TOS ROM patches, too.
	[13054082085f]

	* doc/compatibility.html:
	Updated information about RS232 settings in some games
	[2c123aa7ccab]

	* doc/compatibility.html, doc/todo.txt, src/configuration.c,
	src/stMemory.c:
	Enabled the "memvalid" system variables patching by default again.
	There were too many new problems when this was disabled by default.
	[7857da6acbc7]

2011-12-24  Nicolas Pomarede

	* src/fdc.c:
	In FDC traces, add current track for type I commands
	[70799cf90538]

2011-12-23  Nicolas Pomarede

	* src/cpu/gencpu.c, src/cycles.c, src/includes/cycles.h, src/uae-
	cpu/gencpu.c:
	Improve cycle accuracy for each byte access in movep R->M (fix
	Moving Earth part in E605 by Light, uses movep.l d0,$ffc3(a1) to
	change video counter)
	[ed0a93e92d17]

2011-12-22  Thomas Huth

	* python-ui/hatariui.py, python-ui/uihelpers.py:
	Replaced remaining URLs that still pointed to berlios.de
	[c1047c7e3c87]

	* doc/release-notes.txt:
	Updated release notes
	[8c887fc2aa75]

	* doc/todo.txt:
	Added some bug reports
	[2f24a844609f]

2011-12-22  Laurent Sallafranque

	* src/falcon/crossbar.c:
	fix: hanshake mode transfers. One variable was not correctly
	initialized when running crossbar in handshake mode. This patch
	fixes wait demo (it now runs with sound) on both old and new cpu.
	[c80c19152ced]

2011-12-22  Nicolas Pomarede

	* src/gui-sdl/dlgScreen.c:
	Radio button 'none' was never checked in Screen dialog
	[99716d346b1b]

	* src/gui-sdl/dlgSound.c:
	Reduce Sound dialog's height to work when Atari screen's borders are
	not shown
	[269f66c7453c]

	* doc/authors.txt, doc/hatari.1, doc/manual.html, doc/release-
	notes.txt, src/configuration.c, src/gui-sdl/dlgSound.c,
	src/includes/sound.h, src/options.c, src/sound.c:
	Add a new mixing method for the YM2149 using a mathematical model
	(patch by David Savinkoff) Use --ym-mixing model to use this method.
	Unlike the "table" method which is based on many measures on a real
	STF, this method aims to create a correct mixing table using an
	accurate model of the 3 YM2149 voices. The result should be similar
	or better when compared to "table" mixing.
	[47e6d95ffb79]

2011-12-21  Nicolas Pomarede

	* src/audio.c:
	Turns on low pass filter in STF mode for 44.1 and 48 kHz replay
	frequencies See sound.c for more details on the low pass filter
	characteristics used in the STF
	[2fa859d3a7c1]

	* src/sound.c:
	Improve the low pass filter to better mimic the STF's one (patch by
	David Savinkoff)
	[459fe6c8a77f]

2011-12-20  Nicolas Pomarede

	* doc/todo.txt:
	Add some examples of programs not working correctly for now
	[3aaa8701ec32]

	* doc/release-notes.txt:
	Update release notes with a list of working programs since previous
	release
	[63b14cd56c91]

	* doc/emutos.txt:
	Add note about EmuTOS before 0.8.6 requiring the FastBoot option
	[95f3524966a3]

2011-12-14  Nicolas Pomarede

	* src/joy.c:
	Correct joystick axis mapping patch by Matthias Arndt
	 - use 'false' instead of 'NULL' for bool
	 - use #define for max numbers of joysticks instead of '6'
	[5a85ee82b748]

2011-12-14  Laurent Sallafranque

	* src/cpu/newcpu.c:
	fix: take all 68030 cycles into account for better 68030 <-> DSP
	synchro.
	[be37bc3851b5]

	* src/falcon/dsp.c:
	fix: DSP access to host port are made in Bytes. I add 4 cycles for
	each word access or 3*4 cycles for a long access.
	[df60a705cf0e]

	* src/uae-cpu/newcpu.c:
	fix oldcpu : fixed ratio between 68030 and DSP speed. As to simulate
	a 16Mhz CPU, all cycles are divided by 2, we have to mul them back
	by 2 while calling run_dsp to have the DSP runnning at 32 Mhz.
	[a896dbbe512b]

2011-12-13  Nicolas Pomarede

	* src/includes/joy.h, src/joy.c:
	Add patch by Matthias Arndt to specify axis mapping for different
	joysticks' model
	[d64a2a131720]

2011-12-11  Nicolas Pomarede

	* src/m68000.c:
	Add pairing for MUL/JSR (Lemmings Compilation 40's Intro)
	[4f072f87472f]

2011-12-10  Nicolas Pomarede

	* src/cpu/hatari-glue.c, src/uae-cpu/hatari-glue.c:
	When using the RESET instruction, we should call PSG_Reset() to stop
	any sound
	[03cb4ea7445f]

	* src/psg.c:
	In PSG_Reset, also clear sound's emulation registers
	[0a69612b8028]

	* src/ikbd.c:
	If a byte is written to $fffc02 it cancels the current transfer from
	ACIA to IKBD Some buggy programs send several bytes to $fffc02
	without checking TX bit is ready ; in that case the most recent byte
	written to $fffc02 cancels any transfer in progress. (fix the games
	'Yogi Bear' and 'Platoon')
	[ba1cf5f0573f]

	* src/includes/ikbd.h:
	ACIA's RX overrun is bit 5, not 6
	[78292ff0323b]

2011-12-09  Laurent Sallafranque

	* src/cpu/gencpu.c:
	more instruction cycles completes. Added : movem, Bcc, CHK, CHK2,
	CAS.
	[05c247a0b2e6]

2011-12-07  Thomas Huth

	* src/keymap.c:
	The special hack for sending a second caps lock key press is now not
	required anymore.
	[4e880042ff90]

	* src/main.c:
	Set SDL_DISABLE_LOCK_KEYS for correct behavior of the Caps Lock key
	[23f03cb0da3f]

2011-12-06  Nicolas Pomarede

	* src/rs232.c:
	When reading $fffa2d and RS232 is not enabled, return 0x80 (empty
	buffer) This allow some games to work when they don't require
	complete send/receive support on the RS232 port (eg : 'Treasure
	Trap' and 'The Deep' write some debug informations to RS232)
	[7c486c7f7d01]

2011-12-04  Laurent Sallafranque

	* src/cpu/newcpu.c:
	cosmetic change
	[f7d6209fd12d]

	* src/cpu/falcon_cycle030.h, src/cpu/gencpu.c, src/cpu/newcpu.c:
	Movem is complete. RTE is complete but simplified. Code is now
	complete to add all other cycles that are not in the generic table.
	[0425f878b6cc]

2011-12-04  Thomas Huth

	* src/falcon/nvram.c, src/falcon/nvram.h:
	Fixed inital monitor settings in the NVRAM (the VGA bit was wrong).
	Thanks to Vincent Riviere for the hint!
	[71606731ce9c]

	* src/convert/med640x16_spec.c, src/convert/med640x32_spec.c,
	src/file.c, src/ide.c, src/uae-cpu/build68k.c, src/uae-cpu/fpp.c:
	Fixed some compiler warnings about set but not used variables. These
	warnings only occured with GCC 4.6 which now also checks for these
	set-but-not-used variables.
	[08ac98ddea8a]

2011-12-04  Nicolas Pomarede

	* doc/compatibility.html:
	Add notes about games that need RS232 to be enabled Some games write
	debug informations to the RS232 port ('Treasure Trap' and 'The
	Deep') They will loop forever until bytes can be sent to the RS232.
	[665e2d76c821]

	* src/video.c:
	Check for 4 pixel hardware scrolling on STF/STE only during the
	first 40 cycles
	[2805f848aeeb]

	* src/video.c:
	Timer B's position could be wrong with overscan lines stopping at
	cycle 160 (fix 'Bye bye Lester' in the 'O-Demo' by Oxygene)
	[8cfe13db1d53]

2011-12-02  Laurent Sallafranque

	* src/cpu/custom.c, src/cpu/events.h, src/cpu/events_normal.h,
	src/cpu/falcon_cycle030.h, src/cpu/gencpu.c, src/cpu/newcpu.c,
	src/cpu/newcpu.h:
	add: first 68030 version with the cycle exact table. There's still a
	lot of work to do :
	- include all special cycles like movem, Bcc, ...
	- finish to compute the MMU and FPU cycles
	[e5cf006c1b7d]

2011-12-01  Thomas Huth

	* doc/authors.txt, doc/compatibility.html, doc/fr/hatari.1,
	doc/hatari.1, doc/manual.html, etc/README, hatari.spec, python-
	ui/README, python-ui/dialogs.py, readme.txt, src/gui-osx/SDLMain.m,
	tools/hmsa/hmsa.1, tools/hmsa/readme-hmsa.txt, tools/zip2st.1:
	Updated the URLs to point to tuxfamily.org instead of berlios.de.
	[0f070880f088]

	* website/backgnd.png, website/contact.html, website/docs.html,
	website/download.html, website/favicon.ico, website/hatari-
	small.png, website/hatari.css, website/hatari.png,
	website/index.html, website/links.html, website/news.shtml,
	website/scrshots.html, website/scrshots1.html,
	website/scrshots2.html, website/scrshots3.html,
	website/scrshots4.html, website/scrshots5.html,
	website/scrshots6.html:
	Removed website from main repository (it's tracked in a new
	repository instead)
	[31893f13f668]

2011-12-01  Nicolas Pomarede

	* src/fdc.c:
	Add drive number in FDC's traces
	[7d196104f18b]

2011-11-30  Laurent Sallafranque

	* src/cpu/falcon_cycle030.h:
	more cycles added. Only FPU/MMU cycles are not yet in the table.
	[7c30b0cd111c]

2011-11-29  Nicolas Pomarede

	* doc/authors.txt:
	Update contributors' list
	[43e4d22bef3d]

2011-11-27  Laurent Sallafranque

	* src/cpu/falcon_cycle030.h:
	added more cycles. 92% completed.
	[6d6cf05d9763]

2011-11-27  Nicolas Pomarede

	* src/stMemory.c:
	Allow to bypass TOS' memory tests only for EmuTOS or if more than 4
	MB of ram are used Some programs rely on those (unofficial) values
	written to RAM when the memory tests were run. We should not bypass
	those tests in the common STF/STE cases with < 4MB (fix the game
	Yolanda on Pompey Pirates 46, which expects $100 to contain a value
	!= 0)
	[4721f2381c07]

	* src/configuration.c:
	Set system/fastboot to false by default as it can be less accurate
	emulation-wise
	[a44926c1f69b]

2011-11-26  Nicolas Pomarede

	* src/fdc.c:
	For FDC type I commands, set RNF error in SR when verify is set and
	TR != physical track Some programs change the head's position before
	returning to TOS. In that case, the logical track stored in the TOS
	will not be the same as the physical one. The TOS uses the verify
	bit to detect this situation and corrects it using a 'restore'. (fix
	the game Demon Blue on Adrenaline CD 24b, where the game's
	protection seeks to track 0x4f and returns to TOS without restoring
	head's position)
	[c45ba921c4ee]

2011-11-25  Laurent Sallafranque

	* src/cpu/falcon_cycle030.h:
	add some MUL and DIV cycles. 83% completed
	[9c3ae9c6ec9c]

	* src/cpu/falcon_cycle030.h:
	add more falcon cycles. 80% completed
	[1e5a8f93497a]

2011-11-24  Nicolas Pomarede

	* src/dmaSnd.c, src/includes/sound.h, src/sound.c:
	Improve YM/DMA sound by using IIR filter instead of FIR (patch by
	David Savinkoff)
	[38717dc41991]

2011-11-23  Nicolas Pomarede

	* doc/compatibility.html, doc/release-notes.txt:
	Updates docs with FDC and shifter changes
	[7a107455d23b]

2011-11-24  Eero Tamminen

	* src/uae-cpu/hatari-glue.c:
	fix typo in previous commit
	[4f9596596a83]

2011-11-23  Nicolas Pomarede

	* src/fdc.c:
	Allow modifying Sector Register and Track Register while the FDC is
	busy Contrary to what is written in the WD1772 doc, it's possible to
	modify these registers while a command is running (but it could have
	no effect depending on when it's done) (fix Delirious Demo IV's
	loader routines that change SR just after the Read Sector command)
	[a8a68c625e17]

	* src/fdc.c:
	For FDC Read / Write Sector commands, add a minimum delay to find
	the sector's header Depending on the spinning speed, finding the
	expected sector's header will never be immediate and will always
	require at least 6 bytes to be read by the FDC. During that time,
	Sector Register can still be modified. (fix Delirious Demo IV's
	loader routines)
	[96451d1d3585]

2011-11-23  Eero Tamminen

	* src/includes/vdi.h, src/reset.c, src/uae-cpu/hatari-glue.c,
	src/vdi.c:
	handle illegal opcode matching one used by Hatari internally during
	VDI emulation

	Fixes: Union demo from POV disk 112 causing Hatari abort with EmuTOS
	0.8.6.
	[d0cd30767492]

2011-11-21  Laurent Sallafranque

	* src/cpu/falcon_cycle030.h:
	added: some more falcon cycles. 75% completed.
	[5d27277dde7a]

2011-11-20  Nicolas Pomarede

	* src/fdc.c:
	Bit 6 of FDC's SR should be 0 after a read command when the disk is
	not write protected In the case of a type II/III command doing a
	read, the WPRT bit of the Status Register should not be kept
	unchanged but should be set to 0. (fix Madness by Cream, the loader
	would not work when disk was write protected)
	[7cc9290540d4]

2011-11-20  Eero Tamminen

	* doc/hatari.1, doc/manual.html, doc/release-notes.txt:
	document --force-max option. update --desktop* options. remove some
	trailing whitespaces from hatari.1
	[16854e348d64]

2011-11-20  Nicolas Pomarede

	* src/video.c:
	Correct screen's alignment with 4 pixel hardware scrolling
	[7de6a128dc82]

2011-11-19  Nicolas Pomarede

	* src/video.c:
	Adjust borders' removal when empty lines with no signal are used
	(fix NGC screen in Delirious Demo IV)
	[76e88fba127c]

2011-11-18  Laurent Sallafranque

	* src/cpu/falcon_cycle030.h:
	add: more falcon instructions cycles. 70% completed.
	[7075240efea8]

2011-11-18  Nicolas Pomarede

	* src/video.c:
	Add support for another method to do 4 pixel hardware scrolling on
	STF/STE (fix NGC screen in Delirious Demo IV)
	[51c2c0d6e00a]

2011-11-17  Nicolas Pomarede

	* src/video.c:
	Improve timings used for the 0 byte line when switching hi/lo at the
	end of the line (fix NGC screen in Delirious Demo IV)
	[5aac202026f4]

2011-11-16  Laurent Sallafranque

	* src/cpu/falcon_cycle030.h:
	fix: add.l Ea,Dn was shifted.
	[a5d3992cb542]

	* src/cpu/falcon_cycle030.h:
	fix: all LONG instruction cycles recomputed.
	[9f5195037d6e]

2011-11-14  Nicolas Pomarede

	* src/cycles.c:
	For CLR, the write is effective at the end of the instruction, not 4
	cycles before like MOVE (fix clr.b $ff820a used for bottom border
	removal in Delirious Demo IV / No Scroll)
	[3812f0e1e8c7]

2011-11-14  Laurent Sallafranque

	* doc/compatibility.html:
	added DownFall game (Falcon) into the compatibility list.
	[95adcd60a4e6]

	* src/cpu/falcon_cycle030.h:
	added more instructions cycles : 59% completed.
	[a858d6516037]

2011-11-13  Laurent Sallafranque

	* src/cpu/falcon_cycle030.h:
	added more instruction cycles : 49% completed
	[90a23eb577a1]

2011-11-13  Nicolas Pomarede

	* src/floppy.c:
	Recognize ST disk images with 83 or 84 tracks
	[ba4e13a4e194]

2011-11-12  Laurent Sallafranque

	* src/cpu/falcon_cycle030.h:
	add more instructions cycles. 40% done.
	[7fbbba6274cf]

	* src/cpu/falcon_cycle030.h:
	add all simple MOVE instruction's cycles.
	[615da1b85b5a]

2011-11-12  Nicolas Pomarede

	* src/video.c:
	When reading $ff820f in STE mode, returns the last value written
	there, not LineWidth
	[cc761ddcda16]

2011-11-11  Thomas Huth

	* doc/manual.html:
	Updated OS list in manual
	[5a5c057a9494]

2011-11-11  Laurent Sallafranque

	* src/cpu/falcon_cycle030.h:
	add new file for falcon030 cycles.
	[252da25d0565]

2011-11-10  Eero Tamminen

	* src/configuration.c, src/includes/configuration.h, src/options.c,
	src/resolution.c:
	add option to force resolution to be fixed to given max resolution:
	- like --desktop option, affects only Falcon/TT (as ST/STE modes
	aren't scalable, they can be only doubled)
	- useful e.g. when recording video of Falcon demos that switch
	resolution
	[1a19e303f3b2]

	* doc/emutos.txt:
	more things work with EmuTOS 0.8.6, update compat list
	[415959b04874]

2011-11-08  Nicolas Pomarede

	* doc/todo.txt:
	Remove FDC from the todo list, all commands/timings are now emulated
	[d6d56d753405]

2011-11-02  Laurent Sallafranque

	* src/cpu/gencpu.c, src/cpu/newcpu.c, src/cpu/newcpu.h:
	Code preparation for 68030 cycle exact.
	[2fe9ab72f13c]

2011-10-31  Laurent Sallafranque

	* src/cpu/custom.c, src/cpu/events.h, src/cpu/events_normal.h,
	src/cpu/newcpu.c:
	fix new core to allow 68030 cycle exact run. It's less accurante
	than the generic 68030 emulation for now, but it runs.
	[83307e177bdb]

2011-11-06  Nicolas Pomarede

	* doc/release-notes.txt:
	Update changes in FDC's emulation
	[6f6644b91e56]

	* src/fdc.c, src/floppy.c, src/includes/floppy.h,
	src/memorySnapShot.c, src/reset.c:
	Add correct emulation of the WPRT bit when a disk is inserted or
	ejected As the ST doesn't use the Disk Change signal available on
	the floppy drive, the TOS uses a different method to detect changes
	by monitoring the WPRT bit in the FDC's Status Register. When a disk
	is inserted or ejected, this bit should be updated to 0 or 1 during
	a minimum number of VBLs.
	[274895220444]

2011-10-30  Nicolas Pomarede

	* src/includes/psg.h, src/psg.c:
	Handle the case when reading $ff8800 just after a write to $ff8802
	There's a special case when reading a register from $ff8800 : if the
	register number was not changed since the last write (by writing to
	$ff8800), then we must return the value that was written to $ff8802
	without masking the unused bit. Else, unused bits should be set to 0
	when reading a register. (fix the game Murders In Venice, which
	expects to read $10 from reg 3).
	[d3f6185dcbd3]

	* src/memorySnapShot.c:
	Change version in memory snapshot ('devel' versions are not always
	compatible with each other)
	[4b4070102351]

	* src/configuration.c:
	In the memory snapshot, include the name of the disk image and zip
	path for each floppy drive
	[ff0ec8e9f809]

2011-10-17  Nicolas Pomarede

	* src/fdc.c:
	Set the WPRT bit in FDC Status Register when there's no disk
	inserted
	[67ca42a71612]

2011-10-15  Eero Tamminen

	* doc/release-notes.txt:
	add missing items to release notes
	[d8dc72a4d858]

	* doc/compatibility.html:
	note Spectrum 512 & Hextracter mouse issues
	[5224e8e7365e]

	* doc/authors.txt:
	add Markus Heiden to contributors
	[ac2437441bb6]

2011-10-16  Nicolas Pomarede

	* src/video.c:
	Fix medres overscan detection (line was rendered in low res) (fix
	Greeting screen in the 'No Cooper' demo : because of the freq switch
	to remove the bottom border, switch to medres was made 16 cycles
	later and line 263 was in low res)
	[980585cb4037]

2011-10-13  Nicolas Pomarede

	* doc/compatibility.html:
	Update comments for the demo Illusion by Dune
	[9f321f0f6b17]

2011-10-12  Laurent Sallafranque

	* src/cpu/custom.c, src/cpu/gencpu.c, src/cpu/newcpu.c:
	3 major changes in newcpu.c (new core)

	This patch concerns 3 important changes in the WinUAE new core :

	1) I've reintroduced the nCurInstrCycPos variable to allow the
	pairing detection with the 68000 core 2) I've patched the cycle
	exact cores to let them run (of course, cycle exact is not yet
	implemented into each componant for now), but the cores are running
	now 3) The most important : I've found and corrected the problem
	with all the falcon demos that needed to run at 32 Mhz only
	(EkoSystem, are you experienced, lostBlubb, ...)
	[632d356ebd40]

2011-10-12  Nicolas Pomarede

	* src/fdc.c:
	Correct the FDC step rates, they were not the correct ones for
	WD1772 The 1989 book I used from Data Becker / Micro Application
	gave the values 2, 3, 5 and 6 ms, which are wrong, the correct ones
	are 6, 12, 2 and 3 ms. (fix Knightmare (on DBUG #24), the loader
	waits 41000 cycles before 2 Step In commands without testing
	$fffa01, with 6 ms delay instead of 3 ms, some commands were ignored
	because the FDC stayed in busy state for too long)
	[a9ae22f1c449]

	* src/fdc.c:
	When Force Int is called, set Motor ON if FDC was idle or busy with
	a type I command (fix Knightmare (on DBUG #24), an extra delay was
	added to start the motor when doing a Step In, which prevented
	following FDC comamnds to be executed)
	[93d450978e0b]

2011-10-10  Laurent Sallafranque

	* src/cpu/cpummu.c:
	cosmetic issue Reformatted source code to be closer to the original
	WinUae's code
	[420388d34b87]

2011-10-09  Thomas Huth

	* src/tos.c:
	Switch to ST mode when using TOS <= 1.04
	[ada1ca9cea15]

2011-10-09  Nicolas Pomarede

	* src/fdc.c:
	In the FDC, clear Spin Up bit during the time needed to start the
	motor
	[fd968928f2c4]

2011-10-07  Markus Heiden

	* src/fdc.c, src/hdc.c, src/includes/hdc.h:
	API-only access to hdc.c
	[3d5607cf69b2]

	* src/hdc.c:
	Used macros for reading words
	[c5554b424b4b]

2011-10-08  Nicolas Pomarede

	* doc/images/floppydisks.png, doc/manual.html:
	Update the Floppy Disk Dialog section in the manual with "Fast
	floppy" mode
	[b679d73bad89]

2011-10-06  Thomas Huth

	* src/hdc.c, src/includes/hdc.h:
	SCSI class 1 command support for drives > 1 GB. Thanks to Markus
	Heiden for the patch.
	[d33662b5c5c1]

2011-10-06  Nicolas Pomarede

	* doc/fr/hatari.1, doc/hatari.1, doc/manual.html, etc/n810.cfg,
	etc/wiz.cfg, python-ui/dialogs.py, python-ui/hatari.py, python-ui
	/release-notes.txt, src/configuration.c, src/fdc.c, src/gui-
	osx/English.lproj/SDLMain.nib/designable.nib, src/gui-
	osx/French.lproj/SDLMain.nib/designable.nib, src/gui-
	osx/PrefsController.h, src/gui-osx/PrefsController.m, src/gui-
	sdl/dlgFloppy.c, src/includes/configuration.h, src/options.c,
	tools/hconsole/hconsole.py:
	Replace --slowfdc by --fastfdc (speed up FDC delays by x10) For
	maximum compatibility, the default mode for Hatari is now to run the
	FDC at the same speed as a real ST. The option --fastfdc can be used
	to speed up most FDC delays (this should works with most of the
	games/demos, but can lead sometimes to incompatibilities when the
	programis expect some precise timings)
	[ccd6752560e3]

	* src/fdc.c:
	Remove debugging printf's
	[dbc85c253d94]

2011-10-03  Eero Tamminen

	* src/includes/configuration.h:
	allow GEMDOS drives up to Z: not Y:
	[3552d1f414af]

2011-09-28  Thomas Huth

	* doc/manual.html:
	Fixed bad HTML
	[6c89f9913bad]

	* src/gui-osx/SDLMain.m:
	Fixed compile error for OSX by adding missing parameter to DebugUI
	call. Thanks to Mikael Degerfalt for the patch!
	[b740701a441c]

2011-09-18  Eero Tamminen

	* src/debug/symbols.c:
	fix some cosmetic issues in AHCC SYM symbols format compatibility
	[e75d74de4671]

2011-09-07  Laurent Sallafranque

	* doc/release-notes.txt:
	added microwire clock better accuracy to the emulator release notes
	[dec600e761b6]

	* src/dmaSnd.c:
	better accuracy for microwire emulation : remove a specific test for
	xmas2004 (no more useful with the latest microwire code) and cycles
	consumed by the 68000 are taken into account in a better way to
	generate a more precise 8 cycles clock.
	[c2a659c51883]

2011-09-04  Eero Tamminen

	* python-ui/hatari.py, python-ui/hatariui.py:
	hatariui: hatari max window size defaults now to desktop size

	(affects initial window size i.e. avoids resize at beginning)
	[679aca45fb45]

	* src/main.c:
	fix bug 18340: check window embedding before creating window
	[a99c28bacadd]

	* doc/emutos.txt, readme.txt:
	add links to EmuTOS versions used in different Hatari version,
	correct DATADIR note
	[7f173c0891c1]

2011-08-31  Eero Tamminen

	* doc/release-notes.txt, doc/todo.txt:
	update release notes & todo
	[deffe87f548f]

	* doc/hatari.1, doc/manual.html:
	update hd emu docs, minor cleanup
	[a041f4d2ae8c]

	* CMakeLists.txt, cmake/config-cmake.h, src/gemdos.c:
	return real free space for GEMDOS HD emulated partion:
	- limited to a partition size that used TOS version supports
	- supported only if statvfs() function is found
	[92bf5e6df087]

	* src/gemdos.c:
	return unique name for each HD emulated partition
	[94784b65464a]

	* src/gemdos.c:
	fix bug 18310: use fake HD Dfree() only for emulated drives +
	related refactoring

	refactoring:
	- remove commented out GEMDOS_IsHDDPresent()
	- refactor similar GemDOS_IsDriveEmulated() functionality to its own
	function from GemDOS_IsFileNameAHardDrive()
	- Fix: Use GemDOS_IsDriveEmulated() function in Dfree() & Dgetpath()
	instead of their current half-broken code
	- Rename GemDOS_IsFileNameAHardDrive() to a more correct
	GemDOS_FileName2HardDriveID() as it returns drive ID, not bool
	[9977e0152019]

	* src/gemdos.c:
	fix: HD emu multipartition support didn't handled mixed case
	partition names

	Multipartition directory name counting function expected scandir()
	to return directory entries in alphabetical order, but it does that
	only if they're of same case. When upper and lower case drive
	identifies are mixed, counting didn't work.

	Instead of adding case insensitive alphasort, I decided just to
	correct the maximum drive counting.
	[5bf4e8f4c2b6]

2011-08-29  Eero Tamminen

	* tools/atari-hd-image.sh:
	Latest sfdisk is broken. Write suitable MBR with inlined Python
	code
	[6dd08c14968a]

2011-08-28  Eero Tamminen

	* src/debug/breakcond.c:
	reorder breakpoint hit output order to:
	- info about there being a hit
	- "lock"ed information, if any (e.g. history)
	- parsed debugger "file" output, if any
	- info about breakpoint itself
	- new value for traced item, if something traced
	- info about breakpoint removal, if it's removed
	[f0b8c2b8e2dc]

	* src/debug/breakcond.c, src/debug/debugui.h, src/debug/history.c:
	improvements/fixes to how instruction execution history is shown
	with breakpoints
	[4e2ab4a67ac2]

2011-08-22  Eero Tamminen

	* src/paths.c:
	fix bug 18297: Windows needs also HOMEDRIVE for full home path
	[a67dcb6ad345]

2011-08-21  Eero Tamminen

	* tools/atari-hd-image.sh:
	show suitable error message at exit, force Bash as echo escape
	sequence interpretation differs between shells
	[9dd8749a5d8b]

	* src/debug/breakcond.c, src/debug/history.c, src/debug/history.h:
	remove new prevCpu/DspPC history variable as useless
	[55d820210133]

	* tools/atari-hd-image.sh, tools/hatari-local-midi-ring.sh:
	fix: handle case when string is given instead of numeric argument in
	helper scripts
	[a85204f3b546]

2011-08-17  Thomas Huth

	* src/stMemory.c:
	Disabled memvalid patching for EmuTOS
	[c8a06df9ca70]

2011-08-16  Thomas Huth

	* src/screen.c:
	Improved color convertion table so that colors are a little bit
	brighter now
	[b1e5be1dda12]

2011-08-14  Eero Tamminen

	* doc/manual.html:
	add history info to Manual's Debugger "Usage examples" section
	[96f13af8e511]

	* src/debug/history.c:
	history fix: use 32-bit PC for CPU, show breaking reason after
	instruction
	[2e844ec44581]

	* src/debug/debugInfo.c, src/debug/history.c, src/debug/history.h:
	support history also for the lock command
	[bd92e46c8cf0]

	* src/debug/breakcond.c, src/debug/debugcpu.c, src/debug/debugdsp.c,
	src/debug/debugui.c, src/debug/history.c, src/debug/history.h:
	history 3/3: integrate history functionality to debugger
	[f1f3b514592a]

	* src/debug/CMakeLists.txt, src/debug/history.c, src/debug/history.h:
	history 2/3: add new history functionality source code files
	[f78832aa167a]

	* src/debug/debugcpu.c, src/debug/debugdsp.c, src/debug/debugui.c,
	src/debug/debugui.h, src/shortcut.c, src/uae-cpu/newcpu.c:
	history 1/3: add reason why debugger was invoked

	Is needed by debugger history functionality, but can be useful also
	for debugger UI later on.
	[5c966dad28ef]

	* src/falcon/videl.c:
	fix: crash with a Videl resolution of 2460x200

	(NVDI 2.5 set that after it failed to load a sys file)
	[8253ac221f06]

2011-08-13  Thomas Huth

	* doc/hatari.1, doc/manual.html:
	Added the fast-boot option to the manual
	[b677e1cfcb36]

	* doc/hatari.1, doc/manual.html, src/options.c:
	Moved sound options to a separate section
	[2fa15fc14bb6]

2011-08-13  Eero Tamminen

	* doc/hatari.1, src/options.c:
	add option for controlling desktop option for ST/E
	[c0d0f7e7d1af]

	* src/configuration.c, src/includes/configuration.h, src/screen.c:
	add bKeepResolutionST configuration option
	[ff951f2b4a67]

2011-08-12  Thomas Huth

	* src/configuration.c, src/gui-sdl/dlgSystem.c,
	src/includes/configuration.h, src/options.c, src/stMemory.c,
	src/tos.c:
	Added fast-boot option
	[19442ce2ea1f]

2011-10-06  Nicolas Pomarede

	* src/fdc.c:
	When using Read Track on a side that doesn't exist, return random
	bytes instead of Record Not Found
	[4805fbc91418]

	* src/fdc.c:
	Improve the 3 possible cases in FDC's Force Int command
	[a4b17799b472]

	* src/fdc.c:
	Set ID_FieldLastSector to 0 to simulate an index pulse + improve
	timings for Read Address Some copy / disk analyzer programs require
	very precise timings when combining Read Track and Read Address to
	analyze the layout of a track. Read Address needs to return ID
	fields at the same time interval/position they're returned by Read
	Track to allow this program to work. This implementation should be
	precise enough for ST/MSA disk images. (fix ProCopy 1.50 in Analyze
	mode)
	[727368dd7dbf]

2011-09-30  Nicolas Pomarede

	* src/fdc.c:
	Fix delay error for FDC Read Address (bad macro expansion)
	[5abe5ea82767]

	* src/fdc.c:
	Update ID_FieldLastSector during the Read Track command When a Read
	Track command is followed by some Read Address commands, we must
	return each ID Fields in the same order they appeared during the
	Read Track command (fix Terminators Copy in Analyze mode)
	[08da7a4a7cbc]

	* src/fdc.c:
	Correctly reset FDC_DMA.BytesToTransfer in case the revious DMA
	transfer did not finish (fix X-Out on Pompey Pirates 27, does a read
	address after an interrupted read sector command)
	[faac32aa681f]

2011-09-29  Nicolas Pomarede

	* src/fdc.c:
	Improve timing for FDC's Read Address by adding a delay to find the
	next sector Before the FDC can read the ID Field, it must first let
	the disk spin until it reaches the start of the next sector. We can
	approximate this delay to an average 600 bytes (512 bytes per sector
	+ GAPs) (fix "analyze disk" in Terminators Copy 1.68 which expects
	Read Address to take several 1/200 sec)
	[d977f5941bf6]

2011-09-26  Nicolas Pomarede

	* src/fdc.c:
	Update FDC's Write Protect bit after a Type I command
	[0e609cfbd51c]

	* src/fdc.c:
	Include call to FDC_AcknowledgeInterrupt into FDC_CmdCompleteCommon
	[847db30c7ceb]

2011-09-25  Nicolas Pomarede

	* src/fdc.c:
	More comments' updates in the FDC code
	[0da3393fe674]

	* src/fdc.c, src/hdc.c, src/includes/fdc.h:
	Reorder FDC functions and add prototypes, update comments
	[76a6c9e94cfc]

	* src/fdc.c:
	Replace FDC_SetReadWriteParameters with FDC_GetSectorsPerTrack Also
	remove useless calls to FDC_SetDiskControllerStatus and to
	FDC_UpdateDiskDrive
	[99b5bb872666]

2011-09-23  Nicolas Pomarede

	* src/fdc.c:
	Update comments
	[3162ca399613]

	* src/fdc.c, src/includes/fdc.h, src/mfp.c:
	Remove old fast floppy mode triggered when reading bit 5 of MFP_GPIP
	register
	[ff64688e23e4]

	* src/fdc.c:
	Success/failure in FDC commands should not change DMA status' bit 0
	(DMA error)
	[32e4c45ad897]

2011-09-22  Nicolas Pomarede

	* src/fdc.c:
	Rename FDC DMA Status/Mode variables + FDC_ResetDMA should only
	reset DMA buffer, not sectors count Bit 0 (DMA error) in
	FDC_DMA.Status ($ff8606) seems to be always 1 on ST (no DMA error),
	so we always set it to 1 on reset and don't update it later anymore.
	[cafae3b0677d]

2011-09-21  Nicolas Pomarede

	* src/fdc.c:
	Remove old variable DiskControllerStatus_ff8604rd, use FDC.STR
	instead
	[4f30b21b2c43]

	* src/fdc.c, src/hdc.c, src/includes/fdc.h, src/ioMemTabFalcon.c,
	src/ioMemTabST.c, src/ioMemTabSTE.c, src/ioMemTabTT.c:
	Intercept read/write of hi/med/low DMA address bytes at
	$ff8609/0b/0d (add traces)
	[8b523edc2722]

	* src/fdc.c:
	FDC 'Write Protect' bit should only be updated after a write command
	[f6c97ffeba1c]

2011-09-20  Nicolas Pomarede

	* src/fdc.c:
	Remove old case for read/write sectors with multi bit=1
	[31bd713e1ba8]

	* src/fdc.c:
	FDC_VerifyTrack should be called when the Verify bit in type I
	commands is 0
	[1f108ef7f21f]

	* src/fdc.c:
	Not all commands set RNF bit when no disk is inserted, don't set it
	in all cases
	[d67296474659]

	* src/fdc.c:
	In FDC, merge Step, Step In and Step Out into one common Step
	function (with a direction)
	[044eb8fe2bcb]

2011-09-19  Nicolas Pomarede

	* src/memorySnapShot.c:
	Change snapshot version, new FDC structure is no more compatible
	with Hatari 1.5
	[725106d8ea5a]

	* src/fdc.c:
	In FDC_VerifyTrack, set RNF if not disk is inserted
	[1e767edad856]

	* src/fdc.c, src/hdc.c, src/includes/fdc.h:
	Clean up FDC code, reorder, rename variables
	 - Use names from the datasheet for the WD1772 registers
	 - Group FDC and DMA variables into some structures
	 - Remove useless intermediate variables from old FDC code
	 - Update memory snapshot to correctly restore FDC/DMA states
	[c3f731b9247c]

2011-09-17  Nicolas Pomarede

	* src/fdc.c:
	Remove unnecessary intermediate variables and old DMA transfer
	function
	[10cf8366c12e]

	* src/fdc.c, src/floppy.c, src/includes/floppy.h:
	In FDC, add accurate DMA transfer for Write Sector (512 bytes per
	sector for ST/MSA)
	[0e61679c440e]

2011-09-15  Nicolas Pomarede

	* src/fdc.c:
	Improve DMA transfer function to never write outside of the
	DMADiskWorkSpace buffer
	[4212862c8982]

2011-09-14  Nicolas Pomarede

	* src/fdc.c:
	In FDC, add accurate DMA transfer for Read Track This will fix a lot
	of cracked games in ST/MSA where the protection that uses Read Track
	was not disabled, only the result of the test is ignored by the
	crack. In that case, we need a correct Read Track, even if the
	content of the track is ignored later.
	[360f6e46908f]

	* src/fdc.c, src/floppy.c, src/includes/floppy.h:
	Return the sector's size in Floppy_ReadSectors (512 bytes for ST/MSA
	images)
	[580ecaa3c572]

	* doc/compatibility.html:
	Remove FDC issues for 'ST-NICCC 2000' by Oxygene
	[bce0608352db]

	* src/fdc.c:
	In FDC, add accurate DMA transfer for Read Address + correct DMA
	transfer routine
	[3c469d058484]

2011-09-11  Nicolas Pomarede

	* src/fdc.c:
	For FDC 'Read Sector' command, transfer data between DMA and RAM by
	blocks of 16 bytes The DMA has an internal 16 bytes buffer which is
	transfered to RAM once 16 bytes have been received from the FDC. DMA
	address at $ff8609/0b/0d is updated each time 16 bytes are
	transfered while reading a sector.
	[a055899d2cc7]

2011-09-06  Nicolas Pomarede

	* src/fdc.c:
	In FDC, correct CRC in the Read Address command and add support for
	the Read Track command. Read Track will return 6250 bytes containing
	the sectors data, as well as all the GAPs, Index fields and Sync
	bytes present in a track. Those 6250 bytes are built by reading the
	sectors of an ST/MSA disk image and adding some standard GAPs. This
	should fix a lot of games were protection code is run, but the
	result is ignored by the crack.
	[65faad71a2a4]

2011-08-30  Nicolas Pomarede

	* src/fdc.c:
	Add support for the FDC Type III command Read Address The returned
	ID Fields are built from the ST/MSA disk image (512 bytes per
	sector, 9 or 10 sectors for all tracks).
	[0ee5e33c3a2a]

	* src/includes/utils.h, src/utils.c:
	Add functions to compute a CCITT CRC16 (used by the FDC)
	[07a6c305af6a]

2011-08-28  Nicolas Pomarede

	* src/fdc.c:
	Rewrite FDC Type II command Write Sector, with correct support for
	multi sectors bit and DMA transfer Fix bug in
	FDC_ReadSectorFromFloppy / FDC_WriteSectorToFloppy : they should not
	increase track/sector themselves
	[42c7f2da845d]

	* src/fdc.c:
	Update TR00 bit in the FDC's Status Register after a type I command
	[e0bd9c4cf8d4]

	* doc/compatibility.html:
	Remove FDC issues for 'Just Buggin' by ACF and 'Super Monaco GP'
	[fd52d4d9726c]

	* src/fdc.c:
	Rewrite FDC Type II command Read Sector, with correct support for
	multi sectors bit and DMA transfer The Read Sector command with
	multiple sectors mode is used in many games and the previous wrong
	version prevented a lot of them to work. DMA transfer was not
	correctly handled too. (fix 'Just Buggin' by ACF, 'Super Monaco GP'
	on Superior 65, 'Pang' on Fuzion 32, 'The Simpsons' on Fuzion 108)
	[9435f0c056d1]

2011-08-27  Nicolas Pomarede

	* src/fdc.c:
	Rewrite FDC Type I commands to be closer to the behaviour described
	in the official documentation This takes into account bit 4 (Update
	Track) for Step/Step In/Step Out, as well as bit 2 (Verify Track).
	The physical track of the head (which can be different from the
	Track Register) is also emulated now and used to read/write sectors
	from the disk image.
	[94e36f1c363d]

	* src/fdc.c:
	When FDC is busy, Track Register and Sector register can't be
	modified
	[c19b865a739d]

	* src/fdc.c:
	When FDC receives 'Force Interrupt', remove busy bit and stop the
	motor
	[808786d9cf4d]

2011-08-26  Nicolas Pomarede

	* src/fdc.c:
	When FDC is busy, the only possible command is 'Force Interrupt'
	[d8ddbe092005]

	* src/fdc.c:
	Split some FDC define's between type I and II/III
	[4b74ad7887c3]

2011-08-25  Nicolas Pomarede

	* src/fdc.c:
	Add correct delay for starting/stopping the motor before/after each
	fdc command The motor can take 6 spins to start if it was not
	already ON, and it will stop 2 seconds after the last command is
	completed.
	[b80d83522015]

2011-08-10  Nicolas Pomarede

	* src/fdc.c:
	Improve FDC by adding more accurate timings for each commands (seek,
	read sector, ...) Not all timings are completly correct for now, but
	this should greatly improve many cracked games that still perform
	the FDC operations to check the protection and expect the result to
	take a certain amount of time. Also temporarily disable "fast fdc"
	mode. (fix Knightmare / DBUG 24)
	[87b873bf5ab0]

2011-08-07  Eero Tamminen

	* src/change.c:
	trigger emulation reset if user changes WinUAE address mode
	[ba1a54c9cda2]

	* src/convert/high640x8.c:
	fix: take SDL buffer pitch (full width) into account

	(Mono conversion was the only one missing this. Even if code gets
	requested resolution, pitch could in theory be larger than the
	requested width.)
	[d71e42ccfdb6]

2011-08-07  Nicolas Pomarede

	* src/gui-sdl/sdlgui.c, src/includes/sdlgui.h:
	Variables should not be defined in the header file, else the linker
	will complain As 2 variables were defined in the header, this
	created multiple copies of these 2 variables in each file that
	included sdlgui.h and this gave warnings when using "ld --warn-
	common" Those variables should be declared as extern in the header
	and defined only once in sdlgui.c
	[8fd078a49e75]

2011-08-04  Eero Tamminen

	* src/tos.c:
	improve the gemdos HD emu message
	[3606bc6391d0]

	* src/tos.c:
	warn if using HD emu with TOS <1.04, fix typos in other messages
	[501b88f0e1c9]

2011-07-30  Eero Tamminen

	* src/statusbar.c:
	more debug to statusbar code

	(was needed to find out why keepDesktopResolution for ST/E triggered
	statusbar assert on reboot.)
	[5872d98814da]

2011-07-31  Nicolas Pomarede

	* src/ikbd.c:
	Don't clear bytes in transit in the ACIA when the IKBD is reset This
	was a regression introduced since rev 3315. (fix Overdrive by
	Phalanx, could lock when returning to the menu)
	[421d25ee4214]

2011-07-30  Nicolas Pomarede

	* src/video.c:
	Add blank line detection in STF mode when switching 60/50 Hz at
	cycle 28 (fix/improve Spectrum 512 scrolling in Overscan Demos and
	shforstv by Paulo Simoes)
	[cb105e3f19f3]

2011-07-19 : *** Version 1.5.0 ***

2011-07-19  Nicolas Pomarede

	* doc/doxygen/Doxyfile, doc/release-notes.txt, hatari.spec, src/gui-
	osx/English.lproj/InfoPlist.strings, src/gui-
	osx/French.lproj/InfoPlist.strings, src/gui-osx/Info-Hatari.plist,
	src/includes/main.h, src/memorySnapShot.c:
	New release 1.5, increase version in corresponding files
	[d03e4a887e3a] [tip]

	* src/avi_record.c:
	Use 65536 for Fps_Scale instead of 16777216, as some video players
	don't support values above 100000 For example, this fixes some
	warnings/errors ("timebase is very high") when using ffmpeg to
	convert the .avi file to a .mov quicktime file.
	[62353df26531]

2011-07-18  Laurent Sallafranque

	* doc/compatibility.html:
	Rainbow2 and moai96 comments changed
	[05c21ae0c497]

	* src/falcon/videl.c, src/falcon/videl.h, src/ioMemTabFalcon.c,
	src/video.c:
	fix: added VFC counter in video.c. This allows rainbow2 multimedia
	to work. This patch will be removed when Videl emulation is ready.
	[100e3be38f40]

2011-07-18  Nicolas Pomarede

	* src/memorySnapShot.c:
	Typo
	[f5841e11232b]

	* src/memorySnapShot.c:
	Remove conflicting mkdir declaration when building Windows binary
	with WinUAE cpu
	[3fd84456e225]

	* src/ide.c:
	Remove possible conflicting TCHAR declaration when building Windows
	binary
	[21624f2f76c9]

2011-07-17  Nicolas Pomarede

	* src/video.c:
	Temporary fix for simultaneous HBL case not completly handled in rev
	1624 (fix European Demos Intro screen)
	[d6e419fb0f47]

	* src/dmaSnd.c:
	Don't reset LCM1992 on warm reset (the chip has no reset pin)
	[a11ea38fd26b]

	* src/dmaSnd.c:
	Add more traces when changing microwire's values
	[7ee1f7b47b3e]

2011-07-16  Nicolas Pomarede

	* src/dmaSnd.c:
	If DMA audio is enabled with frame start = frame end, stop it if
	loop mode is off
	[6c12214cddfb]

	* src/dmaSnd.c:
	When pulling a byte from the FIFO, check DmaSnd_FIFO_Refill() really
	added some new byte In the case where DMA is disabled or frame start
	= frame end, no new bytes will be added to the FIFO, so we must play
	empty samples. (fix 'Brace' by Diamond Design)
	[98e6f156a2e3]

	* src/dmaSnd.c:
	Clear DMA audio registers even on warm reset + clear frame start/end
	addresses When started in STE mode, the demo 'Brace' by Diamond
	Design starts the DMA audio without setting frame start/end
	addresses, which can result in bad samples if those registers are
	not cleared during the reset (this looks like a bug in the demo
	anyway).
	[dc39860bc47a]

	* src/sound.c:
	Remove old code previously used to compute number of samples per VBL
	[92bc52e0fe2e]

	* src/change.c:
	Remove redundant call, init function is already called in
	Configuration_Apply()
	[d52b7742dba4]

	* src/gui-sdl/dlgSystem.c:
	Clocks' init function should not be called from the dialog, it's
	done when new config is applied
	[5f05f0779940]

	* src/change.c:
	Remove redundant call, init function is already called in
	Configuration_Apply()
	[51913c0eeded]

	* doc/release-notes.txt:
	Add note about more precise frame per sec values
	[071c7867a542]

	* doc/todo.txt:
	Remove STE's DMA sound from the todo list, sound should be correct
	now
	[0bf7ced4269f]

	* src/gui-sdl/dlgScreen.c:
	Use a define instead of a direct value
	[8700e730d3fb]

	* src/cycInt.c, src/dmaSnd.c, src/includes/cycInt.h,
	src/includes/dmaSnd.h:
	Remove INTERRUPT_DMASOUND, this is not needed as DMA sound is
	updated on each HBL
	[8110561b47a9]

	* src/dmaSnd.c:
	Add more info in some traces
	[3dca683da1b5]

	* src/dmaSnd.c:
	Remove unnecessary mask
	[e30e78e2ae02]

	* src/dmaSnd.c:
	Remove old DMA code, add new variables to the memory snapshot
	[458ae0b8c3db]

	* src/dmaSnd.c:
	Removed unused FIFO functions
	[e63d06f680dc]

2011-07-15  Nicolas Pomarede

	* src/ikbd.c:
	Include ACIATxDataRegister in memory snapshot
	[19b7369a62fb]

	* src/clocks_timings.c, src/gui-osx/SDLMain.m,
	src/includes/clocks_timings.h, src/main.c, src/shortcut.c:
	Use a more explicit define to shift number of VBL per sec
	[ab7ac15839ec]

	* src/avi_record.c, src/gui-osx/SDLMain.m, src/gui-sdl/dlgScreen.c,
	src/includes/avi_record.h, src/main.c, src/shortcut.c:
	Add support for non integer frame rate when recording video A real
	STF/STE/... doesn't produce video at exactly 50 or 60 HZ, the avi
	recording functions now support such non integer rate (eg 50.053 FPS
	for STE PAL) This should give the most accurate way to record
	video/audio output at the exact timing it was played on a real
	machine.
	[ef43fd8cd5b1]

2011-07-15  Laurent Sallafranque

	* src/cpu/newcpu.c:
	fix: take into account do_cycle cycles in do_specialties. This allow
	STOP instruction to work with the new cpu and this let some demos
	work again with the new cpu
	[644b422a7c2f]

2011-07-14  Nicolas Pomarede

	* src/includes/ioMem.h:
	Add function for IO regs that return $OO instead of $ff
	[60ff3344f1a8]

	* src/ioMem.c, src/ioMemTabFalcon.c, src/ioMemTabSTE.c,
	src/ioMemTabTT.c:
	Some unused video registers return $00 instead of $ff when read For
	STE and Falcon, this was verified on real machine. For TT, use the
	same behaviour as Falcon for now (not verified)
	[41f4bfcbf897]

	* src/main.c:
	Correct multiplication overflow due to bad cast, this could cause
	Hatari to freeze after an hour or so
	[6b0218bf0e52]

	* src/sound.c:
	Don't print warnings about slow sound if audio's output is disabled
	[390e1e4a4de3]

	* src/ikbd.c:
	Don't clear bytes in transit when ACIA_Reset is called Since rev
	3315, this is needed by Froggies Over The Fence's menu to exit
	properly, but official 6850 datasheet is not very clear about this,
	could be something wrong somewhere else in the acia's emulation.
	[3969372e9ebb]

2011-07-12  Nicolas Pomarede

	* src/ioMemTabSTE.c:
	Add 'todo' note about some STE's video registers that should return
	0 when read
	[4b1dfb03b2cb]

	* src/video.c:
	Update comments about bits 2-7 when reading $ff8260
	[7d36e14be668]

2011-07-11  Nicolas Pomarede

	* src/gui-osx/SDLMain.m, src/gui-osx/Shared.h, src/gui-osx/Shared.m:
	Patch by Deniz Turkoglu to remove some warnings when compiling under
	OS X
	[cc422de3973a]

	* src/video.c:
	Only set unused bits of $ff8260 to 1 in STF mode, not in STE mode
	(fix running BITS intro #54 in STE mode)
	[92dbad2b1772]

	* src/dmaSnd.c:
	For DMA sound, remove anti-aliasing from the low pass filter (patch
	dy D. Savinkoff)
	[7c9f63c03fcf]

2011-07-10  Nicolas Pomarede

	* doc/compatibility.html:
	Fix html typo
	[b0f5bb5b8b5a]

	* src/dmaSnd.c:
	Correct STE's DMA sound when user chooses a low frequency for the
	sound's output
	[c49f7bdf11ee]

2011-07-09  Nicolas Pomarede

	* doc/compatibility.html, src/sound.c:
	Better handling of internal audio's buffer when fast forward or
	slowdown happen In fast forward mode, the audio's indexes were
	incorrectly reset, which could cause some errors in the number of
	generated samples per VBL, and could cause some programs to crash
	(especially those using STE's DMA audio counters) (fix Music Dreams
	II by Electronic Images and Songs Of The Unexpected by OUCH)
	[a9c736a221ca]

2011-07-05  Nicolas Pomarede

	* doc/release-notes.txt:
	typo
	[627f18ae3eb3]

2011-07-05  Nicolas Pomarede

	* doc/release-notes.txt:
	Add some notes about sound/dma audio improvements
	[d2a689f19190]

	* src/main.c:
	Fix problem when Hatari would not react if paused for more than 2147
	seconds.
	[375fcc611859]

2011-07-04  Nicolas Pomarede

	* src/clocks_timings.c:
	Add more explicit TODO in the comments regarding Mega STE/TT/Falcon
	[3b62e5d277c9]

2011-07-05  Eero Tamminen

	* doc/emutos.txt:
	more demos compatible with EmuTOS
	[c2f327699ace]

2011-07-04  Nicolas Pomarede

	* src/clocks_timings.c:
	Fix comment
	[3a569a5e50e0]

	* doc/compatibility.html:
	spec512 mode is now working in med res too
	[2e625b262b00]

	* doc/compatibility.html:
	The issues where combining STE's 224 bytes overscan with horizontal
	scrolling are gone
	[a60cc4ce3ca4]

2011-07-02  Nicolas Pomarede

	* src/sound.c:
	For YM2149 clock's frequency, use the value defined in
	clocks_timings
	[c73fce901308]

	* src/includes/clocks_timings.h:
	MachineClocks structure should be declared as 'extern'
	[753e433dcf17]

	* src/dmaSnd.c, src/video.c:
	Mega STE's DMA sound and video shifter are working like the STE's
	ones
	[b8f966115ddd]

	* src/statusbar.c:
	Handle Mega STE in status bar
	[ab42f051b090]

2011-07-01  Nicolas Pomarede

	* src/dmaSnd.c:
	On STE, Sound Mode Control for DMA audio should be 0 after a reset
	[7609d8d1711e]

2011-06-26  Thomas Huth

	* cmake/DistClean.cmake:
	Remove install_manifest.txt during distclean
	[f097454f15cb]

	* CMakeLists.txt, cmake/Uninstall.cmake:
	Added 'uninstall' target
	[d9963ef43aee]

	* .hgignore:
	Ignore all packed manual pages
	[acff8c137c33]

2011-06-20  Eero Tamminen

	* doc/manual.html:
	fixes for debugger variables documentation
	[da8e4993c8a5]

	* doc/manual.html:
	fix manual w3c validator errors and internal links
	[aa09199892bd]

	* readme.txt:
	add some notes to readme.txt on packaging Hatari for Linux
	[92878536a690]

2011-06-20  Thomas Huth

	* tests/debugger/Makefile, tests/debugger/makefile:
	Renamed Makefile to makefile so that this file does not get removed
	anymore during 'make distclean' from the main directory
	[e10b50045a1a]

	* src/configuration.c:
	A non-existing configuration file is not fatal, so down-graded the
	message level to debug
	[4c6217e63292]

2011-06-19  Thomas Huth

	* CMakeLists.txt:
	Introduced ETCDIR so that the path for the global configuration file
	can be set by the user
	[e14ce1d98bb1]

2011-06-19  Eero Tamminen

	* doc/todo.txt:
	update winuae/debugger todos

	(reorder a bit to more likely implementation order)
	[d5b64161ac84]

	* src/debug/debug_priv.h, src/debug/debugcpu.h, src/debug/debugdsp.h,
	src/reset.c:
	re-set CPU&DSP debugger flags after reset if there are breakpoints
	etc
	[687830a03e51]

	* doc/manual.html:
	add debugger Usage examples section, update build instructions for
	CMake (+ some misc changes)
	[946df9d55e44]

2011-06-18  Eero Tamminen

	* doc/emutos.txt:
	more items to emutos compat list
	[b64303176318]

	* doc/manual.html, src/debug/breakcond.c:
	rewrite/update/reorder/expand debugger documentation, especially for
	breakpoints
	[9a915e6c05bf]

	* src/debug/breakcond.c:
	update & improve breakpoint help texts, remove overlapping info
	[ced7137d31db]

	* doc/manual.html, doc/release-notes.txt, doc/todo.txt,
	src/debug/debugcpu.c, src/debug/debugdsp.c, src/debug/evaluate.c,
	src/debug/evaluate.h:
	accept register/symbol/variable names for ranges to allow them for
	memdump & disasm commands
	[b59a4d2d5017]

	* tests/debugger/test-dummies.c:
	add new test dummies for the new debugInfo.c functions
	[ac144e6cbbc4]

2011-06-15  Laurent Sallafranque

	* doc/compatibility.html:
	change mouse trap game compatibility with new winuae core.
	[327ceee69cd3]

2011-06-15  Eero Tamminen

	* doc/manual.html:
	polish debugger section, remove now redundant LEDs info
	[d251bad249ec]

2011-06-14  Eero Tamminen

	* doc/todo.txt:
	add list of missing debugger features from Steem + update other
	todos
	[c7e0b38c1058]

2011-06-13  Nicolas Pomarede

	* doc/compatibility.html, src/ikbd.c:
	Add custom IKBD routine for Chaos A.D. by DNT Crew (used to decode
	the protection)
	[c6d92e5087e6]

2011-07-01  Nicolas Pomarede

	* src/dmaSnd.c:
	New STE's DMA audio engine with much improved accuracy and sound
	quality This new version emulates the DMA's 8 bytes FIFO and gives
	results nearly identical to a real STE when comparing the DMA audio
	address counter, resulting in an almost perfect sound emulation with
	no more noise/clicks sounds. (fix Hextracker by Paulo Simoee)
	[12cc0d539ef8]

2011-06-24  Nicolas Pomarede

	* src/main.c:
	Use ClocksTimings_GetVBLDuration_micro to accurately compute the
	duration of the emulated VBL
	[4a810e2dbaa4]

2011-06-23  Nicolas Pomarede

	* src/dmaSnd.c:
	Remove unnecessary '|1', both values are even
	[c0b498085f4d]

	* src/dmaSnd.c:
	Use 64 bits counter to increase the precision of the emulated DMA
	audio's frequency Upper 32 bits are used for the integer part ; this
	also simplifies the code
	[94fd2ffdae6a]

2011-06-21  Nicolas Pomarede

	* src/sound.c:
	Major accuracy improvements for STE DMA sound
	- In Sound_Update_VBL(), use the functions from clocks_timings.c to
	precisely determine the number of samples needed to emulate one
	VBL of audio data (a real PAL STE doesn't have a fixed video freq
	of 50 Hz, but of 50.053 Hz) We take into account the CPU clock as
	well as the number of cycles per VBL for each type of emulated
	machine to compute SamplesPerFrame.
	- In Sound_SetSamplesPassed, the returned number of samples to
	generate for the current call of Sound_Update_VBL could sometimes
	create more than SamplesPerFrame samples per emulated VBL, which
	could create a very noisy sound output. This results in a much
	better sound quality, as well as nearly perfect CPU/video/audio dma
	synchronisation under STE. Hatari's DMA frame counter should now be
	identical to the one measured on a real STE (except the 8 bytes DMA
	FIFO which is not emulated yet) (fix Audio/Video sync issues in
	'More Or Less Zero' by DHS, 'Hextracker' by Paulo Simoes)
	[e136600b88ce]

	* src/clocks_timings.c:
	Add example in comment
	[f225c5697540]

	* src/dmaSnd.c:
	Add debugging trace
	[d89332839af2]

2011-06-19  Nicolas Pomarede

	* src/dmaSnd.c:
	Always call Sound_Update() when changing DMA sound control register
	$ff8900 Previous versions were calling Sound_Update() only when DMA
	audio was stopped but not when it was started, which means that if
	DMA was started at the middle of a VBL, we would generate DMA
	samples for the whole VBL instead of first generating no sound for
	0.5 VBL followed by 0.5 VBL of sound where DMA is enabled. This
	would play more DMA samples than expected and create bad sound
	because current DMA address would be beyond its expected value at
	the end of the VBL (end of DMA frame would happens sooner than
	expected)
	[950e18dc2295]

2011-06-13  Nicolas Pomarede

	* src/clocks_timings.c:
	Remove debug printf
	[21429ca2bc2d]

2011-06-12  Nicolas Pomarede

	* src/clocks_timings.c:
	Remove useless #include
	[4a4d5ea043fc]

	* src/change.c, src/configuration.c, src/gui-sdl/dlgSystem.c,
	src/main.c, src/tos.c:
	Call ClocksTimings_InitMachine() when the emulated machine type is
	changed (STF, STE, Falcon, ...)
	[df8c0a09d846]

	* src/CMakeLists.txt, src/clocks_timings.c,
	src/includes/clocks_timings.h:
	Add clocks_timings.c to the source tree
	[065cb494bb3f]

2011-06-12  Eero Tamminen

	* src/debug/evaluate.c:
	match order = variables, registers, symbols order like for
	breakpoints
	[7a63ea3ae030]

2011-06-11  Eero Tamminen

	* etc/README, etc/n810.cfg, etc/win-ce.cfg, etc/wiz.cfg:
	update example etc/ files for latest configuration state
	[7dbae8189806]

	* doc/todo.txt, readme.txt:
	slightly more info on missing WinUAE stuff
	[27cc2b0d685e]

	* doc/manual.html, doc/release-notes.txt, src/debug/breakcond.c,
	src/debug/debugInfo.c, src/debug/debugInfo.h:
	Add DATA & BSS debugger variables and rename BasepageTextSegment to
	TEXT
	[3bd5e0430cf7]

2011-06-09  Eero Tamminen

	* doc/release-notes.txt:
	update release notes
	[93382453133e]

	* src/debug/debugInfo.c:
	countrycode: cz->cs, see http://en.wikipedia.org/wiki/.cs

	(and the language code is "cs" too.)
	[f71818912d5b]

2011-06-07  Eero Tamminen

	* src/debug/debugInfo.c:
	move cookiejar address to cookiejar subcommand
	[38ab3cd89828]

	* src/debug/debugInfo.c:
	add cookiejar & language info to debugger OS information
	[a93f5734577e]

	* doc/manual.html, doc/release-notes.txt:
	document BasepageTextSegment debugger variable
	[a1642b4315ff]

	* src/debug/breakcond.c, src/debug/debugInfo.c, src/debug/debugInfo.h:
	add BasepageTextSegment debugger/breakpoint variable
	[39d322def718]

2011-06-05  Nicolas Pomarede

	* doc/compatibility.html:
	Update status for Pandemonium Demos by Chaos
	[f78b37f28b2e]

2011-06-01  Eero Tamminen

	* doc/compatibility.html:
	explain WinAUE issue slightly better in compat list

	(There are actually quite a lot of DSP programs that happened to
	work in v1.4 with the old AUE core that aren't anymore working with
	it and which need WinAUE core.)
	[10c8205b6d35]

	* doc/compatibility.html:
	Ultimate Arena works now:

	It crashed occasionally with earlier Hatari versions, assumably
	because DMA register $ff8901 wasn't handled correctly in Crossbar
	[6187d1f6a629]

2011-06-01  Laurent Sallafranque

	* src/falcon/crossbar.c:
	fix bus error ($ff8901) in falcon mode. (this let voice.prg,
	conquest of elysium and some other programs to work now).
	[72087e7307f8]

2011-05-31  Nicolas Pomarede

	* src/includes/configuration.h:
	Add a specific machine type for 'Mega STe' Although mostly similar
	to the STe, the Mega STe has a few differences : 8/16 MHz 68000 cpu,
	CPU cache, optional FPU, HD floppy, ...
	[c05696155ecc]

2011-05-25  Nicolas Pomarede

	* src/main.c:
	Rename Clock_GetTicks/Clock_Delay to Time_GetTicks/Time_Delay It's
	better to keep "clock" to refer to the MHz frequencies of the
	different components of an Atari computer
	[cc8f153cbbe3]

2011-05-24  Laurent Sallafranque

	* doc/todo.txt:
	Update todo list.
	[cf52ae8a1f1c]

2011-05-23  Eero Tamminen

	* src/includes/stMemory.h, src/stMemory.c:
	fix printf warning from newer gcc (hopefully, I have only older gcc)
	[0d575f03c4a6]

	* src/debug/debugui.c, src/includes/options.h, src/main.c,
	src/options.c:
	more option parsing arg consting to get rid of gcc 4.6 const
	warnings
	[3f1abe99f26e]

2011-05-22  Eero Tamminen

	* src/debug/debugInfo.c:
	overscan mode has ORed flags, fix
	[d34fdaa2442e]

	* src/cfgopts.c:
	cleanup / fix configuration file handling:

	* fgets() returns NULL both on errors & EOF and that NULL is passed
	through by Str_Trim(), so check Str_Trim() return value instead of
	relying on feof() to fix error handling.

	* use string returned from Str_Trim() instead of string that's given
	to it as argument (both work as Str_Trim() modifies the arg, but
	the idiom is to use its return value and that fixes Clang warning)

	* as fgets() reads only a single line and string trimming removes
	white space at both ends of the string, there's no point in giving
	\n & \r as delimeters for strtok(), so use just "="
	  - supporting multiple delimeters would also be confusing

	* check "next" validity returned by further strtok()s calls to
	avoid potential segfaults when checking token types and values.
	  - don't anymore accept "key" as equivalent of "key=" (which the
	previous code did, but only for string types)

	* Remove redundant & broken strtok() call and resulting redundant
	"next" variable from update_config()
	  - Fixes Clang & GCC 4.6 warning
	[0b10ee3dd607]

	* src/debug/breakcond.c:
	show also locked info after breakpoint info (same change as for
	"file" option)
	[50e2938d85d2]

	* doc/release-notes.txt, src/debug/debugInfo.c:
	"video" subcommand for the debugger "info" command (for showing
	video related Hatari variable values/info)
	[2bdb8e92e050]

2011-05-22  Nicolas Pomarede

	* src/video.c:
	Remove unused variable bScreenChanged
	[29578450ae82]

2011-05-22  Eero Tamminen

	* src/video.c:
	set global variables that aren't used outside of video.c as static
	[4512065d5a03]

	* src/gemdos.c:
	fix Clang reported uninitialized variable and potential NULL pointer
	use in gemdos.c
	[1f7cb302c349]

	* src/floppy.c:
	move unused debug variables inside ifdef

	(Clang complainment)
	[616e3e78a36d]

	* src/hdc.c:
	fix undefined hdc.c variable value use reported by Clang
	[c6556b8be41c]

	* src/xbios.c:
	update xbios debug stuff (complained by Clang)
	[2a4a2def2908]

	* src/debug/profile.c, src/falcon/videl.c:
	remove redundant assignments reported by Clang
	[247607093b75]

	* src/gui-sdl/dlgFileSelect.c, src/gui-sdl/sdlgui.c:
	remove redundant variables from SDL GUI code reported by Clang
	[0352da822910]

	* src/ioMem.c:
	silence (theoretical) NULL pointer access warning from Clang for
	ioMem
	[55e5664e5560]

	* src/screenSnapShot.c:
	remove Clang reported redundant variable from screenshot code
	[434c5a11fb91]

	* tools/hmsa/hmsa.c:
	fix clang reported hmsa warning output bug
	[45dbe40fb4a2]

	* doc/compatibility.html, doc/release-notes.txt, doc/todo.txt:
	minor doc updates/fixes in preparation to release
	[cea57563a4ef]

2011-05-21  Eero Tamminen

	* doc/manual.html:
	add documentation on chaining breakpoints & other debugger actions
	[fa3ef1b2976b]

	* src/debug/breakcond.c:
	show :file action output last on breakpoint hit

	(otherwise it's confusing, first you get note about hit, them file
	action output, then breakpoint name etc)
	[8d310c58db96]

	* tests/debugger/test-evaluate.c:
	add test for evaluting internal variables
	[d8f472afed09]

	* src/debug/breakcond.c, src/debug/breakcond.h, src/debug/evaluate.c:
	allow use of Hatari internal variables in debugger expressions (e.g.
	"VBL+4" in breakpoints)
	[16a02567b5f1]

2011-05-20  Nicolas Pomarede

	* src/ikbd.c:
	Fix a weird bug in tos 1.02/1.04 when ACIA's TX delay is too big
	Although theorical value should be above 7000 cpu cycles, such value
	is causing some memory being overwritten by the stack for tos
	1.02/1.04, which can prevent restoring the correct resolution from
	desktop.inf (and certainly mess with other things in the memory) !
	Lower the value to 1000 cycles for now, this needs better tests on a
	real ST.
	[2a7f3d1f3052]

2011-05-15  Nicolas Pomarede

	* src/dmaSnd.c:
	Improved LMC1992 filtering for DMA sound by David Savinkoff
	- The IIR filters for bass/treble now control the volume
	- Anti-alias filtering is not performed at the 50066 Hz sampling rate
	; better sound and performance
	[3947643d642a]

	* src/sound.c:
	Remove debug printf
	[7ec7998ade7a]

2011-05-14  Eero Tamminen

	* src/falcon/hostscreen.c, src/resolution.c:
	ignore user configured max resolution when --desktop yes is set

	Fixes case where Falcon monochrome isn't zoomed on fullscreen with
	the default configuration max window size.

	Add more debug statements to resolution handling + fix one
	hostscreen.c one.
	[f1e11759798a]

2011-05-14  Nicolas Pomarede

	* doc/compatibility.html:
	'BBS Intro 3' is now working
	[134df05ab3fd]

	* src/uae-cpu/gencpu.c:
	Correctly handle address error in UAE's cpu core for JSR and JMP
	(fix 'BBS Intro 3' by Lynx which uses this in the 3D routines)
	[59d01aea8b52]

	* doc/compatibility.html:
	Add note for 'BBS Intro 3' by Lynx not working for now
	[a38e173a6574]

	* configure:
	Remove previous CmakeCache.txt before running cmake If we run for
	example './configure --enable-winuae-cpu' then './configure', the
	build will still use winuae's cpu instead of the default uae's one,
	which is not the intended behaviour. Removing CMake's cache fixes
	the problem
	[1329ce80c86f]

2011-05-13  Eero Tamminen

	* src/resolution.c:
	fix: do not force default bitdepth for fullscreen with --desktop
	option

	(This breaks ST monochrome mode and isn't needed to get rid of LCD
	resolution switch delay for which the --desktop option helps.)
	[18e8754365b8]

2011-05-13  Nicolas Pomarede

	* readme.txt:
	Add note about "./configure --enable-winuae-cpu" to use the new
	WinUAE's cpu core
	[ef39f174a08d]

2011-05-11  Laurent Sallafranque

	* src/debug/debugInfo.c:
	add some video registers to debuginfo videl. Also add size of
	registers for videl and crossbar.
	[25fe689e6055]

2011-05-11  Nicolas Pomarede

	* src/ikbd.c:
	Better support of bit 1 (TX buffer empty) in ACIA's status register
	when writing to $fffc02 When a byte is written in $fffc02 (to be
	sent to the ikbd), bit 1 of SR is set to 0 to indicate a serial
	transfer is happening. Once the byte has been completly transfered
	to the ikbd, bit 1 of SR should be turn back to 1. We use an
	internal timer of ACIA_CYCLES to emulate this transfer's delay and
	correctly emulate the behaviour of bit 1. (fix 'Pandemonium Demo' by
	Chaos)
	[ce7891104e5b]

2011-05-10  Nicolas Pomarede

	* src/debug/log.h:
	Trace ikbd_all should not include VDI calls
	[1cba95fa459f]

2011-05-09  Nicolas Pomarede

	* doc/compatibility.html:
	Add note for DNT screen in Snork Demo
	[e5ba3424a692]

2011-05-09  Eero Tamminen

	* tests/readme.txt:
	add readme for tests
	[338a65fc1cb5]

	* doc/compatibility.html, doc/hatari.1, doc/manual.html, doc/release-
	notes.txt, readme.txt:
	update docs for coming v1.5 release and add notes about WinUAE
	[0b6c3f872bb9]

	* doc/midi-linux.txt:
	update linux midi notes
	[4e53915d0f43]

2011-05-09  Nicolas Pomarede

	* doc/compatibility.html, doc/release-notes.txt:
	Typo : AUE -> UAE
	[c81447ad3d45]

2011-05-08  Nicolas Pomarede

	* doc/compatibility.html:
	Add note for 'Tyme Warp' not working yet
	[271e7e19215b]

	* doc/compatibility.html:
	Add note for 'Music Dream II' on STE
	[9e71213555e5]

	* src/includes/sound.h, src/main.c, src/shortcut.c, src/sound.c:
	Sound_ResetBufferIndex() should only be called just after the sound
	was generated for the whole VBL Calling Sound_ResetBufferIndex()
	will set CurrentSamplesNb=0, which can interfere with the way we
	compute current dma sound address ($ff8909/0b/0d). To avoid problems
	in that case, the call to Sound_ResetBufferIndex() should be defered
	just after Sound_Update(true) was called to complete the sound
	buffer for the VBL. (fix 'Music Dream II' crashing on a red screen
	when exiting pause or fast forward)
	[4607b3227e3a]

2011-05-08  Thomas Huth

	* src/CMakeLists.txt:
	Use the right variable for linking the variables from the FindX11
	CMake module
	[d5cabe4adc87]

2011-05-01  Eero Tamminen

	* src/fdc.c, src/includes/fdc.h:
	cleanup: move things that can be static and aren't needed in fdc.h
	to fdc.c
	[75b86c628507]

	* src/gemdos.c:
	fix to gemdos emu DST handling (bug reported by Uwe on hatari-devel)
	[2a595cb7f677]

2011-04-30  Eero Tamminen

	* src/fdc.c, src/hdc.c, src/includes/fdc.h:
	validate fdc.c & hdc.c memory copy address validities

	(fdc.c one fixes Hatari crash with Mental Hangover demo)
	[64062150d486]

	* src/includes/stMemory.h, src/stMemory.c:
	add stMemory_SafeCopy()
	[cf281e76c391]

	* doc/release-notes.txt:
	add release notes about Laurent's DSP changes
	[45f36c071227]

2011-04-22  Eero Tamminen

	* src/ikbd.c:
	revert IKBD date change, TOS v2 requires BCD with overflow (to show
	this century dates correctly)
	[3fb2bdaf0487]

2011-04-30  Nicolas Pomarede

	* doc/compatibility.html:
	Fix url on pouet.net
	[764788ceaab4]

	* doc/compatibility.html:
	'Bird Mad Girl Show' requires Hatari 1.5
	[4e6e92a24e1b]

2011-04-29  Nicolas Pomarede

	* doc/compatibility.html:
	Add Gen4 demo by Overlanders to compatibility list
	[299232266a02]

	* src/uae-cpu/newcpu.c:
	While processing an exception, raise an address error exception if
	the new PC is not even (fix Gen 4 Demo by Ziggy Stardust / OVR)
	[e177e0529b24]

2011-04-23  Thomas Huth

	* CMakeLists.txt, cmake/config-cmake.h, src/includes/scandir.h,
	src/scandir.c:
	Added proper CMake tests for alphasort() and scandir()
	[fa6f8f180d0e]

2011-04-22  Thomas Huth

	* src/ikbd.c:
	Reverted Eero's bad BCD calculation change
	[672bac9e16df]

	* src/ioMemTabTT.c:
	TT does not have an Mega-ST(E) compatible RTC chip
	[e0bca488de6f]

2011-04-21  Eero Tamminen

	* python-ui/TODO, python-ui/dialogs.py, python-ui/hatari.py, python-ui
	/release-notes.txt:
	add --desktop support to Python UI + update TODO
	[a705fa981aa4]

	* python-ui/README, python-ui/config.py, python-ui/debugui.py, python-
	ui/hatariui.py, python-ui/uihelpers.py:
	update python UI copyrights & doc
	[ffb75703039f]

	* python-ui/dialogs.py, python-ui/hatari.py, python-ui/release-
	notes.txt:
	add RTC support to python UI
	[5fad5d46a324]

	* doc/hatari.1, doc/manual.html, src/options.c:
	add option for enabling/disabling RTC
	[f6e55ff31842]

2011-04-20  Eero Tamminen

	* src/ikbd.c:
	fix BCD calculation for IKBD date
	[41c79174127b]

2011-04-14  Eero Tamminen

	* tools/hconsole/hconsole.py:
	fix one more python v2 vs. v3 issue in hconsole
	[ca8cfadca146]

2011-04-13  Eero Tamminen

	* doc/emutos.txt, doc/manual.html, doc/release-notes.txt:
	minor doc updates
	[0217e51b257c]

2011-04-12  Nicolas Pomarede

	* src/sound.c:
	Set default YM Mixing method to 'STF table' instead of 'linear' 'STF
	table' is giving much better results when the 3 voices of the YM2149
	are used to play samples.
	[fc530888f2b2]

	* src/configuration.c, src/includes/sound.h, src/sound.c:
	Call Sound_SetYmVolumeMixing when YM Mixing is changed (rebuild
	conversion table)
	[0747ee3412a3]

2011-04-11  Eero Tamminen

	* doc/hatari.1, doc/images/sound.png, doc/manual.html, src/options.c:
	add documentation for YM mixing option
	[51d2f4cafd46]

	* src/gui-sdl/dlgSound.c:
	add YM mixing options to SDL GUI sound dialog
	[38649699b323]

2011-04-10  Nicolas Pomarede

	* src/dmaSnd.c:
	Remove unused variable
	[c1688c3a9ec8]

	* src/dmaSnd.c, src/includes/dmaSnd.h, src/video.c:
	Rename DmaSnd_HBL_Update to DmaSnd_STE_HBL_Update and update DMA
	sound on every HBL only for STE (not Falcon)
	[377809d1b3f3]

2011-04-07  Eero Tamminen

	* src/options.c:
	add --ym-mixing option
	[b0101f140f87]

2011-04-06  Nicolas Pomarede

	* src/configuration.c, src/includes/configuration.h:
	Add YmVolumeMixing to the [sound] section of the config file
	[7333e43ffef0]

2011-04-05  Eero Tamminen

	* etc/README:
	add links to info about device mentioned in README
	[8e1eabd3d313]

	* etc/README:
	update comments for CMake
	[a7d993c1b04f]

2011-04-05  Matthias Arndt

	* etc/GP2X_Wiz/crossdefs.wiz, etc/GP2X_Wiz/hatari-wrapper.gpe,
	etc/wiz.cfg:
	- initial support for crosscompiling for GP2X Wiz target
	(Crossdefs for CMake, config and target wrapper script)
	[f0d5387b765c]

2011-04-03  Eero Tamminen

	* doc/images/screen.png, doc/manual.html, src/gui-sdl/dlgScreen.c:
	add "keep desktop resolution" and "drive led" options to screen
	dialog
	[369f3a3e22eb]

	* doc/manual.html:
	split & re-order options in manual similarly to man page
	[f536a0a48a56]

2011-04-02  Eero Tamminen

	* doc/compatibility.html, doc/emutos.txt:
	correct Octalyser info from Anders
	[8df9f4c43181]

	* doc/compatibility.html, doc/emutos.txt:
	update emutos compat list
	[6e3652cf0596]

	* doc/compatibility.html:
	Protracker STE OK according to Matthias, Octalyzer still flickers
	[7c92d1fea7f9]

2011-04-07  Nicolas Pomarede

	* doc/compatibility.html:
	Update DMA sound status for 'Power Up Plus' and 'Mental Hangover'
	[18ef05fc8a91]

	* src/dmaSnd.c:
	Since DMA sound is updated on each HBL, we don't need an internal
	timer anymore to detect the end of frame
	[0ac9d5f616ad]

2011-04-04  Nicolas Pomarede

	* src/dmaSnd.c:
	Remove Hatari's internal interrupt when DMA sound is stopped
	[4c5ac7bd582c]

	* src/dmaSnd.c:
	Create a common function to apply bass/treble filters
	[d9ef79bfd0a9]

2011-04-03  Nicolas Pomarede

	* src/dmaSnd.c, src/includes/dmaSnd.h, src/video.c:
	Reorder code, more log, missing include
	[9713bc7c2581]

	* src/dmaSnd.c, src/video.c:
	On STE, call Sound_Update on each HBL to handle programs that modify
	the samples data while DMA sound is ON Some programs are using
	single buffer method to build the next sample to be played in the
	same buffer used to play the current sample. We need to update the
	DMA output on each HBL to be sure to take the correct bytes into
	account (generating the whole output only once per VBL would not
	work) (fix the game 'Power Up Plus' and the demo 'Mental Hangover'
	by The Pixel Twins)
	[8f208db51825]

	* src/dmaSnd.c:
	Use constant values, DMA sound frequencies are not related to the
	CPU's clock
	[6e8cbaf128e4]

2011-04-01  Nicolas Pomarede

	* doc/compatibility.html:
	Add comment for 'Bad Taste' not working yet
	[4803f9b9c55a]

2011-04-01  Laurent Sallafranque

	* src/falcon/dsp_disasm.c:
	remplace "0x" by $ in all DSP addresses and values when debugging.
	[dcaebf6c99d4]

2011-03-31  Nicolas Pomarede

	* doc/compatibility.html:
	Add comment for 'Mental Hangover' by Pixel Twins
	[3a9230cb56fc]

2011-03-29  Eero Tamminen

	* src/debug/log.h:
	use GCC "unlikely" feature for the other trace log level check too
	[f5a30d4d2d03]

2011-03-29  Laurent Sallafranque

	* src/falcon/dsp_cpu.c, src/falcon/dsp_disasm.c:
	change LogTraceFlags by log.h macro LOG_TRACE_LEVEL(). Made
	write_memory inline. Better readability for a and b registers in
	disasm mode.
	[40fc47accfba]

	* src/falcon/dsp_cpu.c:
	remove 2 unuseful defines
	[c8d83e1589f7]

	* src/debug/log.c, src/debug/log.h, src/falcon/dsp_cpu.c,
	src/falcon/dsp_disasm.c:
	add: dsp_disasm_reg and dsp_disasm_mem trace. Now, you can trace DSP
	instructions + see the modified registers and the modified memory
	fields. To allow dsp_disasm_reg and/or dsp_disasm_mem, dsp_disasm
	must be enabled.
	[356d537374d5]

2011-03-27  Nicolas Pomarede

	* src/debug/68kDisass.c, src/sound.c:
	Cancel unwanted commit
	[9786a1d21efc]

	* doc/authors.txt, src/debug/68kDisass.c, src/sound.c:
	StSound's routines for tone/noise are not used anymore
	[32325dbe6ab0]

2011-03-27  Thomas Huth

	* doc/authors.txt:
	Updated the authors.txt file.
	- Added Deniz Turkoglu
	- Added WinUAE
	- Make sure that all lines fit the 80 columns limit
	[b1170dc78d62]

	* src/gui-osx/English.lproj/SDLMain.nib/designable.nib, src/gui-
	osx/English.lproj/SDLMain.nib/keyedobjects.nib, src/gui-
	osx/PrefsController.m, src/gui-osx/SDLMain.h, src/gui-osx/SDLMain.m:
	Changes to the OS X GUI so that it hopefully compiles again... ...
	thanks to Deniz Turkoglu for the patch.
	[20b46807e5d6]

2011-03-26  Nicolas Pomarede

	* src/dmaSnd.c:
	When reading DMA sound address at $ff8909/0b/0d, call SoundUpdate
	first to update current address (fix 'Music Dream II' by Electronic
	Images)
	[6aea892b11b1]

	* src/cycles.c, src/uae-cpu/newcpu.c:
	Correct video timing for 'move.b $ffff8209.w,xxx.w' (fix 'Bird Mad
	Girl Show' loader/protection)
	[903c21c349ae]

2011-03-25  Nicolas Pomarede

	* doc/compatibility.html:
	Add note for RGB Plasma by Omega (wrong boot sector caused bus
	error)
	[a45a874a4040]

	* src/floppy.c:
	Fix wrong SectorsPerTrack value when boot sector doesn't match
	ST/MSA disk image's size In the case where the boot sector doesn't
	contain the correct values for side, sector per track or total
	number of sectors, the number of tracks was not taken into account
	to guess the correct parameters, which could lead to some errors.
	For example, if the BS reported 1600 sectors/10 sectors per track
	but the real number of sectors was 1440, then corrected number of
	sectors was set to 10 instead of 9 (which means an unlikely 72
	tracks/10 sectors disk was prefered instead of 80 tracks/9 sectors)
	This could cause some disk loaders to crash. (fix RGB Plasma by
	Omega)
	[4afa0450587f]

2011-03-24  Eero Tamminen

	* src/resolution.c:
	check "*width && *height", not "*width && *width"
	[4acf972755f9]

2011-03-23  Eero Tamminen

	* doc/hatari.1, doc/release-notes.txt, src/configuration.c,
	src/includes/configuration.h, src/options.c, src/resolution.c:
	keep desktop resolution is now enabled by default and a bool option
	[1d6e2110addb]

2011-03-22  Eero Tamminen

	* doc/compatibility.html:
	updated compat list according to Nicolas' & Matthias' comments,
	tested Mgif DSP functionality
	[574d08ce7ed0]

2011-03-21  Eero Tamminen

	* doc/manual.html:
	update manual breakpoint options information
	[b5d42e6778f0]

	* doc/release-notes.txt, tests/debugger/Makefile,
	tests/debugger/data/test.ini, tests/debugger/test-breakcond.c,
	tests/debugger/test-dummies.c:
	update breakpoint tests & release notes for new breakpoint options
	(+ fix minor issue in test Makefile automation)
	[7273375b2a70]

	* src/debug/breakcond.c:
	allow multiple options / breakpoint, add ":file" option, rename
	":info" to ":lock"
	[818533555b43]

2011-03-20  Eero Tamminen

	* doc/manual.html:
	improve manual debugger texts
	[3a9349360a2a]

	* src/debug/debugui.c:
	better "lock" debugger command explanation
	[2662c2dca1dc]

	* src/falcon/hostscreen.c, src/falcon/hostscreen.h,
	src/falcon/videl.c:
	fix videl palette[1] on OSX resolution switch by remapping colors:
	- I'm not sure whether the updatePalette() call is (still) needed
	- patch tries also to speed up videl 32-bit updates by removing an
	intermediate function and calling SDL_MapRGB directly
	  - added HostScreen_getFormat() method for that
	- correct some of the used variable types

	[1] It appears that OSX uses different data format for fullscreen
	and windowed surfaces. Remapping native color values on resolution
	switch was reported to fix the handling for Falcon modes with
	palette, but apparently HiColor -> 32-bit conversion has still
	some problem.

	(The patch also tries to speed up videl updates a bit by removing
	one intermediate hostscreen function call per pixel.)
	[1de05185b8ab]

	* doc/hatari.1:
	better manual page explanation for window size options
	[b93a50f6d0d3]

	* src/debug/debugui.c:
	better trace command debugger help
	[e55940b3cab8]

2011-03-20  Laurent Sallafranque

	* src/falcon/dsp_cpu.c:
	fix: dsp56k_disasm must be called before instruction execution
	because some instructions like jmp, jsr, ... change the stack value.
	Then, it must be called after instruction execution to get the
	number of cycles taken by the instruction.
	[79262e80799e]

2011-03-19  Laurent Sallafranque

	* src/falcon/dsp.c, src/falcon/dsp_cpu.c, src/falcon/dsp_cpu.h:
	renamed one function for better understanding
	[fc537719c47b]

	* src/falcon/dsp.c, src/falcon/dsp_cpu.c, src/falcon/dsp_cpu.h,
	src/falcon/dsp_disasm.c, src/falcon/dsp_disasm.h:
	fix and improve DSP trace and DSP disams mode.
	[c579c7be51e1]

2011-03-16  Laurent Sallafranque

	* src/falcon/dsp_cpu.c:
	add: dsp disasm trace
	[1ccac6897d8f]

2011-03-09  Eero Tamminen

	* src/falcon/hostscreen.c, src/falcon/hostscreen.h:
	hostscreen fix/optimization, SDL color channel values are Uint8, not
	Uint32
	[59a80cc1f617]

2011-03-09  Laurent Sallafranque

	* src/falcon/dsp_cpu.c:
	fix: when dsp encounters an unknown instruction, it loops forever,
	and there's no way to stop it but killing the cession. I've added
	100 cycles to allow the user to be able to quit hatari normally.
	[f1c25744b93b]

2011-03-08  Laurent Sallafranque

	* src/cpu/cpummu.c:
	fix: change D(bug( ... messages by fprintf messages. This generates
	a lot warnings.
	[394a26c5da86]

	* src/cpu/newcpu.c:
	fix: Hatari now boots in MMU emulation mode (68040 only + MMU). MMU
	itself still doesn't work for now.
	[8db37b9a0cc5]

2011-03-05  Thomas Huth

	* doc/manual.html:
	Fixed invalid HTML
	[36a4450a376d]

2011-03-04  Eero Tamminen

	* src/options.c:
	typo: WinAUE -> WinUAE
	[73bb9d7d4ba9]

	* doc/hatari.1, src/options.c:
	move WinAUE options under their own heading, improve option
	descriptions & order

	WinAUE options being under their own heading (and the options
	themselves) may be temporary, we don't know yet which ones they will
	be or will we in next release have one or two CPU cores.
	[5b84a830651b]

2011-03-03  Eero Tamminen

	* doc/compatibility.html:
	mark keff demo as broken, add (back) info which demos use DSP
	Mp2-playback
	[22b20535f062]

2011-03-02  Eero Tamminen

	* doc/hatari.1, doc/release-notes.txt, src/options.c:
	add --desktop option + split display options to common, ST/E and
	Falcon/TT options
	[aec78c031aee]

	* src/configuration.c, src/falcon/hostscreen.c,
	src/includes/configuration.h, src/resolution.c:
	Add option for using Desktop resolution in fullscreen

	This way one can avoid the long delay LCDs have in resolution
	switching and problems it causes with multihead etc. setups.

	This is Falcon/TT (hostscreen/videl) specific because only those
	support arbitrary integer scaling values unlike the ST/STE screen
	code.
	[68abf6896aaa]

2011-02-23  Laurent Sallafranque

	* src/cpu/custom.c, src/cpu/fpp.c, src/cpu/gencpu.c:
	fix: some more likely and unlikely warnings removed
	[0e633492235c]

	* doc/compatibility.html:
	Update compatibility list : MP2 sound is now OK (except for wait
	demo). (I've tagged hatari's version as 1.4+)
	[ab36922aed27]

	* src/falcon/videl.c:
	fix Videl monochrome monitor from Eero.
	[87461cda72e5]

	* src/cpu/cpummu.c, src/cpu/cpummu.h, src/cpu/gencpu.c,
	src/cpu/newcpu.c:
	fix: remove likely and unlikely warnings
	[0734213b4d0b]

2011-02-21  Eero Tamminen

	* doc/coding.txt:
	add coding guideline for "magic" value, update notes on coding style
	[32a0384b59bf]

2011-02-20  Laurent Sallafranque

	* CMakeLists.txt:
	return back to old CPU for now
	[879e8d126262]

	* CMakeLists.txt, src/ioMem.c:
	Changed variable to enum
	[0d5edb7c6ea7]

2011-02-20  Eero Tamminen

	* src/cpu/newcpu.c, src/cpu/newcpu.h:
	remove redundant code related to wide-char buf_out() function

	WinUAE has several new functions which use wide-char. buf_out()
	buffers the output before it's printed, but it's not used nor
	implemented in Hatari port of WinAUE code. As Hatari code prints
	information just with printf, buf_out() usage related local
	variables, allocations etc can be removed.

	Additionally this fixes the disassembly functions so that they write
	the disassembly to correct FILE* given by debugger and it makes
	m68k_disasm_2() static as it's not used outside of newcpu.c.
	[885a607022eb]

2011-02-20  Laurent Sallafranque

	* src/ioMem.c:
	added a comment
	[b87fc4bb6601]

	* src/ioMem.c:
	rename variable
	[26cb69744a4a]

	* src/includes/ioMem.h, src/ioMem.c, src/ioMemTabFalcon.c,
	src/memorySnapShot.c:
	add: saving isFalconInSteBusMode variable in snapshots. I've also
	renamed it and the function called to change it.
	[4a91c73cd3e3]

	* src/ioMemTabFalcon.c:
	remove: obsolete comment
	[b91c9476ee01]

2011-02-19  Laurent Sallafranque

	* src/includes/ioMem.h, src/ioMem.c, src/ioMemTabFalcon.c:
	code cleaning: only one function for STe compatible bus or Falcon
	only bus emulation (relative to register $ff8007.b)
	[1c1d95173487]

	* src/ioMemTabFalcon.c:
	fix: use correct value for nCpuFreqShift when register $ff8007.b is
	changed.
	[faa2dc624bb7]

2011-02-19  Eero Tamminen

	* doc/release-notes.txt, python-ui/release-notes.txt, tools/hconsole
	/release-notes.txt:
	update release notes
	[0c6b32289aa3]

	* python-ui/dialogs.py:
	hatari UI: support also AES, Videl, Crossbar & DSP tracing
	[1e5891d9d700]

	* python-ui/debugui.py:
	debug UI: disassembly is now prefixed with '$', adapt
	[a84b3df6ffc3]

	* python-ui/config.py, python-ui/debugui.py, python-ui/dialogs.py,
	python-ui/hatari.py, python-ui/hatariui.py, python-ui/uihelpers.py:
	hatari UI: partial/preliminary Python v3 support
	[aa318a50e4d5]

	* tools/hconsole/hconsole.py:
	hconsole: support both python v2 & v3
	[6ec63dd08c0d]

	* src/falcon/videl.c:
	videl fix: ST shifter is byte, not word register. Fix typos in
	comments
	[1c17e5953630]

	* src/falcon/videl.c:
	add videl trace point on video mode changes
	[cf0c1f7a96ea]

2011-02-19  Laurent Sallafranque

	* src/ioMemTabFalcon.c:
	add : switch from 8Mhz to 16 Mhz or from 169 Mhz to 8 Mhz
	($ff8007.b)
	[ef2322597285]

	* src/includes/ioMem.h, src/ioMem.c, src/ioMemTabFalcon.c,
	src/stMemory.c:
	add: STE bus control compatibility for Falcon. All registers are now
	set / unset according to Thomas's tests on Bus error.
	[7becc35a0e80]

2011-02-18  Laurent Sallafranque

	* src/debug/log.c, src/debug/log.h, src/falcon/dsp_core.c,
	src/falcon/dsp_cpu.c:
	add trace for DSP. Already implemented : dsp host interface
	(transmit, receive and host commands), SSI (transmit, receive,
	handshake mode), dsp state and dsp_interrupts. Still to do : dsp
	instructions, dsp memory and dsp register changes.
	[4d1078fb574c]

2011-02-15  Nicolas Pomarede

	* src/dmaSnd.c:
	Fix from David Savinkoff : allows low sample rates to work with the
	treble step filter
	[99cb3cf237d1]

2011-02-15  Laurent Sallafranque

	* src/cpu/compat.h, src/cpu/custom.c, src/cpu/newcpu.c,
	src/cpu/newcpu.h, src/cpu/sysdeps.h:
	fix f_out to allow disasm register with new CPU. Thanks to Eero to
	the tip.
	[c1aa6b34077b]

	* src/stMemory.c:
	Add all memory size allowed by tos 4.04. As register $ff8006 is not
	well documented, I believe in TOS code.
	[2158985d7c9e]

	* src/audio.c, src/falcon/crossbar.c, src/falcon/crossbar.h:
	fix: DMA filters is only for STE/TT. Add for Falcon mode: take into
	account the new sound frequency while sound plays. Rendering is OK
	now if one change the sound frequency while hatari runs.
	[92a98c558c21]

2011-02-15  Nicolas Pomarede

	* src/audio.c:
	Rebuild STE's bass/treble filters when output sound freq is changed
	while Hatari is running Previously, the tables were not changed and
	remained relative to the old sound freq
	[70aa55493b4d]

2011-02-14  Laurent Sallafranque

	* src/falcon/crossbar.c:
	add: test is DSP Play is not tristated before doing a tranfer
	between DSP_PLAY and crossbar.
	[1783abb0373f]

	* src/stMemory.c:
	Added comment about $ffff8006.b register. returned back to Thomas's
	original code
	[e888217e90b3]

2011-02-13  Nicolas Pomarede

	* src/dmaSnd.c:
	Fix from David Savinkoff : better Bass/Treble filter for output
	audio freq < 22 kHz With previous version, there was no audible
	sound when Hatari's output freq was < 22 kHz
	[68216516bda8]

2011-02-13  Laurent Sallafranque

	* src/video.c:
	fix: call VIDEL function to set correctly bUseSTShifter value.
	[e71e0eeeab08]

	* src/falcon/crossbar.c:
	rollback to previous code : my patch breaks mouse.prg (conquest of
	elysium doesn't work anymore now).
	[c5f107e0a777]

2011-02-12  Nicolas Pomarede

	* src/dmaSnd.c:
	Fix typo
	[0a3c5c9e763e]

	* src/dmaSnd.c, src/includes/dmaSnd.h, src/ioMemTabSTE.c,
	src/ioMemTabTT.c:
	Add write logs for all DMA sound registers
	[ac6bd12ae9d0]

2011-02-11  Laurent Sallafranque

	* src/falcon/crossbar.c:
	temporary fix: remove bad test in 8 bits mono DMA sound transfer.
	This allow Conquest of Elysium to work (without sound for now)
	[766657968771]

2011-02-09  Laurent Sallafranque

	* src/falcon/videl.c, src/falcon/videl.h, src/ioMemTabFalcon.c:
	add screen base write to Videl.
	[6a7ab1af01fc]

2011-02-06  Nicolas Pomarede

	* src/ioMemTabFalcon.c, src/uae-cpu/newcpu.c:
	merge
	[3d4f3f2d8a6f]

	* CMakeLists.txt, cmake/config-cmake.h, src/main.c:
	Add detection of gettimeofday() and nanosleep() into cmake. Enable
	microsec precise delays in Main_WaitOnVbl This improves VBL
	synchronisation with sound when 1/nScreenRefreshRate is not an
	integer (eg 60 Hz)
	[d003c9e2c365]

	* src/main.c:
	In Main_WaitOnVbl, use micro sec instead of milli sec to measure all
	delays (Clock_GetTicks and Clock_Delay) If the OS is precise enough,
	we use native micro sec precision to get the current clock tick,
	else we default to SDL_Delay*1000.
	[d482b9b49307]

2011-02-06  Laurent Sallafranque

	* src/uae-cpu/newcpu.c:
	fix typo error.
	[a6ea5411b20d]

2011-02-04  Laurent Sallafranque

	* src/ioMemTabFalcon.c:
	Restore old paramter as long as Videl code is not complete.
	[f13f9c8bf524]

	* src/ioMemTabFalcon.c:
	fix: addresses in videl memory that are not mapped musn't generate
	bus errors.
	[823b34dea930]

2011-02-02  Laurent Sallafranque

	* src/falcon/videl.c, src/falcon/videl.h, src/ioMemTabFalcon.c:
	add monitor and memory register + some more comments about Videl
	registers (this time, I think all registers are referenced)
	[352b356e2531]

	* src/stMemory.c:
	fix: no need to copy monitor info ($ff8006 bits 6 and 7) into
	$ff82c0 register (bits 1-0), because the TOS does it on startup.
	[75985302390e]

2011-02-01  Laurent Sallafranque

	* src/falcon/videl.c, src/falcon/videl.h, src/ioMemTabFalcon.c:
	Some more changes for Videl emulation : added all "vertical"
	registers
	[0a11c3813bc3]

	* src/debug/log.c, src/debug/log.h, src/falcon/videl.c,
	src/falcon/videl.h, src/includes/configuration.h,
	src/ioMemTabFalcon.c, src/memorySnapShot.c, src/stMemory.c:
	more changes to videl code.
	[e5264a0c1688]

2011-01-31  Laurent Sallafranque

	* src/falcon/videl.c, src/falcon/videl.h, src/includes/video.h,
	src/ioMemTabFalcon.c, src/memorySnapShot.c, src/video.c:
	First changes to videl emulation : prepared some code, removed
	bUseSTShifter variable from video.c as this is a Falcon specific
	variable. Added snapshot save/restore to videl.
	[9c1811f935b7]

2011-01-31  Eero Tamminen

	* doc/todo.txt:
	add some TODOs
	[4be4b4316e1c]

2011-01-30  Laurent Sallafranque

	* src/falcon/crossbar.c:
	fix: clear dac (left/right) value when read. Else, some programs
	stop feeding this buffer, but it loops with the last datas. This
	also solve the "diesel engine" sound generated by some programs or
	when one reset hatari.
	[734bd666377b]

2011-01-30  Eero Tamminen

	* python-ui/dialogs.py, python-ui/hatari.py, python-ui/release-
	notes.txt:
	add capture crop support to python UI + finetune other options
	[17583c685208]

	* src/configuration.c, src/includes/m68000.h, src/m68000.c, src/tos.c:
	CPU frequency shift setting needs to be in M68000_CheckCpu*() that
	it's applied on TOS switch too

	- this way there isn't different results when using --machine st
	--tos tos4
	- as also other things than CPU Level are set, renamed function to
	Settings
	- reordered lines in tos.c so that it's clearer which are affected by
	call to M68000_CheckCpuSettings()
	[c7bcd788727c]

	* python-ui/hatariui, python-ui/hatariui.1:
	fastforward -> forward
	[978e5914d7c5]

	* python-ui/hatariui.py:
	simplify tooltips more
	[0675efd19ddf]

	* python-ui/hatariui:
	fix hatariui examples
	[3605e1842e28]

	* python-ui/README, python-ui/dialogs.py, python-ui/hatariui.py,
	python-ui/release-notes.txt:
	switch to new Gtk v2.12 tooltips API (as older one is deprecated)
	[578551bd102b]

2011-01-30  Laurent Sallafranque

	* src/falcon/videl.c:
	some comments added in videl.c (just not to forget them)
	[13bfdc16b95b]

	* src/dmaSnd.c:
	fix from David : apply volume and tone filters also when there's
	only Yamaha sound.
	[de80b70874d9]

2011-01-30  Eero Tamminen

	* src/falcon/hostscreen.c:
	fix: crash & updates stopping when switching from same size VDI to
	TT hostscreen rez

	- the redundant hostscreen.c SDL surface variable aliases weren't
	in sync with sdlscrn, so removed them and used sdlscrn everywhere
	- doUpdate flag needs to be updated even if resolution is same (the
	surface could have been created by screen.c for VDI rez)
	- remove redundant HostScreen_update5() for partial screen updates
	[c0d6a3ecdf31]

2011-01-29  Nicolas Pomarede

	* src/sound.c:
	Remove global variable and reorder code accordingly
	[12457bf85ec2]

2011-01-29  Laurent Sallafranque

	* src/falcon/crossbar.c:
	Little change in comments
	[b01e8707a1c7]

2011-01-28  Laurent Sallafranque

	* src/falcon/crossbar.c:
	fix DMA_Play -> DSP_Record in handshake mode synchronization. MP2
	musics are now playing correctly, music is synchro, sound is clean.
	This fix at least 5 demos (revert, Amanita, Dont break the oath,
	beam, MP2 player and probably some more.
	[0fac8290581a]

2011-01-28  Eero Tamminen

	* doc/release-notes.txt:
	update release notes
	[0908146515e9]

	* src/options.c:
	enable DSP for --machine falcon option

	(One can still disable it using "--dsp none" after that option)
	[cd9474f4cbf8]

	* src/change.c:
	add optional debug prints to config change code
	[1baee7eb9b6f]

2011-01-26  Eero Tamminen

	* doc/compatibility.html:
	cebit93 works fine with v1.4 release when using --cpuclock 32
	[c860aa763033]

	* src/memorySnapShot.c:
	memory snapshots: increase version for Crossbar addition + minor
	improvements:
	- ask user before overwriting an existing memory snapshot
	- slightly improved error message on snapshot version mismatches
	- use sizeof() instead of define for version string
	[cc19392df219]

	* src/debug/breakcond.c:
	breakpoints: remove redundant error + clarify output on memory
	snapshot re/store
	[9688717c8a59]

2011-01-26  Laurent Sallafranque

	* src/memorySnapShot.c:
	fix: crossbar was not saved/restored in memory snapshot
	[d475461f19b2]

	* src/falcon/crossbar.c:
	add: special undocumented transfer between DMA play and DSP Record
	in handshake mode added. In this special mode, datas are shifted 2
	bits on the left after the transfer. Now, demos using the Mpeg2
	player from nocrew (amanita, ...)) are playing the good datas.
	There's still a big problem : for now, the music plays really too
	fast (it should plays for 3 minutes, but it plays for 20 secondes
	for now).
	[13e8c031bbc3]

2011-01-25  Laurent Sallafranque

	* src/debug/debugInfo.c:
	fixed HandShack mode detection for DAC + added sound frequency for
	STE compatible mode, 25 Mhz mode and 32 Mhz mode.
	[b593829bee85]

	* src/falcon/dsp.c:
	DSP must run at exactly 2 times CPU speed. I upload this patch as a
	basis to improve DSP <-> CPU synchro
	[a27531db9db0]

2011-01-24  Nicolas Pomarede

	* src/sound.c:
	Fix new tone step introduced in rev 2934, it was wrong for Per=0
	When tone per=0, the produced square wave should be a constant '1',
	not '0'. Some recent replays are setting per=0 when playing samples
	or when doing sid effect (it gives better results), a constant
	output of '0' gave no audible sound (fix Blubber Sound Demo by
	Paradox)
	[c68bb85c3c63]

	* src/sound.c:
	Typo in comment
	[52a04b03aefe]

	* src/sound.c:
	Disable debug printf
	[20f4e72b26c2]

	* src/dmaSnd.c, src/falcon/crossbar.c, src/includes/sound.h,
	src/psg.c, src/sound.c:
	Take care of rounding errors when computing SamplesPerFrame, much
	higher precision now Depending on the output sound freq and the
	emulated video freq (VBL rate), the number of samples to generate
	for each VBL will not always be an integer. This new code simulates
	a floating point number of samples per VBL and adjusts the number of
	generated samples per VBL to obtain an exact number of samples per
	second, precisely matching the chosen output sound frequency.
	[d7b19dc20219]

2011-01-23  Nicolas Pomarede

	* src/sound.c:
	Don't use SamplePerVbl save an avi audio frame, it can gives
	rounding error Instead, we use the difference between the 2 indexes,
	which allows to have audio frames of different sizes when handling
	rounding errors.
	[833c96a8fa82]

2011-01-20  Eero Tamminen

	* src/ikbd.c:
	fix: remove AUTOSEND interrupt only after UI events have been
	processed
	[484ae01c9e29]

2011-01-19  Laurent Sallafranque

	* src/falcon/crossbar.c:
	fix: ADC memset was wrong
	[d914bd472a7d]

	* src/change.c:
	fix: changing to prefetch mode (with the new core) needs to reset
	the computer
	[8ca496ebcd5b]

	* src/cpu/newcpu.c:
	added DSP in prefetch mode. Both "simple" and prefetch emulation are
	now working
	[982801288ef4]

2011-01-17  Laurent Sallafranque

	* src/cpu/newcpu.c:
	DSP added to newcpu
	[79a95c89e722]

2011-01-16  Eero Tamminen

	* src/tos.c:
	on switch to TOS4, DSP needs to be initialized too
	[d264f083bc0a]

	* src/falcon/dsp.c, src/falcon/dsp_core.c, src/falcon/dsp_core.h,
	src/falcon/dsp_cpu.c, src/falcon/dsp_cpu.h, src/falcon/dsp_disasm.c,
	src/falcon/dsp_disasm.h:
	converted dsp_core to a directly accessible struct instead of
	pointer on Laurent's request
	[216fa5b71acb]

	* src/dialog.c, src/memorySnapShot.c, src/statusbar.c:
	update statusbar info also when memory snapshot loaded with
	--memstate
	[319fb2bbf5e4]

2011-01-15  Eero Tamminen

	* src/falcon/videl.c:
	do Videl resolution change immediately, not 3 VBLs late (and don't
	skip drawing frames during those 3 VBLs either)
	[997e6d747e3a]

	* readme.txt, src/configuration.c, src/falcon/hostscreen.c, src/gui-
	sdl/dlgScreen.c, src/includes/resolution.h, src/main.c,
	src/resolution.c:
	User's desktop size as max limit for Videl resolution:
	- add Resolution_Init() & Resolution_GetDesktopSize() functions to
	get and query desktop size
	- call the Resolution_Init from appropriate place in main.c
	- set the Videl max zoom limit from desktop size there, if it's not
	yet set
	- change SDL GUI to use that also as max zoom limit
	- change hostscreen.c to limit max SDL resolution to desktop size
	  - videl.c should then be clipping the output to that...
	  - resolution limit may prevent crashes with buggy video drivers
	- fix resolution.c debug prints This requires at least SDL v1.2.10.
	[43bae6606a2e]

	* src/falcon/dsp_disasm.c:
	const non-modified DSP disasm arrays too
	[d303f1028b57]

	* src/tos.c:
	TOS4 should enable DSP emulation
	[d3f9975a8932]

	* src/options.c:
	fix WinAUE option error option ID
	[583c68ba1511]

2011-01-14  Laurent Sallafranque

	* src/falcon/dsp_cpu.c:
	fix: SR U bit was still wrong (the test occurs on bits 23-24 not
	12-13)
	[fa0d0b619185]

	* src/falcon/dsp_cpu.c:
	fix: After 6 instructions, interrupts are allowed again, and we must
	test immediatly if there's a pending interrupt to process.
	[e0701509f4ee]

	* src/falcon/dsp_cpu.c:
	fix: SR U bit was inverted
	[2c9f3708b3e5]

2011-01-12  Eero Tamminen

	* src/change.c, src/dialog.c:
	enabling DSP needs reboot. Verify reboot from user unless only
	fatal alerts shown
	[9502c8049edf]

	* src/falcon/dsp_cpu.h:
	really add BITMASK to header
	[7070c1f6068f]

	* src/falcon/dsp.c, src/falcon/dsp_cpu.c, src/falcon/dsp_disasm.c:
	move identical BITMASK macros from dsp*.c files to commonly used
	dsp_cpu.h
	[040e305d4d3b]

	* src/falcon/dsp_cpu.c:
	DSP CPU arrays values aren't modified so they can be const
	[5eeb1ba00bff]

	* doc/compatibility.html:
	super hang-on issue still in v1.4
	[187fa7010c44]

	* doc/emutos.txt:
	more info on EmuTOS issue with RG Falcon games
	[95b1f88c525a]

	* src/falcon/dsp.c:
	fix: allow DSP to be disabled
	[ec71583f8331]

2011-01-11  Laurent Sallafranque

	* src/falcon/dsp_cpu.c:
	fix: DSP external memory timings were wrong. DSP external memory is
	0 waitstate, not 1. This fix at least the music in "illusion" demo.
	[1ea504dede73]

2011-01-04  Nicolas Pomarede

	* src/CMakeLists.txt:
	When building a Windows .exe, set the subsystem to "windows GUI"
	instead of "console"
	[365c5443c708]

2011-01-04  Laurent Sallafranque

	* src/falcon/dsp_cpu.c:
	update_e_u_n_z function optimization.
	[4e2e6759fa21]

2011-01-04  Eero Tamminen

	* src/falcon/dsp.c:
	simplify DSP main loop (use one variable less)
	[b348e15c5724]

2010-12-31  Eero Tamminen

	* src/cpu/build68k.c, src/cpu/cpu_prefetch.h, src/cpu/cpummu.c,
	src/cpu/cpummu.h, src/cpu/custom.h, src/cpu/events.h,
	src/cpu/events_jit.h, src/cpu/events_normal.h, src/cpu/fpp-ieee-
	be.h, src/cpu/fpp-unknown.h, src/cpu/fpp.c, src/cpu/gencpu.c,
	src/cpu/jit/codegen_x86.c, src/cpu/jit/codegen_x86.h,
	src/cpu/jit/compemu.h, src/cpu/jit/compemu_codegen.h,
	src/cpu/jit/compemu_fpp.c, src/cpu/jit/compemu_optimizer_x86.c,
	src/cpu/jit/compemu_raw_x86.c, src/cpu/jit/compemu_support.c,
	src/cpu/jit/compemu_support_codegen.c, src/cpu/jit/comptbl.h,
	src/cpu/jit/gencomp.c, src/cpu/m68k.h, src/cpu/maccess.h,
	src/cpu/memory.c, src/cpu/memory.h, src/cpu/newcpu.h,
	src/cpu/readcpu.c, src/cpu/readcpu.h, src/cpu/savestate.h,
	src/cpu/sysdeps.h, src/cpu/table68k:
	fix winuae cpu/ dir files access rights (644, same as for uae-cpu/
	files)
	[fab687e10ec7]

	* doc/emutos.txt:
	typo in prev commit
	[5aed5f9bded3]

	* doc/emutos.txt:
	more things working with EmuTOS, more info on RG Falcon games EmuTOS
	freeze
	[8aa40c7ba412]

	* doc/compatibility.html:
	vircity needs >4MB
	[80803111d796]

	* doc/hatari.1, doc/manual.html:
	add note about autostarting failing if there's floppy disk with .inf
	file
	[16108604a28a]

2010-12-28  Thomas Huth

	* CMakeLists.txt:
	Hatari only needs a C compiler, there is no need for testing for
	C++, too
	[5c48ae424012]

2010-12-28  Eero Tamminen

	* python-ui/uihelpers.py:
	make class declaration python 2.4 compatible (fix from David
	Savinkoff)
	[0312d68fa824]

	* src/ikbd.c, src/includes/ikbd.h:
	stuff used only in ikbd.c can/should be static
	[554f69ffb668]

	* src/rs232.c:
	rs232: saner thread delays, move if inside RS232_OpenCOMPort(),
	better comments
	[ef3346b2c059]

2010-12-24  Thomas Huth

	* src/ikbd.c:
	Print error message when IKBD buffer is full
	[9c055064c9ef]

	* src/ikbd.c:
	Fixed the JOYSTICK INTERROGATE IKBD command for the game "Downfall".
	This game continually issues this IKBD command during the title
	screen, faster than processing the 3 bytes from the ACIA, so it
	floods our Keyboard.Buffer ... in the end, we were not able not put
	the whole packet into the buffer anymore, and the game hang due to
	these incomplete answers. To avoid this situation, only execute this
	command if there is enough space left in our Keyboard.Buffer!
	[a6aa1cc75949]

2010-12-22  Eero Tamminen

	* doc/authors.txt, doc/emutos.txt, doc/release-notes.txt:
	update release notes and other docs
	[ac3f150400e1]

2010-12-22  Laurent Sallafranque

	* src/falcon/dsp_disasm.c:
	fix+little optim : fixed some wrong opcode texts + little optim in
	registers changes tracing
	[2f855c8ed625]

2010-12-20  Eero Tamminen

	* src/avi_record.c, src/includes/main.h, src/main.c, src/screen.c:
	show AVI recording time in the titlebar
	[471fa4eb4bd5]

2010-12-18  Laurent Sallafranque

	* src/falcon/dsp_cpu.c:
	Rewrite of all parallel decoding part (hardcoding of each 256
	instructions) + full rewrite and simplification of parallel move
	decoder.
	[f783a9abe4e1]

	* src/falcon/dsp_disasm.c:
	major optim: removed all 256 parallel instructions decoding and
	hardcoded all of them in a table.
	[f97c8da3372f]

2010-12-13  Thomas Huth

	* src/CMakeLists.txt:
	Fixed link_directories for newer versions of CMake
	[454bfe8bb953]

2010-12-13  Nicolas Pomarede

	* src/video.c:
	More generic way to handle the last 16 pixels of the line for STE's
	horizontal scrolling (works for any line's length) Previously, when
	using STE's 224 bytes overscan and hscroll, the last 16 pixels were
	not correctly displayed (fix More Or Less Zero and Cernit Trandafir
	by DHS, Save The Earth by Defence Force)
	[463a4198b55f]

2010-12-12  Laurent Sallafranque

	* src/falcon/dsp_disasm.c:
	fix : 2 bugs fixed in dsp_lua and dsp_tcc disasm code
	[feff3d5cda04]

2010-12-05  Nicolas Pomarede

	* doc/compatibility.html, doc/release-notes.txt:
	Update release note and compatibility list
	[927e055352fe]

2010-12-04  Nicolas Pomarede

	* src/video.c:
	In med res overscan, correctly shift the screen 4 pixels to the left
	This was not correctly handled in rev 2334 and worked only for low
	res (fix regression in 'Best Part Of The World' by Delta Force and
	'No Cooper Greetings screen' by 1984)
	[39e80ad361c0]

	* src/convert/low320x16_spec.c, src/convert/low320x32_spec.c,
	src/convert/low640x16_spec.c, src/convert/low640x32_spec.c,
	src/convert/spec320x16.c, src/convert/spec320x32.c,
	src/convert/spec640x16.c, src/convert/spec640x32.c, src/screen.c:
	Rename conversion files for low res spec512 to explicitly contain
	'low'
	[ee9561787699]

2010-12-03  Nicolas Pomarede

	* src/convert/med640x16_spec.c, src/convert/med640x32_spec.c,
	src/convert/routines.h, src/convert/spec320x16.c,
	src/convert/spec320x32.c, src/convert/spec640x16.c,
	src/convert/spec640x32.c, src/screen.c:
	Explicitly add LowRes into functions' names since spec512 mode is
	now available in low res and med res
	[c986a85c6009]

	* src/convert/macros.h, src/convert/med640x16_spec.c,
	src/convert/routines.h, src/screen.c:
	Add support for spec512 mode in med res for 16 bit screen
	[0211d900e8ac]

2010-12-01  Nicolas Pomarede

	* src/convert/routines.h, src/convert/spec640x16.c:
	Split ConvertSpec512_640x16Bit() in 2 parts to allow low/med lines
	mixing in spec512 mode
	[4869ec3eacf0]

	* src/convert/med640x32_spec.c:
	In spec512 mode, don't call AdjustLinePaletteRemap() to test for
	low/med res on each line. Doing so would override the colors changed
	by Spec512_UpdatePaletteSpan and give wrong/flickering palette.
	[701bd4b0ad0c]

	* src/spec512.c:
	Add debug printf
	[383e4b60dd2b]

2010-11-28  Nicolas Pomarede

	* src/convert/med640x32_spec.c, src/convert/routines.h,
	src/convert/spec640x32.c:
	Split ConvertSpec512_640x32Bit() in 2 parts to allow low/med lines
	mixing in spec512 mode
	[3dc2c6f9e8c3]

	* src/convert/macros.h, src/convert/med640x32_spec.c,
	src/convert/routines.h, src/screen.c, src/spec512.c:
	Add support for spec512 mode in med res for 32 bit screen (fixes
	'Best Part Of The Creation' by Delta Force in 'Punish Your Machine'
	and 'HighResMode' demo for STE by Paradox)
	[b27039df718b]

	* src/convert/med640x32.c:
	Reorder functions (main loop first)
	[98eb75095d86]

	* src/convert/macros.h:
	PLOT_SPEC512_MID_320_16BIT should be PLOT_LOW_640_16BIT not
	PLOT_MED_640_16BIT (harmless because both macros do the same)
	[62265417b077]

	* src/convert/spec320x16.c, src/convert/spec320x32.c,
	src/convert/spec640x16.c, src/convert/spec640x32.c:
	Correct comment about plotting order in spec512 mode
	[8ad268e6c9b3]

	* src/convert/high640x8.c, src/convert/low320x16.c,
	src/convert/low320x32.c, src/convert/low320x8.c,
	src/convert/low640x16.c, src/convert/low640x32.c,
	src/convert/low640x8.c, src/convert/med640x16.c,
	src/convert/med640x32.c, src/convert/med640x8.c,
	src/convert/spec320x16.c, src/convert/spec320x32.c,
	src/convert/spec640x16.c, src/convert/spec640x32.c,
	src/convert/vdi16.c, src/convert/vdi2.c, src/convert/vdi4.c:
	Correct wrong/misleading comments about pixels' order in
	SDL_BIG_ENDIAN mode
	[8548dc8868c3]

	* src/convert/spec320x16.c, src/convert/spec320x32.c,
	src/convert/spec640x16.c, src/convert/spec640x32.c:
	Use the same order/logic as in other convert routines (compare with
	SDL_BIG_ENDIAN first)
	[f19602329319]

2010-11-26  Nicolas Pomarede

	* src/convert/macros.h:
	PLOT_SPEC512_MID_320_32BIT should be PLOT_LOW_320_32BIT not
	PLOT_MED_640_32BIT (harmless because both macros do the same)
	[c18de3976685]

2010-12-01  Laurent Sallafranque

	* src/falcon/dsp_cpu.c:
	last fix: external memories extra cycles returned back to 1.
	[d4006369e18f]

	* src/falcon/dsp_cpu.c:
	fix again: x: or y: memory are always in internal RAM (immediate
	value is between 0 and $3f). So cycles = 4.
	[7379a7cec69d]

2010-11-30  Laurent Sallafranque

	* src/falcon/dsp_cpu.c:
	fix: correct wrong cycles computing for BCLR_aa, BCHG_aa, BSET_aa.
	According to the doc, cycles = 4 + ea + 2*X_YWaitState (Ea = 0)
	[f5ed4f860c10]

2010-11-24  Eero Tamminen

	* doc/hatari.1, doc/manual.html, src/configuration.c, src/gui-
	sdl/dlgScreen.c, src/includes/configuration.h, src/main.c,
	src/options.c, src/screenSnapShot.c, src/shortcut.c:
	Add GUI crop option, apply it both to screenshots & AVI recording

	This adds Screen.bCrop / --crop option, removes the --avi-crop
	option and removes also previously redundant Screen.bCaptureChange
	config option.
	[295f069d3644]

2010-11-23  Laurent Sallafranque

	* src/cpu/compat.h, src/cpu/hatari-glue.c, src/cpu/options_cpu.h,
	src/m68000.c:
	fix: configuration allows to choose all cpus. Falcon 68030 is
	running (at least to the desktop)
	[f64cbf057a16]

	* src/options.c:
	added bLoadAutoSave = false to the 6 new optional parameters added
	for the new WinUae CPU
	[0185e4ef3c24]

	* src/gui-sdl/dlgMain.c, src/gui-sdl/dlgSystem.c:
	fixed wrong upload last time (I swapped 2 files)
	[7d82ad1d1ee8]

2010-11-22  Laurent Sallafranque

	* src/change.c:
	fix: forgot to add the ENABLE_WINUAE_CPU compilation test (the 2
	tests are only for new WinUae CPU)
	[b95015554020]

	* src/change.c, src/configuration.c, src/cpu/hatari-glue.c, src/gui-
	sdl/dlgMain.c, src/includes/configuration.h, src/m68000.c,
	src/options.c:
	add: new system panel for WinUae cpu, new hatari options, changed
	preference's saving and memory snapshot saving and restoring
	[3590c879ba21]

2010-11-21  Nicolas Pomarede

	* src/debug/68kDisass.c:
	Use doptNoBrackets by default to remove "()" around absolute
	addresses in the new disassembler
	[a20648f2ce4e]

2010-11-21  Eero Tamminen

	* src/avi_record.c:
	fix avi recording compiler warning + simplify its error handling
	[6b3cc63fa29f]

	* src/tos.c:
	comments to 80 cols, fix Uwe's compiler warning, remove ifdeffed
	debug code
	[62f215d63e7e]

	* src/debug/profile.c:
	fix compiler printf %d / sizeof() mismatch warnings for 64-bit OSes
	[bf3986953b56]

	* doc/hatari.1, python-ui/hatariui.1, tools/CMakeLists.txt, tools
	/atari-hd-image.1, tools/hconsole/hconsole.1, tools/hmsa/hmsa.1,
	tools/zip2st.1:
	remove script extension on install, add manual pages for all
	installed tools

	This was requested by Hatari Fedora maintainer, new manual pages
	could be mostly taken from Debian. Mentioned other tools in "SEE
	ALSO" sections.
	[81326134540c]

	* src/debug/68kDisass.c:
	fix compiler warnings and improved[1] previous fixes

	[1] global function protos belong to headers whereas local functions
	should be static & things should be of correct type instead of
	casted.
	[64704aa3bf80]

2010-11-20  Nicolas Pomarede

	* src/debug/68kDisass.c, src/debug/68kDisass.h, src/debug/breakcond.c,
	src/debug/debugcpu.c, src/uae-cpu/newcpu.c:
	Add new wrapper function Disasm() to choose between UAE or new
	disassembler
	 - create 68kDisass.h, reorder includes for consistency
	 - replace calls to m68k_disasm() by Disasm() (except in
	m68k_dumpstate() )
	[a0c9f2c7bb17]

2010-11-19  Nicolas Pomarede

	* src/debug/68kDisass.c:
	Remove more warnings : suggest parenthesis at line 72 + set same
	'const' qualifier for target and dest when assigning 'sp'
	[030b6ed2cb51]

	* src/debug/68kDisass.c:
	Cast variables to remove warning about signed/unsigned comparisons
	[369a112a5b43]

2010-11-18  Nicolas Pomarede

	* src/debug/68kDisass.c:
	Add missing prototypes to prevent warnings from gcc
	[ed6908775368]

	* src/debug/68kDisass.c:
	Remove variables' declaration in 'for' loop : this is C99 only
	syntax and doesn't compile with our flags
	[8350d9b5ee3d]

	* src/debug/68kDisass.c, src/debug/CMakeLists.txt:
	Add new 68k disassembler by Markus Fritze
	[65462ed13440]

2010-11-19  Laurent Sallafranque

	* src/cpu/memory.c, src/cpu/memory.h:
	added infos to bank memories to let hatari run in compatible = 1
	mode. This will have to be reworked a little to take care of lgeti
	and wgeti.
	[d639f4ca2320]

	* src/cpu/newcpu.c:
	fix: quit hatari is now available
	[dee4f47e7052]

2010-11-18  Laurent Sallafranque

	* src/cpu/cpu_prefetch.h:
	add newline at end of file
	[772303b02250]

2010-11-18  Thomas Huth

	* src/cpu/newcpu.c:
	Disable some Amiga-specific code in exception function and make sure
	that MFP interrupts are handled.
	[ab01e980a47a]

	* src/cpu/custom.c, src/cpu/custom.h, src/cpu/newcpu.c,
	src/cpu/newcpu.h:
	Fixed compiler warnings
	[be977402a9d6]

2010-11-14  Nicolas Pomarede

	* src/avi_record.c, src/configuration.c, src/gui-sdl/dlgScreen.c,
	src/includes/configuration.h, src/main.c, src/options.c,
	src/shortcut.c:
	Store AVI recording parameters into hatari.cfg under [Video] section
	[79c34f4689cb]

2010-11-13  Matthias Arndt

	* src/includes/joy.h, src/joy.c:
	initial patch to allow variable SDL joystick axis IDs instead of
	hardcoded axis values
	[9e2869935d52]

2010-11-12  Laurent Sallafranque

	* src/cpu/fpp.c, src/cpu/gencpu.c, src/cpu/newcpu.c, src/cpu/newcpu.h,
	src/m68000.c:
	reintroduced interrupts and MFP to newcpu
	[0afc21af98cb]

2010-11-11  Eero Tamminen

	* CMakeLists.txt:
	correct name: -DFORTIFY_SOURCE -> -D_FORTIFY_SOURCE

	(enables extra Glibc function checks)
	[eefec2ba436b]

2010-11-08  Thomas Huth

	* src/cpu/compat.h:
	Replaced bad '#define bool' by stdbool.h - that should hopefully fix
	the address_space_24 problem in the currprefs structure.
	[8c6b545d99de]

2010-11-08  Laurent Sallafranque

	* src/cpu/custom.c, src/cpu/custom.h, src/cpu/newcpu.c:
	reintegrated trace CPU disasm
	[ffb54014718c]

2010-11-07  Nicolas Pomarede

	* doc/compatibility.html:
	Update some non fully working demos on STF/STE
	[2c0c314e10cf]

	* src/m68000.c:
	Add pairing for LSL/JMP (and all variants) (Fullparts demo by
	Hemoroids)
	[07ede30deb3e]

2010-11-07  Laurent Sallafranque

	* src/cpu/compat.h, src/cpu/newcpu.c:
	reintroduced do_specialties code from old uae core and CPU_TRACE
	[44efc8180b6c]

2010-11-06  Thomas Huth

	* src/cpu/newcpu.c:
	Supervisor mode must be switched on before accessing low memory
	[bb21af6a6bd2]

	* src/cpu/CMakeLists.txt:
	Simplified build rules
	[c86dec2ced94]

2010-11-06  Laurent Sallafranque

	* src/cpu/custom.c, src/cpu/events.h, src/cpu/gencpu.c,
	src/cpu/newcpu.c, src/cpu/newcpu.h:
	everything compiles and links.
	[6c79f7df4c85]

	* src/cpu/CMakeLists.txt, src/cpu/gencpu.c:
	major fix : nearly everything is fixed now (thanks Thomas)
	[28b2c10b3ac8]

	* src/cpu/compat.h, src/cpu/custom.c, src/cpu/custom.h,
	src/cpu/memory.c, src/cpu/newcpu.c, src/cpu/sysconfig.h:
	fixed some more warnings and linking problems
	[7677b5764ae8]

	* src/cpu/cpummu.c, src/cpu/custom.c, src/cpu/fpp.c, src/cpu/newcpu.h:
	some more fixes (warnings + linking problems)
	[052812f53ef7]

2010-11-06  Eero Tamminen

	* src/debug/debugui.c:
	debugger: fix chdir compile warning, don't mess input line when
	parsing it.

	(Last one is needed because of the earlier change which saves the
	previous line to history only when next line is input.)
	[5ec17068c226]

2010-11-05  Eero Tamminen

	* src/includes/main.h, src/main.c, src/options.c:
	allow use of --run-vbls also after bootup

	(i.e. zero also VBL count when VBL limit is set)
	[6d76ec449aaa]

2010-11-05  Laurent Sallafranque

	* src/cpu/build68k.c, src/cpu/cpummu.c, src/cpu/custom.c,
	src/cpu/events.h, src/cpu/gencpu.c, src/cpu/hatari-glue.c,
	src/cpu/readcpu.c:
	Winuae core : some more compiling warning and linking errors fixed
	[a5b8ed064879]

	* src/cpu/custom.c, src/cpu/newcpu.c, src/cpu/newcpu.h:
	2 more linking problems fixed
	[118dccc92d31]

	* src/cpu/CMakeLists.txt, src/cpu/compat.h, src/cpu/custom.c,
	src/cpu/custom.h, src/cpu/events.h, src/cpu/hatari-glue.h,
	src/cpu/memory.c, src/cpu/memory.h, src/cpu/newcpu.c,
	src/cpu/options_cpu.h, src/cpu/sysconfig.h, src/m68000.c:
	Many fixes to let WinUae core link. Still some work to do.
	[b3e885ebd08d]

2010-11-05  Eero Tamminen

	* CMakeLists.txt:
	comment -Wextra stuff out, -Wno-empty-body isn't supported on GCC
	v<4.3
	[7e02e97c6c22]

2010-11-04  Thomas Huth

	* tools/hmsa/CMakeLists.txt:
	Fixed zlib include path for hmsa tool
	[77c28685083e]

2010-11-02  Eero Tamminen

	* tests/Makefile, tests/debugui/console.ini,
	tests/debugui/debugger.ini, tests/debugui/dsp-test.sym,
	tests/debugui/etos512.sym, tests/os-header.sym, tests/test-
	breakcond.c, tests/test-dummies.c, tests/test-evaluate.c, tests
	/test-scripting.sh, tests/test-symbols.c:
	remove the moved files

	(seems that both destination & source files need to be commited
	separately)
	[9f6d5d8814e5]

	* tests/debugger/Makefile, tests/debugger/data/console.ini,
	tests/debugger/data/debugger.ini, tests/debugger/data/dsp-test.sym,
	tests/debugger/data/etos512.sym, tests/debugger/data/os-header.sym,
	tests/debugger/test-breakcond.c, tests/debugger/test-dummies.c,
	tests/debugger/test-evaluate.c, tests/debugger/test-scripting.sh,
	tests/debugger/test-symbols.c:
	Move all debugger tests to a tests/debugger subdirectory
	[99889a63402e]

	* tools/hconsole/hconsole.py:
	tab-complete also hconsole internal commands
	[d00ed8c1751d]

	* tests/debugui/console.ini, tests/test-scripting.sh:
	update scripting tests for hconsole changes
	[50130e1f7bf0]

	* tests/Makefile:
	add test target and comments on how to run tests to tests/Makefile
	[c01b09f8620c]

	* tests/test-dummies.c, tests/test-evaluate.c:
	update test code for debugger changes
	[352055a6482b]

	* src/debug/debugui.c, src/debug/evaluate.c:
	update debugger evaluate command help (parenthesis = RAM fetch)
	[2aaf4d591fd6]

2010-11-02  Laurent Sallafranque

	* src/cpu/savestate.h:
	savestate compiles now. Everything compiles but doesn't link yet
	[f0bc85ccc2cd]

	* src/m68000.c:
	fixed compilation warning in WINUAE mode
	[584eca106c24]

	* cmake/config-cmake.h, src/m68000.c:
	m68000.c now compiles
	[b2028acb9bee]

	* src/cpu/fpp.c, src/cpu/md-fpp.h, src/cpu/sysconfig.h:
	fpp.c compiles
	[7e34c70797d2]

2010-11-01  Laurent Sallafranque

	* src/cpu/compat.h, src/cpu/cpummu.c, src/cpu/memory.h,
	src/cpu/newcpu.c, src/cpu/newcpu.h, src/cpu/options_cpu.h,
	src/cpu/sysconfig.h:
	newcpu.c is now compiling
	[29f756017ae4]

2010-11-01  Nicolas Pomarede

	* doc/release-notes.txt:
	Update changes for YM sound and STE's 224 bytes overscan
	[7a3454f1504b]

	* src/video.c:
	On STE, correctly align pixels 8 pixels to the left when doing a 224
	bytes overscan. The hi/lo switch at position 504/4 will make the
	display starts 8 pixels earlier. For 230 bytes overscan on STE, the
	next value for pVideoRaster depends on whether scrolling's
	prefetching is used or not. (fix various pixels alignment when
	compared with a real STE)
	[c41f86ceacf4]

2010-10-22  Laurent Sallafranque

	* src/cpu/events.h:
	returned to original STATIC_INLINE
	[5b8cee333670]

	* src/includes/m68000.h:
	Comment fixed
	[0718b543b46a]

	* src/cpu/custom.h:
	This file contains nothing needed by WinUae Cpu. We keep it empty
	here to reduce changes in WinUae cpu code
	[1f4386c8ca97]

2010-10-22  Eero Tamminen

	* src/debug/breakcond.c:
	show breakpoint variable values in help as hex instead of decimal

	Tracing breakpoints already show memory & variable values as hex so
	this was inconsistent.
	[6b025442121d]

	* src/debug/debugui.c:
	prevent duplicate readline history entries, make input buffer
	free()s closer to their malloc()s

	Former is a fix (needed to use previous_history(), not
	current_history()).

	Latter change implies also that command that exits debugger isn't
	stored into command history and that non-readline/history command
	editing needs to do less allocs.
	[0dcb55af21ef]

2010-10-21  Laurent Sallafranque

	* src/cpu/CMakeLists.txt, src/cpu/build68k.c, src/cpu/compat.h,
	src/cpu/cpummu.c, src/cpu/cpummu.h, src/cpu/custom.h,
	src/cpu/events.h, src/cpu/gencpu.c, src/cpu/maccess.h,
	src/cpu/memory.c, src/cpu/memory.h, src/cpu/newcpu.c,
	src/cpu/newcpu.h, src/cpu/options_cpu.h, src/cpu/readcpu.c,
	src/cpu/readcpu.h, src/cpu/rpt.h, src/cpu/sysconfig.h,
	src/cpu/sysdeps.h, src/includes/m68000.h:
	Temporary save : this version compiles until newcpu.c
	[6eeb9583fed9]

2010-10-21  Eero Tamminen

	* doc/manual.html:
	manual/debugger: update for indirect addressing + re-
	org/improvements
	[8bf49591ca4f]

	* src/debug/evaluate.c:
	support indirect addressing in evaluate debugger command
	[abb759b5c038]

2010-10-20  Eero Tamminen

	* src/debug/breakcond.c:
	breakpoints: bios & xbios trap number were swapped, fix
	[7661f5c8e5ec]

2010-10-16  Eero Tamminen

	* doc/manual.html:
	add debugger profile command documentation to the manual
	[7efba68d58a5]

	* doc/manual.html:
	update manual for tracing, breakpoint and info/lock command
	improvements, fix typos
	[f2abeb494acd]

	* doc/hatari.1:
	mention in man page what docs /usr/share/doc/ contains
	[39185c4b79d6]

	* doc/release-notes.txt:
	update release notes
	[1d7521e91b74]

	* src/debug/debugui.c:
	remove the ifdeffed out debugger "exec" command support

	This was already ifdeffed out in previous release, didn't have a
	CMake config option to enable it and is AFAIK unused. hconsole can
	be used to achieve something similar from outside the Hatari and
	more specific commands can be added to debugger if really needed.
	[839c6abc24c4]

	* src/debug/debugInfo.c:
	add "lock file" command, tune lock/info help texts

	The given file will them be parsed by debugger and commands in it
	executed whenever the locked commands are normally done (i.e.
	entering debugger or hitting ":info" breakpoint).
	[e60f8be20cd7]

	* src/debug/debugui.c, src/debug/debugui.h:
	export DebugUI_ParseFile(), chdir() back to previous dir after
	parsing

	chdir() to file's dir before parsing is needed so that relative file
	references in that file work. chdir() back to previous dir are
	needed so that other things depending on (other) file paths work.
	[9b0d4320f9e3]

	* src/ide.c, src/includes/m68000.h, src/ioMem.c, src/m68000.c, src
	/uae-cpu/memory.c:
	Use correct defines for bus error, show the error type, more
	sensible bool arg name

	- Half of M68000_BusError callers were using defines on the calls,
	half just magic numbers. Changed magic numbers to defines.
	- bReadWrite doesn't make sense as bool arg. Bool's name is supposed
	to indicated what "true" value stands for!
	- Showing of the BusError read/write type is one-liner improvement
	from Markus.
	[8a62f551ad7b]

	* src/vdi.c:
	fix AES/VDI info command output spacing
	[9973b37a4329]

2010-10-15  Eero Tamminen

	* src/gemdos.c:
	remove pattern matching debug output from GEMDOS tracing
	[5d77dde29cc5]

	* src/debug/debugInfo.c:
	add "aes", "gemdos" and "vdi" subcommands to debugger info command
	[6846fd7615b2]

	* src/gemdos.c, src/includes/gemdos.h:
	add GEMDOS info & opcode function

	(and remove non-existing functions from gemdos.h)
	[b6d0d9175b0f]

2010-10-14  Eero Tamminen

	* src/configuration.c, src/debug/log.c, src/debug/log.h,
	src/includes/vdi.h, src/tos.c, src/uae-cpu/newcpu.c, src/vdi.c:
	add AES tracing and AES & VDI info+opcode functions

	This required:
	- 32 -> 64-bit trace flag change and adding aes to trace flags in
	log.c/h
	- adding flag for Trap#2 AES/VDI interception for newcpu.c
	  -> this is enabled automatically when either aes or vdi tracing
	is enabled (in log.c) or user selects extended VDI resolution
	(in configuration.c)
	- function for AES opcode/name mappings (vdi.c)
	- functions for listing AES & VDI opcodes and listing the last
	parameter block values (vdi.c)
	- storing the parameter block values in the intercept function (vdi.c)

	The VDI_OpCode stuff is now called only when things are needed to be
	done at VDI_Complete() in Trap exit i.e. for VDI workstation open.
	[419c41200c8d]

	* src/debug/breakcond.c:
	VDI breakpoints: -2 = 0xFFFE, not 0xFFFD
	[1e0bbbc5f0c8]

2010-10-13  Eero Tamminen

	* src/gemdos.c, src/tos.c:
	minor improvements to TOS autostart feature
	[9fbb5504ae25]

2010-10-12  Thomas Huth

	* src/CMakeLists.txt:
	Fixed include and library path problem when WinUAE CPU is enabled
	[f0699d2dc876]

2010-10-12  Eero Tamminen

	* tools/hconsole/example-commands, tools/hconsole/example.py:
	hconsole examples output finetuning
	[b925c317e86c]

	* src/debug/debugui.c:
	fix comment handling in debugger input files
	[95f3e17d9fbd]

	* tools/hconsole/release-notes.txt:
	update hconsole notes
	[dc3b30f1519f]

	* tools/hconsole/CMakeLists.txt, tools/hconsole/hconsole.1:
	install hconsole under /usr/share + add new example

	example.py needs hconsole.py to be in same directory (or in Python
	module path) to be able to import it.

	Hconsole also isn't that useful in itself, it's more of something on
	top of which one can build things (or test Hatari remote API), so it
	doesn't need to be installed to binary directory. The Hatari data
	directory is enough.
	[9e1672780bbb]

	* tools/hconsole/example-debugger, tools/hconsole/example.py:
	example.py can/loads commands from the separate hconsole input file

	Therefore removed the duplication functionality from this. Added
	also debugger input file example calling for this.
	[9b65e79733d0]

	* tools/hconsole/example-commands:
	add useful scancode numbers to hconsole example + other updates
	[c942a1275270]

	* tools/hconsole/hconsole.py:
	hconsole: add symbolic scancodes, script command and speed key
	inserting

	Did also some small refactoring, command name changes and help text
	modifications.
	[fc63d979565d]

	* src/debug/breakcond.c:
	":info" flag for giving info specified with "lock" command also
	while tracing breakpoints

	(previously they were shown only when breakpoint causes entering
	into debugger)
	[fe1528adace5]

2010-10-11  Thomas Huth

	* CMakeLists.txt, configure, src/CMakeLists.txt:
	Added CMake switch to enable WinUAE CPU core
	[48ae28c0f7ac]

	* src/gui-osx/SDLMain.m:
	Fixed compiliation problem on OS X. Thanks to Christer Solskogen for
	the patch!
	[2b05780e256c]

2010-10-11  Eero Tamminen

	* python-ui/CMakeLists.txt, tools/CMakeLists.txt,
	tools/hconsole/CMakeLists.txt:
	add hconsole to build scripts
	[67a40404e966]

	* python-ui/FILES, python-ui/README, python-ui/hatariui.1, python-ui
	/release-notes.txt, tools/hconsole/hconsole.1, tools/hconsole
	/release-notes.txt:
	add hconsole documentation and update hatariui docs accordingly
	[dce2fd55e0ca]

	* tools/hconsole/example-commands, tools/hconsole/example.py:
	add hconsole scripting examples
	[d25c1c76a2f8]

	* python-ui/hatari-console.py, tools/hconsole/hconsole.py:
	rename hatari-console.py to hconsole.py and move it under tools

	- python scripts included by others cannot have dashes in names
	- it's better to have it in its own file as I'm going to add quite a
	bit of stuff to this. It might even be used for automatic some of
	hatari testing...
	[6e78faa70d74]

2010-10-10  Eero Tamminen

	* src/gui-sdl/dlgAlert.c:
	fix struct member initialization for Notice Alert
	[42dc90087cae]

	* CMakeLists.txt:
	remove -Wfloat-equal, we're not going to change FPU emulation code
	to avoid float == 0 comparisons
	[a2417b16afa8]

	* src/gemdos.c:
	show the converted result in GEMDOS trace, not host one for GetDir

	(also, leave out the hatari's internal function name like elsewhere)
	[bd360f8a6dc6]

	* python-ui/hatari-console.py:
	re-fix hatari-console hatari arg handling, helper for hatari-console
	importers
	[e44b84900111]

2010-10-09  Eero Tamminen

	* python-ui/hatari-console.py:
	hatari-console: add verbose & text insert commands, fix Hatari
	argument handling
	[af0427325bf9]

	* python-ui/dialogs.py, python-ui/hatariui.py, python-ui/uihelpers.py:
	fix/improve hatari UI button/key press simulation

	- update to event name change, use press instead of down&up where
	appropriate
	- special case space key on text insert, it needs scancode
	- add button for Enter key simulation
	[45ef37c6bd4b]

	* src/control.c:
	improve remote API key & mouse button press/release handling

	- have separate "keypress" event that does both press & release
	- rename button & key press & release to *down & *up
	- update help and tell key code is actually ST key scancode...
	[427f6432277d]

	* python-ui/hatariui.1, python-ui/hatariui.py:
	update hatari UI docs for new hatari argument handling
	[d2cde1d711f3]

	* doc/hatari.1, doc/manual.html, doc/release-notes.txt:
	update --bios-intercept info in docs
	[e56e0cd83dec]

	* src/options.c:
	allow --bios-intercept to be toggled (from debugger), not just
	enabled
	[89a531b5f297]

	* src/bios.c:
	Sensible Bios CON: output also when line is being edited under
	emulation
	[38e0f1adc231]

2010-10-09  Laurent Sallafranque

	* src/cpu/CMakeLists.txt, src/cpu/build68k.c, src/cpu/cpu_prefetch.h,
	src/cpu/cpummu.c, src/cpu/cpummu.h, src/cpu/custom.h,
	src/cpu/events.h, src/cpu/events_jit.h, src/cpu/events_normal.h,
	src/cpu/fpp-ieee-be.h, src/cpu/fpp-unknown.h, src/cpu/fpp.c,
	src/cpu/gencpu.c, src/cpu/hatari-glue.c, src/cpu/hatari-glue.h,
	src/cpu/jit/codegen_x86.c, src/cpu/jit/codegen_x86.h,
	src/cpu/jit/compemu.h, src/cpu/jit/compemu_codegen.h,
	src/cpu/jit/compemu_fpp.c, src/cpu/jit/compemu_optimizer_x86.c,
	src/cpu/jit/compemu_raw_x86.c, src/cpu/jit/compemu_support.c,
	src/cpu/jit/compemu_support_codegen.c, src/cpu/jit/comptbl.h,
	src/cpu/jit/gencomp.c, src/cpu/m68k.h, src/cpu/maccess.h,
	src/cpu/memory.c, src/cpu/memory.h, src/cpu/newcpu.c,
	src/cpu/newcpu.h, src/cpu/readcpu.c, src/cpu/readcpu.h,
	src/cpu/savestate.h, src/cpu/sysdeps.h, src/cpu/table68k:
	add : first version of WinUae cpu for Hatari. WinUae source is
	v2.3.0. I've just renamed .cpp to .c
	[026e498bd040]

2010-10-09  Eero Tamminen

	* doc/hatari.1, doc/manual.html, doc/release-notes.txt, tools/hatari-
	tos-register.sh:
	document autostarting, script to register Hatari as TOS program
	runner

	Script uses Linux binfmt_misc feature.
	[52a4548b896a]

	* src/gemdos.c, src/includes/str.h, src/includes/tos.h, src/options.c,
	src/str.c, src/tos.c:
	Add Atari program autostart support to Hatari

	- Move TOS filename conversion from gemdos.c to str.c and use it
	from tos.c
	- Hatari argument can be an atari program or a directory in addition
	to a disk image
	- In atari program case, create a temporary/virtual desktop.inf file
	to which TOS is redirected when it first accesses desktop.inf
	after boot (with separate files for emutos and normal tos)
	[01dfa7471e21]

2010-10-08  Eero Tamminen

	* src/file.c, src/gemdos.c, src/includes/file.h, src/paths.c:
	remove duplicate directory existence check function
	[93577018e105]

	* doc/emutos.txt:
	Kruse's early demo works with EmuTOS except for some issues with
	fonts
	[4caa32b7e92e]

	* CMakeLists.txt:
	add more GCC warning options

	Added -Wextra minus options that cause spurious warnings and some
	security & float options recommended on Debian source code fortify
	page.
	[91a6d1226c77]

	* CMakeLists.txt:
	apply GCC warning flags in order they're given

	(otherwise one gets confusing results when one sets a generic
	warning option and then tries to disable parts of those warning.)
	[106bbe51b8a8]

	* src/gemdos.c:
	simplify GemDOS_OpCode() code, convert if's to assignments

	(object file .text size decreases 40 bytes)
	[9b44adc2ac28]

	* src/gemdos.c:
	move GemDOS_Opcode2Name() closer to function where it's called
	[bf5470b86796]

2010-10-07  Eero Tamminen

	* doc/hatari.1, doc/manual.html, doc/release-notes.txt, src/options.c:
	update/improve --bios-intercept documentation
	[bd4583ff1455]

	* src/bios.c:
	--bios-intercept prints CON: output on host console
	[45df55c03900]

2010-10-06  Eero Tamminen

	* src/gemdos.c:
	add missing address range validity checks, change their debug level
	to warnings
	[a5d05ca2bb86]

2010-10-05  Thomas Huth

	* doc/authors.txt:
	Added remark about Qemu
	[4076e47cb17d]

2010-09-26  Thomas Huth

	* doc/coding.txt:
	Added coding guideline document.
	[3e0a64efb750]

2010-09-23  Eero Tamminen

	* src/gui-sdl/dlgNewDisk.c:
	fix segfault on disk create/insert

	First creating new disk then canceling creating another new disk and
	doing insert crashed to accessing freed memory.
	[bd2a7ed713e2]

	* src/uae-cpu/CMakeLists.txt:
	fix: check for GCC when adding GCC options

	and ignore only relevant "unused" warnings
	[994a0949b1c2]

	* src/main.c:
	fix: float comparisons shouldn't use equality checks

	(floats are inaccurate and those can fail due to rounding issues.)
	[391a4bdb8118]

2010-09-22  Laurent Sallafranque

	* src/gui-sdl/dlgFileSelect.c, src/gui-sdl/sdlgui.c,
	src/includes/sdlgui.h:
	scrollbar code cleaning
	[6aa7ea1f3428]

2010-09-18  Eero Tamminen

	* src/debug/breakcond.c:
	fix -Wextra compiler warning, show help for dsp/address command with
	no args
	[c6451a06698c]

	* tools/hmsa/hmsa.c:
	fix -Wformat-security compiler warning
	[97f3e909547c]

2010-09-14  Laurent Sallafranque

	* src/gui-sdl/dlgFileSelect.c, src/gui-sdl/sdlgui.c:
	fix : mouse and scrollbar are completly synchronized in all
	situations
	[dae63f06a9cc]

	* src/gui-sdl/dlgFileSelect.c, src/gui-sdl/sdlgui.c,
	src/includes/sdlgui.h:
	Add : scrollbar can be moved with the mouse Removed : return to
	previous scrollbar look and feel TODO: there's still a bug with the
	mouse grabbing, if you use the mousewheel before grabbing the
	scrollbar
	[f0e07ee4d964]

2010-09-10  Laurent Sallafranque

	* src/gui-sdl/dlgFileSelect.c, src/gui-sdl/sdlgui.c,
	src/includes/sdlgui.h:
	Reworked fileselector : add a 1 pixel precise scrollbar, applied GEM
	look and feel
	[54083f8c95cd]

2010-09-08  Eero Tamminen

	* python-ui/dialogs.py, python-ui/uihelpers.py:
	refactor HD & floppy file selection code to common class in
	uihelpers
	[d60b74fd9e73]

	* python-ui/dialogs.py:
	fix floppy protection setting to use correct Hatari option
	[4390c33dcfbf]

	* python-ui/uihelpers.py:
	simplify uihelper win/nix path splitting
	[db4bcf307d47]

2010-09-04  Nicolas Pomarede

	* src/sound.c:
	- Correct case where a noise per < 3 produced no noise output at all
	- Rewrite tone and noise step compute to use the same logic as env's
	step
	[4b5f4b81ab6f]

2010-08-30  Nicolas Pomarede

	* src/sound.c:
	On a real STF, when envper==0, envelope's frequency is the same as
	when envper==1, not half of it
	[eaf1bc14fa6f]

2010-08-08  Nicolas Pomarede

	* src/cycInt.c:
	When adding a new internal interrupt, call CycInt_UpdateInterrupt
	also if PendingInterruptCount < 0 In some rare cases (mostly when
	using dma sound), CycInt_AddxxxxInterrupt functions can be called at
	the exact same time when another interrupt is already elapsed (ie
	PendingInterruptCount < 0). In that case, content of
	PendingInterruptCount was reset without calling the handler for this
	available interrupt first, which could result in lost hbl/timer
	interrupt and possible crash. Calling CycInt_UpdateInterrupt in all
	case when ActiveInterrupt>0 fixes the problem, as the available
	interrupt will keep a negative value in InterruptHandlers[].Cycles
	(fix possible crash in TalkTalk 2 readme.prg).
	[a169698b4670]

2010-07-26  Nicolas Pomarede

	* src/mfp.c:
	When timers A or B are in pulse width mode, clear bit 3 of the ctrl
	reg to emulate it as in delay mode. This is not completly correct as
	we should also emulate GPIO 3/4, but it helps running some programs
	(fix the game Erik)
	[7b887fce4315]

2010-07-13  Eero Tamminen

	* doc/manual.html:
	document OS-call opcode breakpoint variables (and move continue
	explanation under tracing)
	[32b8a993ec4c]

	* doc/manual.html:
	add comment about --parse option to manual debugger section
	[3bf824840ae8]

2010-07-12  Eero Tamminen

	* doc/manual.html:
	restructure performance section and add OSX notes to manual
	[71ee6366f6d1]

	* tools/hatari-local-rs232.sh:
	add helper script for joining two hatari instances with serial
	(rs232)
	[97ed0b557530]

2010-07-05  Nicolas Pomarede

	* src/video.c:
	When removing left border, allow up to 32 cycles between hi and low
	res switching (fix Megabeer by Invizibles)
	[4f7824267536]

2010-06-29  Eero Tamminen

	* doc/release-notes.txt:
	update release notes
	[29b3be7312f3]

	* src/debug/debugcpu.c, src/debug/debugdsp.c, src/debug/profile.c,
	src/debug/profile.h:
	add collected profiling information also to CPU & DSP disassembly
	output
	[1ffa3c7ac592]

	* src/debug/debugInfo.c:
	add GEMDOS memory pool address for TOS 1.0 (from Gerhard Stoll)
	[16e9204f916e]

2010-06-25  Eero Tamminen

	* src/debug/breakcond.c:
	fix breakpoint opcode variables for appl_yield & vq_gdos. make
	line-A/F variable code clearer.
	[4174ef707bf2]

	* CMakeLists.txt, doc/hatari.1:
	document --mic option
	[82f24fbae97b]

	* src/configuration.c, src/falcon/microphone.c,
	src/includes/configuration.h, src/options.c:
	add config & command line option for enabling/disabling mic
	[28100d5e19f6]

	* src/falcon/microphone.c, src/falcon/microphone.h:
	microphone.[ch]: int/0/1 -> bool/true/false for functions return
	values
	[514660bb2511]

	* src/CMakeLists.txt:
	createBlankImage.c is already in Floppy lib, remove duplicate
	[e90ea57be5c7]

2010-06-16  Eero Tamminen

	* doc/release-notes.txt, doc/todo.txt:
	update todo/notes to last changes
	[8c59af69a7ac]

	* src/debug/breakcond.c:
	add BIOS/XBIOS/GEMDOS/VDI/AES/Line-A/Line-F opcode breakpoint
	support
	[e31b534184f5]

	* CMakeLists.txt:
	add GCC Mudflap (pointer debugging) support for CMake build
	[dc37dc8db847]

	* doc/compatibility.html:
	fix previous Hatari compat update
	[165dd8feb0d4]

	* doc/emutos.txt:
	update emutos compatibility list (after testing new line-A
	breakpoints features)
	[f945bae498bb]

2010-06-15  Eero Tamminen

	* doc/compatibility.html:
	add couple of missing STE games to compat list
	[1a5599dcc352]

	* src/debug/debugui.c:
	leave duplicate entries out of debugger readline history
	[240767936317]

	* tests/test-dummies.c, tests/test-symbols.c:
	update test sources for profiler addition & cleanup
	[edb374413751]

	* tests/Makefile:
	update tests Makefile for the profiler addition and clean up a bit
	[c7f3cb19b26b]

2010-06-14  Thomas Huth

	* tests/Makefile:
	Added the Makefile for the tests again (deleted it a little bit
	overhasty)
	[c6bf86c60f22]

2010-06-13  Thomas Huth

	* src/tos.c:
	Allow the early TOS 0.00, too.
	[72de08464b29]

	* cmake/DistClean.cmake:
	Improved distclean target
	[273e4064d494]

	* .hgignore:
	Updated hg ignore file
	[8bd5f224e167]

	* Makefile, Makefile-MinGW.cnf, Makefile-default.cnf, config-
	default.h, python-ui/Makefile, src/Makefile, src/debug/Makefile,
	src/falcon/Makefile, src/gui-sdl/Makefile, src/gui-win/Makefile, src
	/uae-cpu/Makefile, tests/Makefile, tools/hmsa/Makefile:
	Removed the old Makefiles. Use CMake now to generate the build files
	of your choice.
	[49640ff19f1c]

	* website/index.html, website/links.html:
	Website update
	[c7275f697c69]

2010-06-12  Eero Tamminen

	* doc/release-notes.txt, src/debug/debugcpu.c, src/debug/debugdsp.c:
	add DSP and CPU profiling commands to the debugger
	[ad6756190967]

	* src/debug/CMakeLists.txt, src/debug/Makefile, src/debug/profile.c,
	src/debug/profile.h:
	add profiling functionality (using new symbol count & DSP
	instructions APIs)
	[a917c1a05461]

	* src/debug/symbols.c, src/debug/symbols.h:
	API for getting DSP & CPU symbols counts
	[cd1c60a3186f]

	* src/falcon/dsp.c, src/falcon/dsp.h:
	API for getting last DSP instruction cycles
	[f9fe56697d0b]

	* src/blitter.c, src/cycInt.c, src/debug/breakcond.c,
	src/debug/debugInfo.c, src/fdc.c, src/ikbd.c, src/includes/screen.h,
	src/includes/video.h, src/ioMemTabFalcon.c, src/ioMemTabST.c,
	src/ioMemTabSTE.c, src/ioMemTabTT.c, src/joy.c,
	src/memorySnapShot.c, src/mfp.c, src/psg.c, src/sound.c,
	src/statusbar.c, src/uae-cpu/hatari-glue.c, src/uae-cpu/newcpu.c,
	src/video.c:
	Add HBL_PALETTE_LINES & HBL_PALETTE_MASKS defines to screen.h & use
	them in video.h.

	This helps with GCC Mudflap pointer debugging as GCC now knows the
	sizes of the related palette arrays.

	Because video.h now needs defines from screen.h, I had to add
	includes for it to files that were including only video.h.
	[d6839550659b]

	* src/includes/ioMemTables.h:
	const ioMemTab struct members which won't change
	[583cf75f5072]

	* Makefile, doc/release-notes.txt, src/CMakeLists.txt,
	tools/hmsa/CMakeLists.txt, tools/hmsa/Makefile, tools/hmsa/hmsa.1,
	tools/hmsa/hmsa.c, tools/hmsa/readme-hmsa.txt:
	rewrite hmsa to support also empty disk creation + add manual page
	(readme is now autogenerated from manual page in Makefile)
	[774149db8bd4]

2010-06-12  Thomas Huth

	* .hgtags:
	Cleaned up hg tags file
	[bbd691c40719]

2010-06-12 : *** Version 1.4.0 ***

2010-06-12  Nicolas Pomarede

	* doc/compatibility.html, doc/doxygen/Doxyfile, doc/manual.html, doc
	/release-notes.txt, hatari.spec, src/includes/main.h,
	src/memorySnapShot.c:
	Update version to 1.4.0
	[98f234293466] [tip]

2010-06-04  Thomas Huth

	* src/gui-osx/SDLMain.h:
	Fixed Stop-Recording problem in Mac OS X GUI
	[881291439adc]

2010-06-03  Thomas Huth

	* src/avi_record.c, src/includes/pixel_convert.h,
	src/screenSnapShot.c:
	Take pixel layout into account when converting screen for PNG
	snapshots. This hopefully fixes the endianess problem on Macs with
	Intel processors.
	[d1b6f581e22e]

2010-06-03  Nicolas Pomarede

	* src/video.c:
	Temporarily disable "cosmetic" patch from changesets 2823/2830 in
	Video_ConvertPosition where FrameCycles >= CyclesPerVBL This causes
	problem when $ff8209 is read during first 64 cycles of the VBL
	(regression in Enchanted Land)
	[595783001b0b]

2010-06-02  Thomas Huth

	* src/falcon/dsp.c:
	Silenced another possible compiler warning
	[7e370fc1ffbe]

2010-06-02  Eero Tamminen

	* src/debug/debugui.c:
	fix compile warning on 64-bit
	[f56efc333891]

	* src/zip.c:
	fix zip.c free (should free array, not array count).
	[4c735f028828]

2010-06-02  Laurent Sallafranque

	* src/falcon/crossbar.c, src/falcon/dsp_core.c, src/falcon/dsp_core.h,
	src/falcon/dsp_cpu.c, src/falcon/dsp_cpu.h:
	dsp interrups should be in dsp_cpu.c code, not in dsp_core.c. I've
	moved code to the correct place. Crossbar frame counter code update
	(not yet finished)
	[62685a040f60]

2010-06-01  Eero Tamminen

	* doc/manual.html:
	move debugger symbols documentation to its own section
	[e43d74476894]

2010-05-30  Eero Tamminen

	* python-ui/README, python-ui/release-notes.txt:
	minor hatari doc update
	[bdc2570f62e2]

	* python-ui/CMakeLists.txt, python-ui/Makefile, python-ui/hatariui.1:
	add manual page for hatariui
	[a901658fa667]

	* python-ui/hatariui.py:
	fix hatariui help control/action description generation
	[01b79c77d388]

2010-05-30  Thomas Huth

	* CMakeLists.txt:
	The poseAsClass problem has been fixed, no need to force a 32-bit
	build anymore
	[49c57d8cc01d]

	* src/gui-osx/AlertHooks.m, src/gui-
	osx/English.lproj/InfoPlist.strings, src/gui-
	osx/English.lproj/Localizable.strings, src/gui-
	osx/English.lproj/SDLMain.nib/designable.nib, src/gui-
	osx/English.lproj/SDLMain.nib/keyedobjects.nib, src/gui-
	osx/French.lproj/InfoPlist.strings, src/gui-
	osx/French.lproj/Localizable.strings, src/gui-
	osx/French.lproj/SDLMain.nib/designable.nib, src/gui-
	osx/French.lproj/SDLMain.nib/keyedobjects.nib, src/gui-osx/Info-
	Hatari.plist, src/gui-osx/PrefsController.h, src/gui-
	osx/PrefsController.m, src/gui-osx/SDLMain.h, src/gui-osx/SDLMain.m:
	Fixed the poseAsClass problem by adapting SDLMain.m to the latest
	version from SDL 1.2.14. Thanks to Jerome Vernet for the patch.
	[2071b56221db]

2010-05-29  Thomas Huth

	* CMakeLists.txt:
	Universal binaries caused troubles during built - and since the OS X
	GUI does not work on Mac OS X 10.4 anymore, I've disabled the
	PowerPC support now.
	[2d45f531ae53]

	* src/gui-osx/PrefsController.m:
	Do not force color depth to 16 bpp, use default depth instead.
	[174f5a1212bb]

	* src/gui-osx/CreateFloppyController.m:
	Fix for compiling with older XCode
	[5915bab9acb7]

	* src/gui-osx/AlertHooks.m, src/gui-osx/CreateFloppyController.m, src
	/gui-osx/English.lproj/SDLMain.nib/designable.nib, src/gui-
	osx/French.lproj/SDLMain.nib/designable.nib:
	Jerome's latest update
	[f23ba86b69c5]

2010-05-28  Laurent Sallafranque

	* src/falcon/crossbar.c:
	sorry, removed the 2 fprintf. Precedent comment must be read as
	"corrects 25Mhz and 32 Mhz ..."
	[82edeecbe0c3]

	* src/falcon/crossbar.c:
	add: increase 258Mhz and 32 Mhz interrupts by taking into account
	the pending cycles
	[2b08d56579e6]

2010-05-24  Thomas Huth

	* src/gui-osx/English.lproj/SDLMain.nib/designable.nib, src/gui-
	osx/English.lproj/SDLMain.nib/keyedobjects.nib, src/gui-
	osx/French.lproj/SDLMain.nib/designable.nib, src/gui-
	osx/French.lproj/SDLMain.nib/keyedobjects.nib, src/gui-
	osx/SDLMain.h, src/gui-osx/SDLMain.nib/classes.nib, src/gui-
	osx/SDLMain.nib/info.nib, src/gui-osx/SDLMain.nib/keyedobjects.nib:
	Jerome's latest update to the .nib files
	[9b6af41ac267]

2010-05-24  Eero Tamminen

	* doc/release-notes.txt, src/createBlankImage.c, src/gui-
	sdl/CMakeLists.txt, src/gui-sdl/Makefile, src/gui-sdl/dlgFloppy.c,
	src/gui-sdl/dlgNewDisk.c, src/includes/dialog.h:
	ask whether newly created floppy image should be mounted to A: or B:
	[8195baf82d1b]

	* doc/compatibility.html:
	minor updates
	[0455c652b45c]

2010-05-23  Eero Tamminen

	* doc/emutos.txt:
	latest DHS STE demos work with EmuTOS
	[c03622269240]

2010-05-23  Thomas Huth

	* CMakeLists.txt, src/CMakeLists.txt:
	CMakeLists.txt updates for building on OS X
	[1dc598df076b]

2010-05-18  Eero Tamminen

	* python-ui/hatari.py:
	fix Hatari UI ST/E borders size calculation for max screen size
	change
	[6f04fdd8bb0a]

	* src/screen.c:
	max doubled res for ST/STE is 640x400 (before adding borders &
	statusbar)
	[2bca525abfdc]

2010-05-17  Eero Tamminen

	* src/configuration.c, src/gui-sdl/dlgMain.c:
	retain name of config file user loaded, fix the name leak and
	correct error message
	[83d8b64aa42d]

2010-05-16  Thomas Huth

	* src/CMakeLists.txt:
	Updates for building on Mac OS X
	[3a2583110465]

	* src/hd6301_cpu.c, src/hd6301_cpu.h:
	Fixed compiler warnings and moved variables to .c file
	[89fbba6bba67]

2010-05-16  Eero Tamminen

	* src/configuration.c:
	fix python UI assert, add correct prefix to SdlAudioBufferSize
	[4d50b6e82780]

2010-05-16  Thomas Huth

	* doc/release-notes.txt:
	Added LMC1992 emulation to release notes
	[ac022682f790]

	* doc/images/main.png:
	Updated the main dialog screenshot
	[db9f7f6b9ddd]

	* src/gui-sdl/dlgMain.c:
	Show file selection dialog when loading and saving configuration
	files.
	[d9630fde56a6]

2010-05-15  Nicolas Pomarede

	* src/video.c:
	Fix a potential bug/crash when running in monochrome and VBL was
	delayed too much. In monochrome (71 Hz) a line is 224 cycles, which
	means if the VBL is delayed by 160 cycles (DIVS) we will already be
	on line 1 when adding first hbl/timer B interrupts for line 0. If we
	detect VBL was delayed too much, we now add hbl/timer b immediatly
	in the next 4 cpu cycles to be sure line 0 is processed.
	[9dd6c5c12177]

2010-05-13  Nicolas Pomarede

	* src/gui-osx/English.lproj/InfoPlist.strings, src/gui-
	osx/English.lproj/SDLMain.nib/designable.nib, src/gui-
	osx/English.lproj/SDLMain.nib/keyedobjects.nib, src/gui-
	osx/French.lproj/InfoPlist.strings, src/gui-
	osx/French.lproj/SDLMain.nib/designable.nib, src/gui-
	osx/French.lproj/SDLMain.nib/keyedobjects.nib:
	Update localized files for english and french
	[1cae24a9621a]

	* src/gui-osx/CreateFloppyController.m, src/gui-osx/Info-Hatari.plist,
	src/gui-osx/PrefsController.h, src/gui-osx/PrefsController.m, src
	/gui-osx/SDLMain.h, src/gui-osx/SDLMain.m:
	Apply Jerome Vernet's patch to update OSX version of the GUI
	[73035156f3d4]

	* doc/hatari.1, doc/manual.html:
	Add --sound-buffer-size to the man and html versions of the
	documentation
	[76bef71735d4]

	* src/options.c:
	Add the option --sound-buffer-size to specify SLD sound buffer size
	in ms
	[2e0df51e1f6c]

	* src/sound.c:
	Comment debug traces
	[783c3f1c502a]

	* src/configuration.c, src/includes/configuration.h:
	Save/restore SdlAudioBufferSize in the [Sound] section of hatari.cfg
	[2e758ee7de3e]

2010-05-12  Nicolas Pomarede

	* src/audio.c, src/includes/audio.h:
	Allow to specify the size of SDL's sound buffer in ms using
	SdlAudioBufferSize. Instead of specifying a fixed value of 1024,
	which can confuse some faulty sound driver and create a hearable
	delay, it's possible to use SdlAudioBufferSize to specify the size
	of SDL's buffer. Default value of 1024 samples will give a 20-30 ms
	sound buffer. Users having sound delay should try to force
	SdlAudioBufferSize to 20 ms.
	[bf1c8ace3386]

	* src/sound.c:
	Add some debug traces
	[232728040217]

2010-05-12  Eero Tamminen

	* doc/emutos.txt:
	update emutos.txt for new emutos v0.8.5
	[1557ec961677]

2010-05-11  Eero Tamminen

	* python-ui/TODO:
	add pygui TODO from Anders on config file selection
	[a9e92b404ab6]

	* src/createBlankImage.c, src/includes/createBlankImage.h:
	const unmodified path arg, return whether disk creation succeeded
	[e0ce4e7bc587]

	* src/dim.c, src/includes/dim.h, src/includes/msa.h,
	src/includes/st.h, src/msa.c, src/st.c:
	const unmodified path argument for DIM/MSA/ST functions
	[0049b3309f76]

2010-05-10  Eero Tamminen

	* src/tos.c:
	when claiming to switch to some machine mode, switch all CPU
	parameters too (this is convenient and doing otherwise would confuse
	users, especially if they don't notice that Hatari didn't switch all
	parameters).
	[9d00b382eb24]

2010-05-09  Nicolas Pomarede

	* src/audio.c:
	Align comments
	[437e4eedb5f7]

	* src/audio.c:
	After calling SDL_OpenAudio(), SoundBufferSize should be converted
	in number of samples (not bytes)
	[43a438bdc231]

2010-05-09  Eero Tamminen

	* src/tos.c:
	Correct ROM checks/switches for Falcon->TOS1.62 and 030/STE->TOS
	1.4.
	[084f0f029518]

	* python-ui/dialogs.py, python-ui/uihelpers.py:
	update Hatari UI copyright & version (now v1.0)
	[591e79b730d7]

2010-05-08  Nicolas Pomarede

	* doc/authors.txt:
	Add Anders Eriksson to the contributors list
	[22ff20072888]

	* src/includes/m68000.h, src/m68000.c:
	Add a possibility for ADD/MOVE to pair when combined with d8(an,ix)
	addressing mode. The bus cycle penalty caused by d8(an,ix) can cause
	some instructions to pair, even if they wouldn't pair with some
	other addressing modes. For example, add.l (a5,d1.w),d0 + move.b
	7(a5,d1.w),d5 will pair to take a total of 36 cycles (fix Sommarhack
	2010 Invitation by DHS)
	[c5071f17020c]

2010-05-05  Laurent Sallafranque

	* src/falcon/dsp_cpu.c:
	ooops: I forgot to remove the debug flags
	[c89fae547982]

	* src/falcon/dsp_cpu.c, src/falcon/dsp_disasm.c,
	src/falcon/dsp_disasm.h:
	reworked dsp disasm code. fix mem disasm order (mem changes were
	displayed before the instruction in disasm mode). Optimized disasm
	code
	[4e94a6d38fc5]

2010-05-04  Nicolas Pomarede

	* src/falcon/crossbar.c:
	Use a scaling factor of 2.66 instead of 3 for mixing PSG (patch by
	David Savinkoff)
	[d1b385bdfcb4]

	* src/video.c:
	Improve Video_ConvertPosition, use CyclesPerVBL instead of
	evaluating CYCLES_PER_FRAME
	[e9815654c3a8]

2010-05-03  Thomas Huth

	* etc/win-ce.cfg:
	Updated Win-CE sample config file.
	[70ec266b3826]

2010-05-02  Eero Tamminen

	* python-ui/hatari-console.py:
	hatari console: mount-changes -> protect-floppy/hd
	[253afcfdd198]

	* doc/todo.txt:
	todo on ASCI/IDE write protection
	[cc8fc0afa05f]

	* python-ui/README:
	update python UI readme
	[9c14727e1aa4]

	* python-ui/TODO, python-ui/dialogs.py, python-ui/hatari.py:
	support --protect-floppy/-hd in python UI
	[592dc1e015a4]

	* doc/hatari.1, doc/manual.html, doc/release-notes.txt,
	src/configuration.c, src/gemdos.c, src/gui-sdl/dlgHardDisk.c,
	src/includes/configuration.h, src/options.c:
	unify how floppy and (GEMDOS) harddisk write protection is used:
	- rename bGemdosChanges -> nWriteProtection
	- add "auto" option also for GEMDOS emulation (disables Fattrib())
	- add --protect-floppy command line option
	- rename --mount-changes <bool> to --protect-hd <on/off/auto>
	- update documentation
	[4e2e821c95ce]

2010-05-02  Nicolas Pomarede

	* src/video.c:
	In Video_ConvertPosition, handle the case where we read the position
	between the last HBL and the start of the next VBL. During 64 cycles
	FrameCycles can be >= CYCLES_PER_FRAME (harmless fix, only useful
	when using --trace to get correct positions in the logs).
	[eaaaa1b449be]

2010-05-02  Eero Tamminen

	* doc/compatibility.html:
	update falcon compat notes
	[0fbf0ee26b62]

	* doc/compatibility.html:
	trivial compat update
	[febc000f3db6]

2010-05-02  Thomas Huth

	* doc/compatibility.html, doc/manual.html:
	Some more HTML fixes and improvements
	[5d956e94783f]

2010-05-01  Eero Tamminen

	* etc/README, etc/n810.cfg:
	update config example for Nokia Maemo tablets (not tested)
	[a46d4c3bd0c7]

2010-05-01  Thomas Huth

	* doc/manual.html:
	Fixed HTML bug
	[b0699e8d1ad2]

2010-05-01  Eero Tamminen

	* doc/manual.html:
	add instructions on debugging normal AHCC compiled TOS/GEM programs
	with symbols
	[dc9326accf5c]

	* src/debug/symbols.c:
	fix symbols double free and load address offset handling
	[960bb0c2426a]

	* src/debug/debugInfo.c:
	show all env vars and cli args with the "info basepage" command
	[6073d340e13b]

2010-04-28  Laurent Sallafranque

	* src/falcon/crossbar.c:
	When crossbar dma sound is stopped, we must call Sound_Update() to
	update the samples buffer
	[adcacc92d016]

2010-04-28  Thomas Huth

	* CMakeLists.txt:
	Fixed stupid typo ... forgot an else() statement
	[9ab74fbc50ec]

2010-04-28  Eero Tamminen

	* src/vdi.c:
	VDI opcode & subcode are unsigned, fix (tracing) checks against them
	[c7610ef027d1]

	* src/xbios.c:
	opcode is of unsigned type, so comparing it with >= 0 is redundant.
	[724488e0900f]

2010-04-28  Nicolas Pomarede

	* src/falcon/crossbar.c:
	For crossbar sound, check end address is greater than start address
	[789764c08ff4]

2010-04-27  Thomas Huth

	* CMakeLists.txt:
	unset READLINE_FOUND in case it's not a good readline library, so
	that the src/CMakeLists.txt does not try to link against this
	library
	[6fa60c3dfd05]

	* src/bios.c:
	The BiosCall variable is of unsigned type, so comparing it with >= 0
	is redundant.
	[20efcdbaf5b2]

2010-04-27  Eero Tamminen

	* readme.txt:
	fix RHEL problem section, add contents
	[fa08d4b913d0]

2010-04-27  Nicolas Pomarede

	* src/dmaSnd.c:
	When dma sound is stopped, we must call Sound_Update() to update the
	samples buffer In case dma is turned off during the vbl, we must
	fill the sample buffer with all the samples that were generated
	before stopping sound. This could cause some sound bugs in EPSS by
	Unit 17 (and sometimes a complete crash of Hatari) because the dma
	interrupt won't happen at the expected place (EPSS is doing clr.b
	$ff8901 + move.b #3,$ff8901 to force an immediate start of the
	sound)
	[41a7ad85ef6a]

	* src/dmaSnd.c:
	Fix typo in log message
	[adc1fc83ebdb]

	* src/dmaSnd.c:
	For DMA sound, check end address is greater than start address
	(testing dma.frameLen <= 0 is wrong because dma.frameLen is
	unsigned)
	[f0970768a021]

2010-04-26  Thomas Huth

	* CMakeLists.txt, cmake/FindPortAudio.cmake:
	Clean up CMAKE_REQUIRED_LIBRARIES after test has been done or other
	unrelated tests later might fail.
	[483d790192eb]

	* src/includes/gemdos_defines.h:
	Error code for write-protected is -13, not -12
	[9d4d83be9e40]

2010-04-26  Eero Tamminen

	* readme.txt:
	note the RHEL readline issue in installation instructions
	[d803a2d91018]

	* doc/manual.html, doc/release-notes.txt:
	tracing documentation improvements
	[4babcc5a30f7]

2010-04-25  Eero Tamminen

	* doc/compatibility.html, doc/emutos.txt:
	compat updates: keff doesn't work on falcon, emperor works with
	emutos
	[d47ab4973210]

	* src/xbios.c:
	add names for all XBIOS calls when tracing
	[068170b0544b]

	* src/bios.c:
	give names for all bios functions when tracing
	[34a3d33db441]

2010-04-24  Thomas Huth

	* cmake/FindPortAudio.cmake:
	Removed bad quotations in portaudio detection file
	[be0f922c0d0b]

	* CMakeLists.txt:
	Use the additional CFLAGS from SDL for compilation
	[5e21a8c46d8b]

2010-04-24  Eero Tamminen

	* src/vdi.c:
	add more verbose VDI tracing (sub-opcode + VDI function name)
	[6a5adae76732]

2010-04-22  Laurent Sallafranque

	* src/falcon/crossbar.c:
	applied David's patch (it corrects some bugs and fix attenuation and
	gain values)
	[2785c5912789]

2010-04-21  Eero Tamminen

	* python-ui/TODO:
	more python-UI debugger TODOs
	[9ab9d0009a95]

2010-04-19  Eero Tamminen

	* python-ui/debugui.py, python-ui/release-notes.txt:
	Option for whether Hatari UI debugger will change to new PC address
	(whenever emulation is stopped again)
	[ffe2d43c8f25]

	* python-ui/config.py, python-ui/hatariui.py:
	fixes for Hatari UI missing config saving
	[c2d0f3becc1f]

2010-04-18  Nicolas Pomarede

	* src/dmaSnd.c:
	Patch by David Savinkoff : fix possible memory corruption that could
	alter video/sound
	[ae01f13d72de]

2010-04-18  Eero Tamminen

	* python-ui/TODO, python-ui/release-notes.txt, python-ui/uihelpers.py:
	update python UI docs
	[bc7df15c5776]

	* python-ui/dialogs.py, python-ui/hatari.py, python-ui/hatariui.py:
	Add new settings dialog for configuring HD images and dir. Also
	remove get/set_usehd stuff, as it's not handled properly, setting
	the image/dir option already should do what's needed...
	[dd66431fe4f3]

	* doc/todo.txt:
	todo for partition counting
	[084d2b4978d4]

	* src/options.c:
	improve missing file handling for option setting:
	- "none" as file name can be used to disable functionality even when
	file existence check is requested. This is needed for Hatari UI
	hard disk settings
	- midi and rs232 create their output files so the files don't need
	to pre-exist
	- midi input file needs to pre-exist
	[77038f38c219]

	* doc/manual.html:
	for v1.4, passes still HTML validation
	[1a7c135147db]

	* python-ui/dialogs.py, python-ui/hatari.py:
	Support max size in Hatari UI, remove aspect ratio & spec512
	controls from it (they work fine so they're redundant options for
	the UI)
	[492a52adc4c5]

	* python-ui/config.py, python-ui/debugui.py, python-ui/hatari.py,
	python-ui/hatariui:
	fix debugger UI config loading
	- move config path handling from hatari.py back to config.py for this
	- rename HATARI_CONFDIR to more correct HATARI_SYSTEM_CONFDIR
	[c87dd379aa02]

	* doc/authors.txt:
	update authors list and make sure its text fits into 80 cols
	[a12f5bf9cc53]

2010-04-17  Eero Tamminen

	* doc/compatibility.html:
	jam-cols works fine
	[0b014d7939e1]

2010-04-16  Eero Tamminen

	* doc/images/monitor.png, doc/images/screen.png, doc/manual.html:
	split manual screen section to Atari monitor and Hatari screen
	sections (with new screenshots etc).
	[9883146ec514]

	* src/gui-sdl/dlgScreen.c:
	remove aspect correction option from GUI as unnecessary:
	- disabling it can produce really strang Falcon resolutions
	- it works as fine
	[969c4439ba72]

2010-04-15  Nicolas Pomarede

	* website/scrshots6.html:
	For Falcon, remove 'higly experimental' from the description
	[d05718701223]

2010-04-15  Eero Tamminen

	* doc/release-notes.txt:
	mention fullscreen/pause fix
	[b0fec3c1469d]

2010-04-15  Nicolas Pomarede

	* website/links.html:
	Fix type in url
	[a939a65b2cb5]

2010-04-14  Nicolas Pomarede

	* website/docs.html, website/index.html, website/links.html:
	Small changes in description regarding TT/Falcon, add link to
	todo.txt
	[36a74890f71e]

2010-04-13  Eero Tamminen

	* doc/compatibility.html, doc/emutos.txt, python-ui/release-notes.txt:
	trivial doc updates
	[aff5593c4dda]

2010-04-12  Nicolas Pomarede

	* src/video.c:
	Improve timings when writing to $ff8205/07/09 when hscroll is used
	The MMU starts reading video data 16 cycles earlier in that case
	(fix Pacemaker's Bump Part by Paradox)
	[1c6984f95830]

2010-04-11  Eero Tamminen

	* doc/compatibility.html:
	compatibility: 1.3.1+ -> 1.4, add AHCC/Pure-C/MP2
	[2a880c46ea75]

2010-04-09  Nicolas Pomarede

	* src/sound.c:
	Use the same indent style as the rest of the file
	[45557987d41a]

2010-04-09  Eero Tamminen

	* python-ui/Makefile, python-ui/config.py, python-ui/hatari.py,
	python-ui/hatariui:
	use and handle Hatari system configuration file correctly (if one
	exists, but saved user configuration is missing)
	[9f81b10fef96]

2010-04-07  Eero Tamminen

	* doc/manual.html:
	update manual feature list based on Laurent's comments
	[9a217ffeee4d]

2010-04-06  Eero Tamminen

	* doc/manual.html, doc/release-notes.txt, doc/todo.txt:
	minor updates to manual, release notes and todo
	[fe7f031388d2]

2010-04-06  Laurent Sallafranque

	* src/dmaSnd.c, src/sound.c:
	add David's latest patches for DMA sound. Thanks again David.
	[9ffac230e9cf]

	* doc/todo.txt:
	update the falcon and STe Dma sound TODO list
	[baa046aeefdf]

2010-04-06  Eero Tamminen

	* doc/images/harddisks.png, doc/images/main.png,
	doc/images/newfloppy.png, doc/images/system.png, doc/manual.html:
	update manual screenshots and texts for options dialogs (except for
	screen dialog which I update later)
	[c7121754c80a]

2010-04-05  Eero Tamminen

	* doc/manual.html:
	improve/update perforance section in manual
	[38b661d0da92]

	* doc/compatibility.html:
	update falcon compatiblity reasons
	[9e77fd74d470]

	* src/debug/evaluate.c, src/debug/log.h:
	set LOG_TRACE() debug stuff as unlikely to speed emulation when
	tracing isn't enabled
	[8af4ed017568]

	* src/convert/macros.h, src/convert/spec320x16.c,
	src/convert/spec320x32.c, src/convert/spec640x16.c,
	src/convert/spec640x32.c:
	fix x86 past-array-end read for spec512 conversion
	[2a02fa8735e3]

2010-04-05  Nicolas Pomarede

	* src/m68000.c:
	Correctly initialize LastOpcodeFamily with a valid opcode.
	[72fe4de1a4b6]

	* src/includes/m68000.h, src/m68000.c, src/uae-cpu/gencpu.c, src/uae-
	cpu/newcpu.c, src/uae-cpu/newcpu.h:
	Better handling of d8(an,ix) addressing mode on ST (including
	pairing). On ST, d8(An,Xn) is causing a misaligned bus access and
	will generate a 2 cycles penalty on every use (can be 4 cycles if
	used as both source and dest in a move). Due to this particular bus
	access, an instruction using d8(An,Xn) will usually take 4n+2 cycles
	and could pair with a previous compatible instruction. We use
	BusCyclePenalty to count the number of cycles lost by d8(an,ix) and
	we add this value to the current number of cycles depending on
	whether pairing is used or not. This code should handle all possible
	cases (previous code only handled some special cases with add/sub)
	(verified with various combinations on a real STF, as well as in ULM
	Demo Menu, Anomaly Demo Intro, DHS Sommarhack 2010).
	[9eb34ca61590]

2010-04-04  Eero Tamminen

	* tools/hmsa/Makefile:
	hmsa build needs LDFLAGS too
	[619ab05097ba]

	* Makefile-default.cnf, src/falcon/hostscreen.c, src/main.c,
	src/screen.c, tests/Makefile, tests/test-scripting.sh:
	add GCC "mudflap" instrumentation support:
	http://gcc.gnu.org/wiki/Mudflap_Pointer_Debugging
	[604cc0ae1597]

	* src/screen.c:
	make it more explicit that double buffering isn't used, and why
	[9f3bc3edeb1c]

	* doc/hatari.1, src/includes/options.h, src/main.c, src/options.c:
	add option to disable SDL parachute to get Hatari core dumps. (and
	remove redundant comments from headers and redundant var
	initialization to zero)
	[7e9a24db3756]

	* src/debug/symbols.c, tests/debugui/debugger.ini, tests/test-
	symbols.c:
	allow removing symbols + make tests use that (will get rid of
	unfreed allocs messages in tests)
	[739add946452]

2010-04-01  Laurent Sallafranque

	* src/dmaSnd.c:
	added David's latest patch. Thanks David !! :)
	[bad1e1cc5b85]

2010-03-31  Laurent Sallafranque

	* src/audio.c, src/includes/dmaSnd.h:
	fix headers in audio.c
	[e285a9dad08e]

2010-03-31  Eero Tamminen

	* src/debug/breakcond.c:
	fix !_GNU_SOURCE compilation warning / remove redundant isblank()
	[6b53c0bfa595]

	* doc/emutos.txt:
	add few programs working with emutos
	[068e7d0dc668]

	* doc/compatibility.html:
	add URLs for STE compat list games
	[f181a61fc3fb]

2010-03-30  Laurent Sallafranque

	* src/dmaSnd.c:
	I uploaded the wrong David's patch yesterday. Here is the correct
	one.
	[b8d5235fb3ed]

2010-03-29  Laurent Sallafranque

	* src/dmaSnd.c:
	fix mono divider value
	[12b5519f1d06]

2010-03-29  Laurent Sallafranque

	* src/audio.c, src/dmaSnd.c:
	add David's patch
	[0b698d74de5a]

2010-03-27  Thomas Huth

	* doc/CMakeLists.txt:
	Fixed manpages target for CMake version 2.6.0
	[a799659c1e53]

2010-03-24  Laurent Sallafranque

	* src/dmaSnd.c:
	David's optimizations and improvements's patch for LCM1992
	bass/treble emulation. He also added anti aliasing for 50 Khz
	frequency.
	[74f20f88d57e]

2010-03-21  Laurent Sallafranque

	* src/dmaSnd.c:
	fix: mix correctly Yamaha's sound and DMA's sound together. Phazer
	by 505 from Blubber demo runs well now
	[4a7cc38aa498]

2010-03-21  Eero Tamminen

	* src/falcon/hostscreen.c:
	remove debug stuff that makes paused text disappear after fullscreen
	toggling (hostscreen render end function call results in an extra
	statusbar update)
	[5e82d68ba1b0]

	* src/includes/video.h, src/screen.c, src/video.c:
	keep emulation paused while toggling fullscreen:
	- when emulation is paused, screen needs to be redrawn after the
	toggle, add internal screen.c function for this
	- for redrawing TT screen, a function needs to be exported from
	video.c for screen.c
	[3bf843d5ae90]

2010-03-21  Thomas Huth

	* src/debug/debugui.c:
	Disable the risky system call by default.
	[2dbd35845115]

	* src/gui-sdl/dlgFileSelect.c, src/zip.c, tools/hmsa/hmsa.c:
	Free allocated memory in case of errors. Thanks to Christoph Fritz
	for the patch.
	[10aca286b32a]

	* src/printer.c:
	Make sure that Printer_ResetInternalBuffer is always called, also
	when pPrinterHandle is invalid
	[aa25ee217ceb]

2010-03-21  Laurent Sallafranque

	* src/dmaSnd.c, src/sound.c:
	applied David's patches.
	[db609c138814]

2010-03-21  Eero Tamminen

	* src/CMakeLists.txt, src/Makefile, src/falcon/hostscreen.c,
	src/falcon/hostscreen.h, src/includes/resolution.h,
	src/resolution.c, src/screen.c:
	Fix: limit max zoom size to largest video mode available to SDL:
	- move video mode search and selection functions to new resolution.c
	file
	- add Resolution_GetLimits() function for getting largest resolution
	from configuration which is clipped to largest SDL video mode
	- use int as args instead of Uint32 as that's what the SDL functions
	accept
	- change screen.c and hostscreen.c to use these new functions
	- add resolution.c to C/Makefile and document its functions
	[db1c0fd41108]

2010-03-20  Eero Tamminen

	* doc/release-notes.txt, doc/todo.txt:
	note in docs: options for how many lines to disasm & memdump
	[4ea11a28275f]

	* src/configuration.c, src/includes/configuration.h, src/screen.c:
	clip low/med rez borders according to max size, remove border size
	config settings (can be done now that Nicolas fixed video.c in
	revision 3e393cb7ebad)
	[6e41b2bbd122]

	* doc/compatibility.html:
	last Braindamage demo difference has disappeared
	[5d64a2028858]

	* src/falcon/hostscreen.c:
	remove hostscreen save&restore on fullscreen toggling, it doesn't
	work properly (when SDL/host screen is larger than Atari one,
	hostscreen was restoring it in different position (0,0) than where
	Videl will draw the Atari screen).
	[e829357ea79a]

	* src/falcon/hostscreen.c:
	don't use SDL_WM_ToggleFullScreen() if Atari screen size differs
	from SDL screen rename: sizeChanged -> sizeDiffers
	[051a9ab85188]

2010-03-20  Laurent Sallafranque

	* src/dmaSnd.c:
	add : 25, 12, and 6KH frequencies for IIR filter LMC1992 emulation
	should be complete now
	[4dbb8ef7b1e7]

2010-03-19  Laurent Sallafranque

	* src/dmaSnd.c:
	renamed all IIR functions to Dma_
	[650eef50dca5]

	* doc/authors.txt, src/dmaSnd.c:
	update and fix BASS / Treble code (again, thanks to David)
	[04cb09f32043]

2010-03-19  Nicolas Pomarede

	* src/video.c:
	Ensure left border is large enough to copy video bytes when display
	starts 2 or 8 bytes earlier
	[3e393cb7ebad]

2010-03-18  Laurent Sallafranque

	* src/dmaSnd.c, src/includes/dmaSnd.h, src/main.c:
	add: first try to implement LMC1992 bass / Treble. Mega thanks to
	david for his FIR code and his help.
	[e8ca39fd9666]

2010-03-18  Eero Tamminen

	* src/falcon/crossbar.c:
	fix portaudio crash (it was being re-initialized on every reboot and
	didn't like that)
	[0b6213fafb93]

2010-03-17  Eero Tamminen

	* src/falcon/hostscreen.c:
	fix Falcon screen size changes on fullscreen which don't cause video
	mode change (need to clear screen, especially in case new Atari
	screen size is smaller, otherwise parts of old Atari screen contents
	are left there.)
	[90364f0ccb43]

	* src/falcon/hostscreen.c:
	fix: modes returned by SDL_ListModes() are not sorted
	[1f3ad505fdc2]

2010-03-16  Nicolas Pomarede

	* configure:
	Add '--cross-compile-win32' to the configure script
	[812a579a7df5]

	* src/CMakeLists.txt:
	Set "windres" as a default rc compiler under windows
	[f8183de23ae4]

2010-03-16  Eero Tamminen

	* src/gui-sdl/dlgMain.c, src/gui-sdl/dlgScreen.c:
	use dialog names suggested by Thomas, "Doubled" -> "Zoomed"
	[1d0beb94f741]

	* readme.txt:
	update build instructions
	[24caa8e05f2d]

	* CMakeLists.txt:
	glob isn't used anymore, remove
	[1215f644921f]

2010-03-15  Eero Tamminen

	* src/configuration.c, src/options.c:
	set default/zoomed size according to 2x (ST-low + max borders)
	[098ef1c548ec]

2010-03-13  Eero Tamminen

	* python-ui/hatari-console.py:
	hatari-console sleep command
	[67bb4ba9ff1f]

	* src/control.c:
	fix compiler warning
	[40d829845d49]

2010-03-13  Nicolas Pomarede

	* cmake/Toolchain-mingw32.cmake:
	Add a toolchain file to cross compile the Windows version under
	another OS using mingw32 To use this toolchain, you should have a
	working mingw setup (with all required devel sources for sdl, png,
	...) Then run : cmake -DCMAKE_TOOLCHAIN_FILE=cmake/Toolchain-
	mingw32.cmake .
	[057aaadff2b1]

	* src/CMakeLists.txt:
	Add support for .rc ressouce files when compiling a Windows
	executable using cmake
	[f2056d29f15b]

2010-03-12  Eero Tamminen

	* tests/debugui/console.ini, tests/debugui/debugger.ini, tests/test-
	scripting.sh:
	add test script for debugger and console scripting features
	[277621041d3e]

	* python-ui/hatari-console.py, python-ui/release-notes.txt:
	hatari-console can be scripted.

	(moved also the code around so that now all functions are methods in
	some suitable class)
	[ee1b16f9aa30]

	* src/debug/breakcond.c:
	fix: segfault when using debugger "da" command without DSP being
	enabled
	[2d7d9a4a31a5]

	* src/debug/debugui.c:
	Error message at startup when exiting due to debug input file being
	not found.
	[6cd62826f8fb]

	* src/debug/debugui.c:
	fix: double free in debugger input file parsing
	[ff3f2ef09a8d]

	* src/configuration.c, src/includes/configuration.h, src/shortcut.c:
	MOUSEMODE -> MOUSEGRAB (more accurate name)
	[7e6b8db90464]

	* src/debug/debugui.c, src/file.c:
	fix: File_MakeValidPathName() could write past the string end.
	[14fe17ede6e1]

	* python-ui/hatari-console.py, python-ui/release-notes.txt:
	update Hatari UI release notes and hatari-console options.
	[94f4a1212c64]

	* doc/hatari.1, python-ui/hatari.py, python-ui/hatariui.py,
	src/options.c:
	add --saveconfig option for Hatari UI so that user doesn't need
	manually save/sync Hatari config for it.

	Also added configuration validation function to Hatari UI so that it
	can know early at its startup when to ask Hatari to do --saveconfig.
	Previously it could die to exeption somewhat later on where it
	wasn't (at least easily) catchable.

	If --saveconfig doesn't help, Hatari UI will still get exeption
	which tells what part of the configuration is out of sync between
	Hatari & UI.
	[46baf24808d4]

2010-03-11  Eero Tamminen

	* python-ui/config.py, python-ui/dialogs.py:
	improved UI button type & warning message
	[ebc41ec53b80]

	* python-ui/config.py, python-ui/debugui.py, python-ui/dialogs.py,
	python-ui/hatari.py, python-ui/hatariui.py, python-ui/uihelpers.py:
	fix for previous Hatari-UI zooming update, update Hatari UI sources
	copyright & email info
	[0863026d395b]

2010-03-10  Eero Tamminen

	* python-ui/TODO, python-ui/dialogs.py, python-ui/hatari.py:
	adapt Hatari-UI for bZoomLowRes changing to max window size options
	[32868e9249af]

	* doc/hatari.1, doc/manual.html, doc/release-notes.txt, doc/todo.txt,
	src/options.c:
	add options for aspect ratio correction and max window size + doc
	update
	[6fa083381fca]

	* src/falcon/hostscreen.c:
	fix: hostscreen resolution changing while in fullscreen
	[7251e7f708fb]

	* Makefile-default.cnf:
	Makefile.cnf template: make LIBS overridable, update comments
	[59626bc22808]

2010-03-10  Laurent Sallafranque

	* src/falcon/crossbar.c:
	fix 32 MHz timer
	[74aad0454f93]

	* src/debug/debugInfo.c:
	add: implemented Iphigeny into "info crossbar" code. Infos are
	easier to read.
	[483089def6ee]

2010-03-09  Nicolas Pomarede

	* Makefile-MinGW.cnf:
	Makes HOSTCC overridable by env variable
	[f1e336b35380]

	* Makefile-MinGW.cnf:
	When crosscompiling, HOSTCC must be 'gcc', not CC (else it will use
	mingw and will fail)
	[c784976559db]

2010-03-08  Laurent Sallafranque

	* src/dmaSnd.c, src/falcon/crossbar.c:
	fix: replace linear volume tables by logarythmics ones. Volume is
	now correctly emulated.
	[2bf8f18d7eb7]

2010-03-07  Laurent Sallafranque

	* src/dmaSnd.c:
	fix: remove compiler warning
	[9c97eaa78e25]

	* src/dmaSnd.c:
	add: LMC1992 volume emulation : left, right and master volumes are
	emulated now. Todo: the bass and treble emulation
	[944b4ac97377]

2010-03-06  Thomas Huth

	* python-ui/hatariui:
	Make python-ui wrapper relocatable
	[c0ced9cd7d58]

2010-03-06  Eero Tamminen

	* src/falcon/hostscreen.c:
	fix statusbar assert when running Alive Falcon demo on fullscreen
	[7bf314510939]

2010-03-05  Eero Tamminen

	* src/falcon/hostscreen.c:
	do aspect ratio & max window size scaling in hostscreen
	[d0a6ebcf9d36]

	* src/change.c, src/configuration.c, src/falcon/videl.c, src/gui-
	sdl/dlgMain.c, src/gui-sdl/dlgScreen.c,
	src/includes/configuration.h, src/includes/dialog.h, src/options.c,
	src/screen.c, src/video.c:
	split screen to separate monitor and window dialogs, replace zoom
	option with aspect ratio and max size options
	[b7002300be19]

	* src/includes/statusbar.h, src/statusbar.c:
	add statusbar function needed by new zooming code.
	[75793f762686]

	* src/falcon/hostscreen.c, src/falcon/hostscreen.h,
	src/falcon/videl.c, src/includes/video.h, src/screen.c, src/video.c:
	doing aspect correction based on Videl values not feasible (yet),
	revert.
	- instead do simple 2^ aspect correction in hostscreen
	- remove the old zooming that was ifdeffed out by previous comment
	[e4d73a152c2f]

2010-03-04  Eero Tamminen

	* src/falcon/hostscreen.c, src/falcon/hostscreen.h,
	src/falcon/videl.c, src/includes/video.h, src/screen.c, src/video.c:
	preliminary support for Falcon/TT Monitor aspect ratio correction,
	also
	- disable Falcon/TT zooming so that issues with aspect ratio can be
	found
	- do video mode change only when needed
	[87b9c628b6c2]

2010-03-04  Thomas Huth

	* src/uae-cpu/CMakeLists.txt:
	Fixed cross-compiling with CMake
	[1fcbc2dc96a5]

2010-03-04  Eero Tamminen

	* src/falcon/hostscreen.c:
	make sure that Falcon fullscreen toggling doesn't mess window size:
	- SDL_WM_ToggleFullScreen() should use requested WinSize, not the
	resulting one that's modified by scaling and whichever screen
	resolutions SDL had available as fullscreen
	- user might even change scaling settings while in fullscreen
	[048a8d8a136d]

	* python-ui/TODO, python-ui/dialogs.py, python-ui/hatari.py:
	Hatari UI: support --slowfdc, update CPU types, update TODO
	[ce4aef90bb02]

2010-03-02  Eero Tamminen

	* python-ui/hatari-console.py:
	add new command line options & debugger commands to hatari-console
	and update the help text.
	[566647b13866]

	* src/options.c:
	fix option error case for previous fix, improve comments (for
	--option<digit> case)
	[1044462d3587]

	* src/options.c:
	fix: segfault when using --joyX option without argument
	[dc6253fc79e5]

	* src/debug/debug_priv.h, src/debug/debugcpu.c, src/debug/debugdsp.c,
	src/debug/debugui.c:
	don't save disasm/memdump addresses to emulated state as they aren't
	part of that. change debugger state file extension from .break to
	.debug.
	[fac24f29b4b1]

	* src/configuration.c, src/debug/debugcpu.c, src/debug/debugdsp.c,
	src/debug/debugui.c, src/debug/evaluate.c,
	src/includes/configuration.h:
	Make debugger disasm and memdump lines configurable from Hatari
	config, move number base variable from Log section to new Debugger
	section (as it's only used by debugger).
	[ce0769a48e1f]

2010-03-01  Laurent Sallafranque

	* src/dmaSnd.c:
	fixed switch condition
	[d7b955eebd4d]

	* src/dmaSnd.c:
	Added some code for Microwire & LMC 1992 emulation.
	[f62c25f2259c]

2010-03-01  Eero Tamminen

	* src/debug/breakcond.c:
	fix: trimmed string needs separate var from the one that will be
	freed. It may also be useful to be able to remove or list
	breakpoints from DSP although it would be disabled (e.g. from the
	UI).
	[b3b48c24fb89]

	* src/debug/breakcond.c, src/debug/breakcond.h, src/debug/debugcpu.c,
	src/debug/debugdsp.c, src/debug/debugui.c, src/debug/debugui.h,
	src/memorySnapShot.c:
	breakpoints aren't part of emulated state, save them to separate
	file from memory snapshot
	[9df6a9492eff]

2010-02-28  Eero Tamminen

	* doc/hatari.1, doc/manual.html, doc/release-notes.txt, src/options.c:
	document "parse" command and "--parse" & --trace-file options
	[1c80553f257c]

	* doc/compatibility.html:
	link to right Protracker STE, add Amiga Demo 2 (has also 50kHz
	replay)
	[aaae80b005f5]

	* src/debug/debugui.c:
	fix Thomas' compile warnings: check system() & chdir() return values
	[c9608ebcd966]

2010-02-28  Nicolas Pomarede

	* Makefile-MinGW.cnf:
	BUILD_HOST should default to windows
	[291725574b78]

	* Makefile-MinGW.cnf, src/gui-win/Makefile:
	Add BUILD_HOST to allow to build the windows binary from windows or
	from linux
	[1937af63f511]

2010-02-28  Thomas Huth

	* src/CMakeLists.txt, tools/CMakeLists.txt, tools/hmsa/CMakeLists.txt:
	Build hmsa with CMake build system, too
	[9aa93eb03a75]

2010-02-28  Eero Tamminen

	* src/debug/debug_priv.h, src/debug/debugcpu.c, src/debug/debugdsp.c,
	src/debug/debugui.c:
	move readline match callback names to where function names are, add
	completion for registers
	[f0e6d62b4f0e]

2010-02-28  Thomas Huth

	* CMakeLists.txt, tools/CMakeLists.txt:
	Install shell script tools
	[52cb1e9b5f67]

	* src/CMakeLists.txt:
	Install hatari-icon.bmp and tos.img, too
	[5ada12e52cd2]

	* CMakeLists.txt, cmake/config-cmake.h:
	Make BIN2DATADIR configurable
	[2727597f95be]

	* cmake/config-cmake.h, config-default.h:
	Removed unused defines
	[074ece69c9dd]

	* Makefile-default.cnf:
	Link against libm in old Makefile build system, too. This is
	required for upcoming Fedora core 13, see bug #16851 for details.
	[2b4b8d88d702]

	* CMakeLists.txt, cmake/FindMath.cmake, src/CMakeLists.txt:
	Added Math library to CMake build system. This should fix bug
	#16851.
	[265723760fde]

2010-02-27  Thomas Huth

	* cmake/FindPortAudio.cmake:
	We need portaudio version 2, so check for a unique function of that
	version
	[188556c9d3b9]

2010-02-28  Eero Tamminen

	* tests/debugui/debugger.ini, tests/debugui/dsp-test.sym,
	tests/debugui/etos512.sym, tests/etos512.sym:
	add/move test files for debugger commands file parsing
	[0389f04be522]

	* src/debug/debugui.c:
	fix reading commands file: evaluate expressions, fix leak, skip
	empty & comment lines
	[e536598dc9df]

2010-02-27  Eero Tamminen

	* src/debug/debugui.c, src/debug/debugui.h, src/main.c, src/options.c:
	fix: debugger commands file needs to be read after CPU & DSP are
	initialized, otherwise breakpoints (and possibly some other
	commands) given from it won't work when the file is given as a
	command line option.
	[48909f343ec9]

	* src/debug/breakcond.c:
	conditional breakpoints: allow DSP breakpoints only if DSP enabled,
	fix symbol matching
	[09c8a67127f4]

	* tests/os-header.sym, tests/test-symbols.c:
	add os-header.sym symbols file and use that in debugger symbol
	handling tests (those values don't change like etos ones may and the
	file is smaller)
	[c956d8971d48]

	* src/debug/debugui.c, src/debug/debugui.h, src/options.c:
	option and command to parse debugger commands from a file
	[bc41eaec8c6a]

	* doc/compatibility.html:
	Alive demo issues were in use of frameskip, it works fine
	[9ca5cbeffd75]

2010-02-26  Eero Tamminen

	* src/debug/debugcpu.c, src/debug/debugdsp.c:
	continue dumping from previously given DSP memory space/address if
	none specified (+ add <> to DSP & CPU address ranges)
	[2844eca06783]

	* config-default.h, src/main.c:
	glob.h doesn't need to checked. add missing sys/times.h check, warn
	if it's used
	[d771fd1a63d9]

	* doc/release-notes.txt, src/main.c:
	Fix VBLs/s counting to work also when --run-vbls isn't used
	[725ecd4cbe42]

2010-02-26  Laurent Sallafranque

	* doc/compatibility.html:
	add : bound 42 (MJJ Prod) to compatibility list
	[d3ff24644059]

2010-02-25  Laurent Sallafranque

	* doc/compatibility.html:
	added : Ishar3 (CD version)
	[9a0f61053f6b]

	* src/falcon/crossbar.c:
	fix: clear DAC (L+R) buffers when DMA play sound stops. Else, the
	buffers loops forever.
	[37aa7a6a572b]

	* src/falcon/dsp_cpu.c:
	optimisation of MAC, MACR, MPY and MPYR
	[1d6526e3d2f8]

2010-02-25  Eero Tamminen

	* doc/manual.html, doc/release-notes.txt:
	mention "cd" & "exec" commands in docs
	[cdca9b046255]

	* src/debug/debugui.c:
	fix usage output for debug commands with no short name.
	[6b2adc395285]

	* src/debug/debugui.c:
	add "exec" debugger command
	[0ef75733965b]

	* src/debug/symbols.c:
	output symbols list in the same format as they're input
	[96820ec60642]

	* src/debug/debugui.c:
	add "cd" debugger command
	[ff4187f89ac2]

	* src/debug/debugdsp.c:
	fix DSP symbols in disasm output + minor DSP debugger output
	improvements
	[945d40e7eaef]

	* src/gemdos.c:
	fix gemdos.c compiler warning
	[8c1e08f1ec6a]

2010-02-25  Laurent Sallafranque

	* src/falcon/dsp.c, src/falcon/dsp.h:
	add a define for CPU/DSP ratio
	[e4e5fa7e003e]

	* src/falcon/dsp.c:
	fix: changed DSP cycles tuning to be compatible with Nicolas's last
	patch
	[8ea0648ccf91]

2010-02-24  Eero Tamminen

	* doc/compatibility.html, doc/emutos.txt:
	add: 20 years Atari STE megademo
	[f7f27561eb16]

2010-02-23  Nicolas Pomarede

	* src/includes/cycles.h, src/uae-cpu/newcpu.c:
	When DSP is enabled, use CYCLES_COUNTER_CPU to get the total number
	of cycles used by the CPU. We need to compute all cycles spent in
	the CPU, including the time needed to process exceptions, before
	calling DSP_Run (else the DSP won't run for the correct number of
	cycles)
	[3519b02affa0]

2010-02-21  Eero Tamminen

	* doc/compatibility.html:
	risk works ok
	[4a0c21b49fb4]

	* doc/compatibility.html:
	correct pouet.net id
	[f0b688097d7a]

	* config-default.h:
	add HAVE_MALLOC_H & HAVE_POSIX_MEMALIGN to config-default.h (for
	Glibc)
	[317b150f171c]

	* doc/compatibility.html:
	add several Falcon games/demos
	[4e793ee2901f]

	* doc/todo.txt:
	remove configure.ac todo
	[4aab39a4be09]

2010-02-21  Thomas Huth

	* readme.txt:
	Rewrote the instructions for compiling with CMake
	[e6588e9ef7a1]

	* .hgignore, Makefile.cnf.in, acsite.m4, configure.ac:
	Removed the autoconf files since nobody wants to maintain these
	files anymore. For configuring the build process, you can now use
	"cmake" instead.
	[2d05fee42afb]

	* .hgtags:
	Added tag before_removing_autoconf_files for changeset 50b9dfdcc014
	[b20eb20251fa]

2010-02-21  Nicolas Pomarede

	* CMakeLists.txt:
	For cmake, ensure readline detection is correctly linked with
	libreadline
	[50b9dfdcc014] [before_removing_autoconf_files]

2010-02-21  Eero Tamminen

	* doc/compatibility.html:
	add Team & Epi-lepsie
	[db449c77e9b2]

2010-02-20  Eero Tamminen

	* doc/compatibility.html:
	add Aniplayer to compatibility list (and move AFM to sorted
	position)
	[1f0fb9eeb455]

2010-02-20  Laurent Sallafranque

	* src/falcon/crossbar.c:
	finished to optimize crossbar code. Sound problem is clearly in
	crossbar <---> DSP transfers. I'll check this.
	[b277f94e5575]

2010-02-19  Laurent Sallafranque

	* src/falcon/crossbar.c:
	add: sound volume for both adc and dac. Remove double variables for
	readDacBuffer. Sound seems better under Whip, but not under AFM
	[efcc3ab3f9e8]

	* src/falcon/crossbar.c:
	add: first preview of sound volume control.
	[8cd6bc72d014]

2010-02-18  Eero Tamminen

	* src/falcon/crossbar.c:
	silence crossbar.c compiler warning (it doesn't know
	codecInputSource max value is 3)
	[aad85ef530cd]

2010-02-18  Laurent Sallafranque

	* src/falcon/crossbar.c:
	remove some double variable. Rewrite of 25 Mhz and 32 Mhz
	frequencies. Optimize microphone code. Code cleaning
	[65d8be280806]

2010-02-17  Eero Tamminen

	* src/debug/debugInfo.c, src/debug/debugInfo.h,
	src/debug/debug_priv.h, src/debug/debugcpu.c, src/debug/debugdsp.c,
	src/debug/debugui.c:
	reset disasm address to PC whenever re-entering the debugger.
	[6e3ff0505fb7]

2010-02-16  Eero Tamminen

	* doc/release-notes.txt, doc/todo.txt:
	docs: symbols are shown in DSP disassembly too
	[c789f016bd92]

	* src/debug/debugdsp.c, src/falcon/dsp.c, src/falcon/dsp.h:
	handle DSP memdump similarly to disasm.
	[2897107093d7]

	* src/debug/debugdsp.c:
	support symbols in DSP "disasm" command output
	[8f436371bfc1]

	* src/debug/symbols.c:
	fix comment
	[b03453b54c3d]

	* src/debug/debugdsp.c:
	use stderr for remaining debugdsp.c error messages
	[5de119d8f389]

	* doc/manual.html, doc/release-notes.txt:
	trivial doc improvement
	[92a43491524a]

	* doc/todo.txt:
	breaking out of loops can now be done with "b pc > pc :once"
	[78e776b112a4]

	* src/debug/breakcond.c, src/debug/debugcpu.c:
	fix typos in help texts
	[2aef8d1f60ae]

	* doc/manual.html:
	major update to manual debugger section to get it upto date
	[197e2d50ad48]

2010-02-15  Eero Tamminen

	* tests/TODO:
	remove done tests TODO
	[a339ba45c935]

	* doc/release-notes.txt:
	update release notes for debugger stuff
	[5072b59b54eb]

	* src/debug/breakcond.c:
	fix issue and improve output revealed by updated breakcond tests
	[b1c44c46f849]

	* tests/test-breakcond.c:
	add tests for new conditional breakcond features
	[1855b5e80666]

	* src/debug/breakcond.c, src/debug/breakcond.h, tests/test-
	breakcond.c:
	make breakcond tests to use the public BreakCond_Command() API, so
	that extra functions don't need to be exported just for tests.
	[5a6462ef9c63]

	* tests/Makefile, tests/test-breakcond.c, tests/test-dummies.c, tests
	/test-evaluate.c:
	update test code, split common "dummy" stuff to test-dummies.c
	[91954e86415c]

	* src/debug/breakcond.c, src/debug/debugui.c, src/debug/evaluate.c,
	src/debug/evaluate.h:
	interpret in "evaluate" CPU or DSP regs&symbols where appropriate,
	not both CPU and DSP.
	[954f37932500]

2010-02-14  Nicolas Pomarede

	* src/cycles.c, src/includes/cycles.h, src/memorySnapShot.c:
	Add nCyclesCounter[] to the memory snapshot. Without this, some
	snapshots would cause an error in Cycles_GetCounter() when restored
	and some possible crashes.
	[ffb8bd5c49c3]

2010-02-14  Eero Tamminen

	* src/debug/breakcond.c, src/debug/debugcpu.c, src/debug/debugdsp.c,
	src/debug/debugui.c, src/debug/symbols.c, src/debug/symbols.h:
	update and improve several debugger help texts.
	[986bac9e218a]

	* doc/todo.txt, src/debug/breakcond.c, src/debug/breakcond.h,
	src/debug/debugcpu.c, src/debug/debugdsp.c:
	Make address & dspaddress commands wrappers for conditional
	breakpoints. This way there's only one list of breakpoints for user
	to manage, options for them are the same and code doesn't need to be
	duplicated.
	[4178c971bf22]

	* src/includes/str.h, src/str.c:
	Str_EndsWith() not needed anymore with breakcond.c update, remove.
	[a21a0f598310]

	* src/debug/breakcond.c:
	conditional breakpoint options separated with ':', support for skip
	option (breakpoint features are now on par with address
	breakpoints).
	[5b2bb41f6142]

	* src/debug/debugcpu.c:
	simplify "disasm" command implementation (remove also breakpoint
	showing, that won't be possible once address breakpoints are
	implemented with conditional ones.)
	[8f4fedbd8dff]

	* doc/release-notes.txt, doc/todo.txt:
	update todo & release-notes to latest debugger improvements
	[b859f30276af]

	* src/debug/debugui.c:
	remove "value" command and more number base setting to "setopt"
	command
	[139c5bae1af8]

	* src/debug/debugui.c:
	TAB-completion for "evaluate" command and quoted expressions. Update
	help.
	[8e18f70b46c5]

	* src/debug/debugui.c, src/debug/log.c, src/debug/log.h:
	disable normal GUI alerts while on debugger/console
	[7d2d89129fd3]

2010-02-13  Eero Tamminen

	* src/debug/debugui.c:
	TAB-complete last "evaluate" result for $
	[d86ea4664eb6]

	* src/debug/breakcond.c, src/debug/debugui.c:
	allow quoted expression evaluation for everything in debugger
	[6f7e04f791c0]

	* src/debug/evaluate.c:
	support register and symbol values in evaluate command
	[123f11b2f33c]

	* src/falcon/dsp.c:
	don't return DSP register addresses unless DSP is running
	[c4075863947d]

2010-02-13  Laurent Sallafranque

	* doc/compatibility.html, src/ioMemTabFalcon.c:
	compatibility list update
	[de9af48c14d1]

2010-02-12  Eero Tamminen

	* src/debug/debugInfo.c:
	add register address disasm/memdump support to lock command
	[2072bf3b4667]

2010-02-12  Laurent Sallafranque

	* src/falcon/crossbar.c, src/falcon/crossbar.h, src/ioMemTabFalcon.c:
	crossbar code cleaning
	[53bbc968eee2]

2010-02-11  Laurent Sallafranque

	* src/falcon/crossbar.c:
	add: ADC->DAC direct connexion. Whip and Audio Fun Machine are
	playing sound now. $FF8937 and $FF8938 are correctly taken into
	account.
	[eb80a1b35d16]

2010-02-11  Eero Tamminen

	* doc/release-notes.txt, src/debug/debugInfo.c, src/debug/debugInfo.h,
	src/debug/debugui.c:
	make "lock" separate command instead of "info" option, add
	dspmemdump handling for the lock command (additional parameter
	require more extensive changes, but will be useful also for register
	locking)
	[ae3fc0f4ac6f]

2010-02-10  Eero Tamminen

	* src/debug/breakcond.c:
	evaluate quoted expressions in conditional breakpoints
	[eec2aad8e73e]

	* src/debug/breakcond.c:
	change current value only for non-tracked values
	[41c1b3e73fed]

2010-02-10  Laurent Sallafranque

	* src/falcon/crossbar.c:
	add: crossbar ASCIIart schematic.
	[f262e337c7b7]

2010-02-09  Eero Tamminen

	* src/debug/debugcpu.c, src/debug/debugdsp.c, src/debug/debugui.c:
	add subheadings to debugger help
	[890976a0458b]

	* src/debug/debugInfo.c, src/debug/debugdsp.c, src/debug/debugdsp.h:
	support DSP disasm/regs for debugger info/lock command, fix info
	help
	[a938235faf79]

	* doc/release-notes.txt, src/debug/debugInfo.c, src/debug/debugInfo.h,
	src/debug/debugcpu.c, src/debug/debugcpu.h, src/debug/debugui.c:
	possibility to "lock" info command to be output when entering
	debugger. info commands for disasm, memdump & registers.
	[91184cbe5fbf]

2010-02-08  Eero Tamminen

	* src/debug/debugcpu.c:
	simplify DebugCpu_MemDump() code
	[4519881bce20]

	* doc/release-notes.txt, src/debug/debugui.c:
	add statesave & stateload debugger commands, update release notes
	[709c4eddbf60]

	* src/debug/breakcond.c:
	if comparing identical expressions, evaluate right side when
	condition entered (change tracking is done only for the inequality
	condition)
	[d0d88fc2990b]

2010-02-07  Nicolas Pomarede

	* doc/compatibility.html, doc/release-notes.txt:
	Update docs regarding video counter emulation on STE
	[074e7692eb0a]

	* src/video.c:
	Better support for modifying $ff8205/07/09 while display is on (fix
	EPSS demo by Unit 17)
	[5b413e37d514]

2010-02-06  Nicolas Pomarede

	* src/video.c:
	In Video_CalculateAddress, take STE's LineWidth into account On STE,
	the content of $ff820f is added to the current video address as soon
	as display enters the right border (cycle 376 for a normal line). We
	should not wait for Video_EndHBL (cycle 512) to add $ff820f when
	reading $ff8205/07/09 (fix the game Utopos)
	[0b5d2ef08b6f]

2010-02-06  Eero Tamminen

	* tests/TODO:
	add tests TODO
	[7f06f219864c]

	* tests/test-symbols.c:
	update to latest symbols changes
	[ab29e3b5fa9f]

	* src/debug/debugui.c:
	add symbol name completion and symbol address showing to value
	command
	[dc3ca2bf4478]

	* src/debug/debugui.c:
	add conditional breakpoint symbol completion + update address
	breakpoint completion (address breakpoints should match only code
	addresses)
	[e3ea0894fc9f]

	* src/debug/breakcond.c, src/debug/breakcond.h:
	add symbols support to conditional breakpoints
	[2aac4498dc3d]

	* src/debug/debugcpu.c, src/debug/debugdsp.c, src/debug/symbols.c,
	src/debug/symbols.h:
	finish supporting separate text/code and data/bss symbols matching
	[b4a6f6e27269]

2010-02-05  Eero Tamminen

	* src/debug/breakcond.c:
	better conditional break message, have "once" bp removal code in one
	place
	[13ced9619b75]

	* src/debug/symbols.c, src/debug/symbols.h:
	show symbol type on listings and make symbols type a bitmask (in
	preparation for separate TEXT and DATA symbol access)
	[6acfa9079697]

	* src/debug/breakcond.c, src/debug/breakcond.h:
	test needs to give breakcond.c ro strings, make parse function args
	const
	[9038726e3c34]

	* tests/test-breakcond.c:
	update test-breakcond.c
	[4ee566abf67f]

2010-02-03  Eero Tamminen

	* src/debug/breakcond.c, src/debug/breakcond.h, src/debug/debugcpu.c,
	src/debug/debugdsp.c:
	move breakpoint command description to breakcond.c
	[e38d8fda585c]

2010-02-02  Laurent Sallafranque

	* src/debug/debugInfo.c:
	add: scroll register added to VIDEL info (debug mode)
	[ffbd105e8c15]

2010-02-02  Eero Tamminen

	* src/file.c:
	when splitting path, remove separator from end of path (Windows-only
	issue, patch courtesy of Konador, Cyprian)
	[ed206c749ea7]

	* src/gui-sdl/dlgFileSelect.c:
	use paths.c utility function for getting home dir (has better
	fallbacks)
	[5d2ee6cfc13d]

	* src/paths.c:
	support Windows homedir path variable
	[bd60753ae67d]

	* src/createBlankImage.c:
	better error message when floppy image creation fails
	[bcbeac5da8e3]

2010-02-01  Eero Tamminen

	* src/debug/breakcond.c:
	correct printf message
	[4b6524794b14]

2010-01-31  Eero Tamminen

	* doc/release-notes.txt, src/debug/breakcond.c, src/debug/breakcond.h,
	src/debug/debugcpu.c, src/debug/debugdsp.c:
	memory change tracking suport, once & trace keywords, hit counting
	to conditional breakpoints
	[1a659fed336b]

	* src/includes/str.h, src/str.c:
	Add Str_EndsWith() function for new debugger feature.
	[fb419c815edd]

2010-01-31  Laurent Sallafranque

	* src/falcon/crossbar.c:
	add: correct crossbar intial values (after boot). This let me remove
	the temporary "bad hack" I wrote in function
	"Crossbar_FrameCountLow_WriteByte" to let "Eko system" demo work. It
	may fix some other programs, I haven't tested deeply.

	fix: crossbar sound buffer size to reduce the delay when sound is
	playing.
	[48d329bc3579]

2010-01-29  Eero Tamminen

	* doc/manual.html:
	HTML validator and readability fixes ("&minus;" -> "-", "&quot;" ->
	'"')
	[dc14ad141f96]

	* doc/compatibility.html:
	fix HTML-validator issues, update several Falcon compat items (and
	change "dummy/emu" -> "dummy emu" in tables so that it can wrap)
	[0dc511796685]

2010-01-29  Laurent Sallafranque

	* doc/compatibility.html:
	update compatibility list
	[edd98f6f757f]

2010-01-26  Thomas Huth

	* CMakeLists.txt, cmake/config-cmake.h:
	Check for posix_memalign() and memalign() functions
	[dca761fc16ac]

	* Info-Hatari.plist, src/CMakeLists.txt, src/gui-osx/Info-
	Hatari.plist:
	Moved Info-Hatari.plist file to src/gui-osx/ folder since this file
	is for Mac OS X only.
	[2709cf75ed8e]

	* Hatari.xcodeproj/project.pbxproj:
	Removed old Xcode project. Use the new CMake build system instead to
	generate project files for Xcode.
	[2e1df3a8df6c]

	* .hgtags:
	Added tag before_removing_xcode_project for changeset 5f5002de02bb
	[b82d2b234f62]

2010-01-26  Eero Tamminen

	* src/gemdos.c:
	replace magic GEMDOS values with appropriate defines
	[5f5002de02bb] [before_removing_xcode_project]

	* src/gemdos.c:
	set FileHandles[].szActualName in Fcreate() too when file open
	succeeds. (and in Fopen() set it only _if_ file open succeeds)
	[ad0b98dad6f0]

	* src/gemdos.c:
	gemdos improvements: check dest size, use file.c util function
	[f387bce13a46]

	* src/gemdos.c:
	fix case: Fcreate() given dir\filename of which neither exists. (the
	new code created file with shortened name of "dir\filename")
	[35b58807ba76]

	* doc/release-notes.txt, src/gemdos.c:
	Fixed and much improved host file name support for GEMDOS drive
	emulation:
	- convert host filename chars that are invalid in TOS to valid ones
	('@') (main thing is that extra dots don't break TOS fileselector
	etc).
	- cut file basename and extension separately to 8+3 size (gives more
	readable TOS filenames).
	- support long host directory names in addition to filenames
	(earlier they might be visible in TOS, but files in them weren't).
	- first try matching exact (non-casesensitive) name first, only if
	that fails, use a pattern for long names (fixes renaming name.prg
	to name.pr).
	- get rid of glob() and use opendir()/readdir()/closedir() and TOS
	pattern matching instead (unlike TOS, glob() interprets [] as
	ranges).
	[4a58031dd34c]

	* doc/manual.html:
	minor manual improvements (mainly language)
	[707323a092dd]

	* doc/compatibility.html:
	tron2001 is from ICE
	[df03e216c986]

	* src/ide.c:
	ide.c: assert on alloc errors. free everything on uninit. I used
	asserts as the earlier code was incorrect: if
	(!opaque_ide_if || !hd_table[0] || !hd_table[1]) {
	perror("Ide_Init"); (errno is undefined after a succesful library
	call i.e. check + perror() would need to be separately for each
	malloc.)
	[2603bc3ea79f]

	* src/debug/debugcpu.c:
	show symbols in disasm trace when: nCpuActiveBPs || nCpuActiveCBs ||
	nCpuSteps
	[11500183bf54]

	* doc/release-notes.txt, src/createBlankImage.c, src/gui-
	sdl/dlgNewDisk.c:
	add support for creating blank HD & ED floppy images
	[7cf3e651c547]

	* src/gui-sdl/dlgMain.c:
	fix Hatari GUI reset button active area width
	[fcb2e17e9175]

2010-01-25  Laurent Sallafranque

	* doc/compatibility.html:
	update compatibility list : Wotanoid is now working
	[f16c13621f0d]

	* src/gemdos.c, src/ioMemTabFalcon.c:
	fix: gemdos Fread accept size > $7fffffff with Tos > 4.0. fix:
	iomemTabFalcon address $FF9206 Wotanoid game is now working
	[6bfd3046f74d]

2010-01-25  Eero Tamminen

	* doc/todo.txt:
	add myself todo about configure.ac update or removal before next
	release.
	[46d58a22104b]

2010-01-24  Thomas Huth

	* CMakeLists.txt, cmake/DistClean.cmake:
	Added 'distclean' target
	[312e81e718bb]

2010-01-24  Eero Tamminen

	* doc/release-notes.txt, doc/todo.txt:
	Note new debugger features, list possible debugger TODOs (Monst
	features)
	[5ea6ffb477d1]

	* src/debug/debugcpu.c:
	Counted CPU breakpoint support. Show symbols & breakpoints with CPU
	disasm trace (only if there are CPU breakpoints)
	[051e73aca8d8]

	* doc/todo.txt, src/floppy.c, src/gui-sdl/dlgFloppy.c:
	Give error dialog when user tries to insert same floppy image to
	multiple drives. GUI code changes required for handling error from
	name setting correctly (easiest was just removing the unused return
	value).
	[057572bb031f]

	* src/ide.c:
	IDE sector read/write error handling
	[2e629f22c22b]

2010-01-23  Thomas Huth

	* src/CMakeLists.txt:
	Added libraries SDLmain and ws2_32 for compiling on Windows
	[eb729b557f53]

	* configure:
	Added '--disable-osx-bundle' parameter
	[6e085d951d66]

	* src/CMakeLists.txt, src/gui-osx/CMakeLists.txt:
	OS X GUI classes must not be built as library, but linked directly
	into the executable. Some classes are referenced only from the .nib
	file and thus discarded when linked into a library first.
	[47e1795527bf]

	* CMakeLists.txt, src/CMakeLists.txt:
	Made the OS X bundling optional
	[2c585943af19]

	* CMakeLists.txt:
	Only use libreadline if the completion functions are available. This
	fixes the problems with older versions of editline on Mac OS X
	[614a54d1cd84]

	* src/gui-osx/CMakeLists.txt:
	Make sure that CMake does not use C++ compiler for Objective-C
	files.
	[ed7f5f178540]

	* CMakeLists.txt, src/CMakeLists.txt, src/gui-osx/CMakeLists.txt, src
	/gui-osx/SDLMain.m:
	The CMake build system can now also create a working Xcode project.
	[857657c8fd05]

	* src/gui-osx/Shared.h, src/gui-osx/Shared.m:
	Silenced some compiler warnings
	[024f9c788433]

	* src/gui-osx/PrefsController.m:
	Made OS X GUI compilable again
	[5fa35ca71eff]

	* src/debug/symbols.c:
	Fixed compiler warning about unitialized variable
	[21cfc83f14ab]

	* Hatari.xcodeproj/project.pbxproj:
	Updated old Xcode project with new files.
	[42dd9ca0d40c]

2010-01-22  Thomas Huth

	* src/uae-cpu/CMakeLists.txt:
	Do not assume that executable is in current dir, use
	get_target_property instead. This helps a little bit with the build
	process on Xcode...
	[ebc4d432fc2e]

2010-01-21  Eero Tamminen

	* src/xbios.c:
	fix previous xbios.c ARRAYSIZE commit
	[eefe4b5c73a5]

2010-01-20  Eero Tamminen

	* src/gemdos.c:
	Make GEMDOS multipartition subdir name check stricter. isalpha() is
	locale aware, so check for A-Z explicitly.
	[5cf051595b42]

	* src/floppy.c, src/gemdos.c, src/includes/gemdos.h, src/stMemory.c:
	name driver number variable as such instead of calling it hd letter.
	[d438fe62b105]

	* src/gemdos.c:
	2 missing gemdos call names to trace table
	[1de07126a354]

	* src/includes/rs232.h, src/rs232.c, src/xbios.c:
	use SDL types for rs232 stuff too.
	[754d0d4336c5]

	* src/rs232.c:
	both set functions should take FILE*, configured device file open
	should give warning, change direct printf warnings to use log
	functions so that they they can be controlled.
	[3716234546c4]

	* src/change.c, src/falcon/dsp.c, src/hdc.c, src/includes/hdc.h,
	src/main.c:
	move HDC and DSP config values checking from main to respective Init
	functions like with the rest of the Init functions.
	[ae2c8925403d]

	* src/debug/debugInfo.c:
	validate sysbase against TosAddress too
	[6f0550c3e7c9]

2010-01-20  Laurent Sallafranque

	* src/falcon/dsp_cpu.c:
	clean: remove debug fprintf
	[d000a5f56edf]

	* src/falcon/dsp_cpu.c:
	fix: 2nd vectored instruction test for a JSR must be done only when
	we're on the second fetched instruction. (if the first instruction
	was a jmp, no need to test if the second one is a JSR)
	[71fdd94ba633]

	* doc/todo.txt, src/falcon/dsp_core.c, src/falcon/dsp_core.h,
	src/falcon/dsp_cpu.c:
	fix: rewrite of DSP interrupts code. Interrupts are now "fetched"
	correctly. fix: stack interrupt is now raised with movec instruction
	too.
	[13c5e580ea46]

2010-01-20  Eero Tamminen

	* doc/manual.html, doc/release-notes.txt:
	Major updates to manual hard disk sections. Update manual and
	release notes to latest Hatari changes.
	[9dcfe732e857]

2010-01-18  Thomas Huth

	* tests/buserror/buserr_b.prg, tests/buserror/buserr_b.s,
	tests/buserror/buserr_w.prg, tests/buserror/buserr_w.s,
	tests/buserror/readme.txt, tests/buserror/results/fal_c_b.txt,
	tests/buserror/results/fal_c_w.txt,
	tests/buserror/results/fal_n_b.txt,
	tests/buserror/results/fal_n_w.txt, tests/buserror/results/st_b.txt,
	tests/buserror/results/st_w.txt, tests/buserror/results/ste_b.txt,
	tests/buserror/results/ste_w.txt, tests/buserror/results/tt_b.txt,
	tests/buserror/results/tt_w.txt:
	Added programs for testing the bus errors in the IO memory
	[b50b0dac2306]

2010-01-17  Eero Tamminen

	* doc/hatari.1, doc/manual.html:
	doc: add info on debugger symbols command; --ide to --ide-master &
	--ide-slave
	[e60bf40e5ac6]

	* src/debug/debugcpu.c:
	show symbol names in the CPU disassembly
	[db4504b80eb3]

	* src/debug/debugdsp.c:
	list symbols for dsp breakpoints, not CPU
	[51d1c5002cd5]

	* src/gui-sdl/dlgAbout.c, src/gui-sdl/dlgAlert.c, src/gui-
	sdl/dlgDevice.c, src/gui-sdl/dlgFileSelect.c, src/gui-
	sdl/dlgJoystick.c, src/gui-sdl/dlgNewDisk.c, src/gui-sdl/dlgRom.c,
	src/gui-sdl/dlgSound.c, src/gui-sdl/dlgSystem.c, src/gui-
	sdl/sdlgui.c:
	convert rest of SDL-GUI function comments to format needed by Hatari
	API documentation
	[d1bef2c23342]

	* src/debug/debugcpu.c, src/debug/debugcpu.h, src/debug/debugdsp.c,
	src/debug/debugui.c, src/debug/symbols.c, src/debug/symbols.h:
	improve & generalize symbols/address support to work with DSP too:
	- move CPU address & symbol matching functionality to symbols.c,
	generalize it and add minimal wrappers also for DSP
	  - this allowed hiding implementation details to symbols.c and keep
	changes to already existing DSP and CPU debug code minimal
	- add support for loading DSP symbols and TAB-completing them
	- add symbol name showing to breaked, listed and deleted breakpoints,
	both for DSP and CPU
	[044bd9c612bb]

2010-01-17  Thomas Huth

	* CMakeLists.txt:
	check_function_exists is optional, so let's include the
	corresponding module.
	[d85726352bbc]

	* CMakeLists.txt, python-ui/CMakeLists.txt:
	Install python UI with CMake, too
	[9c90712b2ac3]

	* CMakeLists.txt:
	Include module CheckIncludeFiles to make sure that
	check_include_files is always available
	[486a7fe708c3]

2010-01-16  Thomas Huth

	* cmake/FindReadline.cmake:
	Added missing INCLUDE(FindPackageHandleStandardArgs)
	[61e66376af6e]

	* src/debug/CMakeLists.txt:
	Added new file symbols.c to CMakeLists
	[6e0658f20a21]

	* CMakeLists.txt, cmake/FindPortAudio.cmake, cmake/FindReadline.cmake,
	configure, src/CMakeLists.txt, src/debug/CMakeLists.txt,
	src/falcon/CMakeLists.txt:
	CMake build system should now also work if one of the optional
	libraries has not been found.
	[28f5378b45b7]

2010-01-16  Eero Tamminen

	* src/debug/debugInfo.c:
	allow leaving basepage address out, default then to current process
	address
	[9b128d4dbf32]

	* src/debug/debugInfo.c:
	add "info" subcommands "osheader" and "basepage" + arg handling for
	last one
	[df1f3440eae7]

2010-01-15  Eero Tamminen

	* doc/compatibility.html:
	compat list: Aura's illusion and Tron2001 work.
	[1c07e5fc2b35]

2010-01-14  Eero Tamminen

	* src/debug/debugInfo.c, src/debug/debugInfo.h, src/debug/debugui.c:
	bind debug info stuff to debugger.
	[5f17219fb4c0]

2010-01-13  Laurent Sallafranque

	* src/ioMemTabFalcon.c:
	fix: added address $FF800A as voidRead and voidWrite. Illusion Demo
	(Aura) is now working.
	[a512d1ef2d7e]

2010-01-12  Laurent Sallafranque

	* src/debug/debugInfo.c, src/debug/debugInfo.h:
	add: new debugInfo function (I forgot it in my upload)
	[7fb18e8814e5]

	* src/debug/CMakeLists.txt, src/debug/Makefile, src/falcon/crossbar.c,
	src/falcon/crossbar.h, src/falcon/videl.c, src/falcon/videl.h:
	add: debugInfo to get informations of the atari components. (First
	components added : Videl and Crossbar)
	[eb6065eb8a68]

2010-01-12  Eero Tamminen

	* src/debug/Makefile, src/debug/debugcpu.c, src/debug/debugcpu.h,
	src/debug/debugui.c, src/debug/symbols.c, src/debug/symbols.h,
	tests/Makefile, tests/etos512.sym, tests/test-symbols.c, tools/ahcc-
	symbols-convert.sh:
	Hatari debugger symbol/address handling; parsing, sorting, matching,
	TAB completion support, test code/data etc. Initial version.
	[307730a3cf2d]

	* src/file.c:
	remove all slashes from filename end, not just one
	[1a54a53f7fc6]

	* src/gemdos.c:
	fix: gemdos call tracing crash when program does MiNT gemdos calls
	on TOS
	[d6b5961b20f6]

2010-01-11  Laurent Sallafranque

	* src/falcon/crossbar.c, src/falcon/crossbar.h, src/falcon/videl.c,
	src/falcon/videl.h:
	add: info functions for Videl and Crossbar components (to be used in
	debugger mode)
	[42461614fd89]

2010-01-10  Nicolas Pomarede

	* src/video.c:
	In Video_CalculateAddress, take HWScrollPrefetch into account When
	$ff8265 is used to scroll, shifter starts reading memory 16 pixels
	earlier. (fix EPSS demo by Unit 17)
	[cd8bc4c67033]

2010-01-10  Eero Tamminen

	* src/str.c:
	improve str.c comment
	[f9cb14192c0c]

	* src/debug/evaluate.h:
	correct comment/define name
	[e85c769b7516]

	* src/debug/debugui.c:
	debugger help: handle command short version missing or empty.
	[1ca8b28fe054]

	* src/debug/debugcpu.c, src/debug/debugdsp.c:
	Show hex values as hex (%x -> 0x%x)
	[a4c67b95fb2f]

	* src/gemdos.c:
	fix fsfirst_match() end of string matching with '*' (it should match
	also zero chars).
	[84b8989f28fb]

	* src/gemdos.c:
	simplify fsfirst_dirmask()
	[f274eb600602]

2010-01-10  Thomas Huth

	* .hgignore, configure:
	Added configure wrapper script for the CMake build system
	[24a1ac46674e]

2010-01-10  Nicolas Pomarede

	* src/video.c:
	In Video_CalculateAddress, take bSteBorderFlag into account (+16
	pixels in left border on STE) (fix Intro (spec512 pictures) and
	Direct Color Zoomer in Atari STe 20 year megademo)
	[c269e5c8852d]

2010-01-09  Thomas Huth

	* CMakeLists.txt, cmake/config-cmake.h, src/debug/CMakeLists.txt,
	src/falcon/CMakeLists.txt:
	Added conditional build features to CMake build system
	[b212d9045d40]

	* src/gui-sdl/CMakeLists.txt, src/uae-cpu/CMakeLists.txt:
	Fine tuning of compiler warning flags
	[98eb5d35845d]

	* cmake/FindReadline.cmake:
	Improved cmake check for libreadline
	[84b57b79fcbc]

	* doc/authors.txt:
	Nicolas is now admin, too
	[22cd2947a1a2]

2010-01-09  Eero Tamminen

	* tests/Makefile:
	rm built tests on clean
	[b61880a70217]

2010-01-07  Eero Tamminen

	* src/gemdos.c:
	add appropriate consts to string pointers, rename match() ->
	fsfirst_match()
	[cfc0cbcbbf33]

	* src/falcon/dsp_disasm.c:
	workaround compiler warning (sprintf("") -> *str=0)
	[ca56d09f84cd]

2010-01-06  Thomas Huth

	* CMakeLists.txt:
	Set default build type to 'Release' and add more CFLAGS
	[fb341d4e9359]

	* src/uae-cpu/gencpu.c:
	Changed 'char *' to 'const char *' to avoid compiler warnings when
	this file is being compiled with the -Wall flag.
	[ca0ae9af2791]

2010-01-05  Laurent Sallafranque

	* src/falcon/hostscreen.c:
	fix: mouse pointer position is now correctly initialized. Thanks to
	thomas for the fix.
	[3f7bb012e3a0]

2010-01-04  Thomas Huth

	* CMakeLists.txt, cmake/FindPortAudio.cmake, cmake/config-cmake.h,
	src/CMakeLists.txt, src/falcon/microphone.c:
	Added PortAudio test to cmake build system
	[a6f92ea876f6]

2010-01-01  Thomas Huth

	* CMakeLists.txt, doc/CMakeLists.txt, src/CMakeLists.txt:
	Added cmake rules for installing
	[daab4fb7864d]

2009-12-30  Thomas Huth

	* CMakeLists.txt, cmake/FindReadline.cmake, cmake/config-cmake.h,
	config-cmake.h, src/CMakeLists.txt:
	Added proper checks for optional libraries, headers and functions to
	the cmake build system.
	[7642453a7eda]

	* src/uae-cpu/CMakeLists.txt:
	Fixed cmake rules for cross-compiling.
	[9033b969eca5]

	* CMakeLists.txt, config-cmake.h, src/CMakeLists.txt:
	Added config.h for cmake build.
	[685283b4f563]

	* src/CMakeLists.txt:
	Forgot to rename int.c to cycInt.c in CMakeList.txt
	[a90b3bb0ddb8]

	* src/falcon/dsp_cpu.c:
	Disable DSP disassembling by default
	[a6fc6d82fb80]

	* src/gemdos.c:
	Print real file handles instead of negative numbers
	[8160a1f32356]

2009-12-29  Laurent Sallafranque

	* doc/authors.txt, doc/release-notes.txt, doc/todo.txt:
	update TODO and release notes
	[fe9c1e8bd2c8]

	* src/falcon/dsp.c, src/falcon/dsp_cpu.c, src/falcon/dsp_disasm.c,
	src/falcon/dsp_disasm.h:
	add: display DSP cycles for each instruction in debug mode
	[8fffff71d733]

2009-12-29  Eero Tamminen

	* src/gemdos.c:
	Fix gemdos path error check that prevented TOS from copying new file
	to GEMDOS HDD. Update gemdos comments.
	[db7e0c784268]

	* doc/emutos.txt:
	add realtime to emutos compatible ste demos
	[fe054432c6e9]

2009-12-22  Thomas Huth

	* Makefile:
	Automatically use Makefile-MinGW.cnf when compiling with MinGW.
	Thanks to Cyprian Konador for the patch.
	[df62ff0dde52]

	* src/file.c, src/gui-win/opencon.c:
	Fix for compiling with MinGW.
	[12e67c2d6de4]

2009-12-21  Thomas Huth

	* src/gemdos.c:
	Ignore all hidden files when scanning for GEMDOS partition mode
	[14bd1149a232]

	* src/blitter.c, src/cycInt.c, src/dmaSnd.c, src/falcon/crossbar.c,
	src/fdc.c, src/ikbd.c, src/includes/cycInt.h, src/memorySnapShot.c,
	src/mfp.c, src/midi.c, src/reset.c, src/video.c:
	Renamed 'Int' prefix to 'CycInt' to match the new name of the file.
	[d0c337dbee13]

2009-12-21  Laurent Sallafranque

	* src/falcon/crossbar.c, src/falcon/crossbar.h,
	src/falcon/microphone.c:
	fix: detect when there's no input device for microphone emulation.
	(SIGSEGV error removed in this case).
	[b47570526969]

2009-12-20  Thomas Huth

	* src/uae-cpu/fpp-unknown.h:
	Fixed compiler warning from GCC 4.4
	[fc8dfad533d6]

	* src/ide.c:
	Do not try to open an IDE slave image when only a master image is
	configured. Thanks to Uwe Seimet for the patch.
	[2fd881b39956]

	* src/file.c, src/includes/file.h:
	Replaced ftell with ftello for large file support
	[aea86db254d6]

2009-12-19  Thomas Huth

	* src/hdc.c:
	Fixed print-out of LBA (should be block address instead of byte
	address). Thanks to Uwe Seimet for the hint.
	[6f35d71d120b]

	* src/video.c:
	Fixed compiler warning
	[1ebf3f73783e]

	* doc/manual.html:
	Added note about size of hard disk images.
	[f8ab6e212eb6]

	* src/file.c, src/includes/file.h:
	Changed return type of File_Length to long for big files on 64-bit
	systems. Thanks to Uwe Seimet for the hint.
	[9dec5f799366]

2009-12-19  Laurent Sallafranque

	* src/falcon/dsp_disasm.c:
	code beautification + preparation for dsp cycle instruction display
	[3c29e583f7d1]

	* doc/release-notes.txt, doc/todo.txt:
	todo and release-notes update
	[65209a078628]

	* src/falcon/crossbar.c, src/falcon/crossbar.h,
	src/falcon/microphone.c, src/ioMemTabFalcon.c:
	fix: compiler warnings, code beautification, added variables for
	gain ans attenuation control.
	[b51ed0dfa2a1]

2009-12-17  Thomas Huth

	* src/cycInt.c, src/gemdos.c:
	Fixed compiler warnings
	[35ba7999853b]

2009-12-14  Laurent Sallafranque

	* src/falcon/crossbar.c, src/falcon/crossbar.h,
	src/falcon/microphone.c:
	fix: remove microphone warning during compilation
	[e174abde168a]

2009-12-13  Laurent Sallafranque

	* src/falcon/dsp_core.h, src/falcon/dsp_cpu.c:
	fix: SR IPL test was wrong. SR must mask only lower interrupt level,
	not same level code cleaning
	[99916d9c84dc]

2009-12-13  Eero Tamminen

	* doc/compatibility.html:
	really set Moai as working
	[942100792db9]

2009-12-13  Nicolas Pomarede

	* src/video.c:
	Fix small error on STE when using hardware scrolling in overscan
	(introduced in rev 2334) When using overscan, the whole screen is
	shifted 4 pixels to the left as the display starts earlier. When
	combined with STE's $ff8264 we must first scroll the pixels in the
	displayed area, then we shift the whole line by STF_PixelScrol
	pixels (doing it the other way around introduced 4 color-0 pixels in
	the right border). The STE will scroll the pixels in the displayed
	area ; the hi/lo switch will shift the whole displayed area.
	[0eac85b8f5f8]

	* src/video.c:
	Improve STE 224 bytes overscan lines
	 - correctly set leftmost 16 pixels to color 0 (taking into account how
	many bytes are displayed by Hatari in left border)
	 - remove small glitches when combined with hscroll ($ff8264)
	[32bfc6f4f89b]

2009-12-12  Eero Tamminen

	* src/change.c:
	do statusbar update always after config changes. (CPU speed etc
	settings can be changed without emulation reset)
	[7fffd28bbd28]

	* doc/compatibility.html:
	chosneck supplement demo works almost completely
	[2b12fc156793]

2009-12-11  Eero Tamminen

	* src/statusbar.c:
	Add CPU type+speed and FastForward mode indicator to statusbar.
	Based on patch from Cyprian Konador, thanks!
	[43dbf4ce5a11]

	* doc/compatibility.html:
	add winrec & STEarth + links and software sites section.
	[20888c89dc1a]

	* doc/emutos.txt:
	stearth demo works with emutos
	[f5145d9e2be8]

2009-12-10  Laurent Sallafranque

	* src/falcon/crossbar.c:
	fix: DMA interrupts must be LOG_TRACE, not LOG_Printf. Removed
	PORTAUDIO #ifdefs.
	[dc7b305dd39a]

	* src/falcon/crossbar.c, src/falcon/crossbar.h,
	src/falcon/microphone.c, src/falcon/microphone.h:
	add: microphone jack emulation is now running. Just listen to winrec
	in cyborg mode.
	[1ee9524711ab]

2009-12-08  Eero Tamminen

	* src/gemdos.c:
	Fdatime fix: unix month starts from 0, need to subtract 1 from from
	GEMDOS month
	[5a9f911240aa]

2009-12-07  Nicolas Pomarede

	* src/includes/video.h, src/video.c:
	Add support for STE 224 bytes overscan by switching hi/lo at cycle
	504/4 to remove left border This line doesn't need a stabiliser and
	displays less pixels in the left border than the usual method (fix
	More Or Less Zero and Cernit Trandafir by DHS, as well as Save The
	Earth by Defence Force)
	[c84981869f5c]

2009-12-06  Thomas Huth

	* src/debug/Makefile, src/falcon/Makefile, src/gui-sdl/Makefile, src
	/uae-cpu/Makefile:
	Sub-makefiles dependency generation should depend on the main
	Makefile
	[0b1cfe22631f]

2009-12-05  Thomas Huth

	* src/Makefile, src/cycInt.c, src/dmaSnd.c, src/falcon/crossbar.c,
	src/ikbd.c, src/includes/cycInt.h, src/includes/int.h,
	src/includes/m68000.h, src/int.c, src/m68000.c,
	src/memorySnapShot.c, src/mfp.c, src/reset.c, src/sound.c,
	src/spec512.c, src/uae-cpu/hatari-glue.c, src/uae-cpu/newcpu.c,
	src/video.c:
	Renamed int.c to cycInt.c
	[ad9ae70a9d0c]

	* Makefile-default.cnf:
	Do not print out annoying error messages when an optional library is
	missing
	[1d9f153e0f89]

2009-12-05  Eero Tamminen

	* python-ui/README:
	note on how to run non-installed version of Hatari with python-ui
	[c5cb0154f684]

	* python-ui/TODO:
	update python-ui TODO
	[ee58791f8b29]

	* python-ui/hatari-console.py, python-ui/release-notes.txt:
	support new hatari options in hatari-console
	[11a03b1a8862]

	* src/gui-sdl/dlgHardDisk.c:
	SDL GUI part for --mount-changes option
	[22b9721283fd]

	* src/control.c, src/debug/debugui.c, src/debug/debugui.h:
	restore support for remote/parallel Hatari debugging
	[2c98fcb1e792]

2009-12-04  Eero Tamminen

	* src/gemdos.c:
	File stream should be flushed before setting its modifications time.
	(Change also FileInfo function arg from file name to handle for
	this.)
	[25c544f10bf6]

	* doc/authors.txt, doc/release-notes.txt, doc/todo.txt:
	add notes about IDE & GEMDOS emulation improvements
	[9c8c4dc96472]

2009-12-03  Nicolas Pomarede

	* src/includes/video.h, src/video.c:
	Add support for a 3rd empty line method by switching res hi/lo at
	cycle 464 This is another effect of the switch used in Enchanted
	Lands, but without removing right border (fix Pax Plax Parralax in
	Beyond by Kruz)
	[4218a86c81d1]

2009-12-03  Eero Tamminen

	* src/gemdos.c:
	add GEMDOS file date/time setting, fix time&date word order for
	getting them
	[0d62b7c99357]

2009-11-30  Thomas Huth

	* src/hdc.c:
	Update DMA address after transfering bytes to the memory.
	[dfba429e3328]

	* src/hdc.c, src/includes/hdc.h:
	Added "Test Unit Ready" command. Thanks to Uwe Seimet for the patch.
	[339bab06acf6]

2009-11-29  Eero Tamminen

	* src/gemdos.c:
	refactor+fix GEMDOS date & time getting:
	- GemDOS_GetFileInformation() got both date & time fields wrong,
	however, they're done right for DTA setting, so use that
	functionality
	- date & time are both set at the same time, so join getting them to a
	new function and use DATETIME* as arg instead handling them
	separately
	- rename DATETIME struct fields to something more descriptive
	[3201c6e4d2e6]

	* src/ide.c:
	logging: printf doesn't support variables that are 64-bit both on 32
	& 64-bit host.
	[6d21b81b7538]

	* src/gemdos.c:
	add SIZE_WORD to Params in GemDOS_OpCode() so that all emulated
	functions don't need to do it.
	[049b5b20088e]

	* src/gemdos.c:
	Fold 2 identical & trivial functions to GemDOS_Pexec() calling them
	[c4a74da32799]

	* src/ide.c:
	ide.c logging should identify it's from IDE (and be consistent)
	[a18086790451]

	* src/gemdos.c:
	fix remaining inconsistent logging in gemdos.c
	[b48c321bfc81]

	* src/gemdos.c:
	when tracing gemdos calls, tell all of their names, not just
	emulated ones
	[1030ec6179e1]

	* src/gemdos.c:
	all GEMDOS log & trace messages should identify they're GEMDOS
	messages (and to be consistent, change GemDOS in some messages to
	GEMDOS too)
	[0880411636e9]

	* src/gemdos.c:
	check that DTA addresses are on valid ST-RAM area (Hatari's internal
	memory can get corrupted if it's not)
	[572cbacc6a43]

	* src/gemdos.c:
	improvements to Fread/Fwrite:
	- check that given address range is valid
	- use more correct variable types (size is signed, negative value ->
	0)
	- identify log/trace messages as coming from GEMDOS
	[316002c87c69]

	* src/includes/ioMem.h, src/includes/stMemory.h:
	use function documentation comment format for static inlines in
	includes
	[8cc463301644]

	* src/includes/stMemory.h:
	add function to check that address range is on valid ST memory area
	[f16daded3d12]

2009-11-29  Thomas Huth

	* src/hdc.c, src/includes/hdc.h:
	Reworked ACSI emulation so that it also works with HDDriver.
	HDCCommand.byteCount must only be increased when accesssing a valid
	target.
	[415dfe04f359]

2009-11-28  Thomas Huth

	* src/ide.c:
	Fix for detection of ejected IDE slave. This patch ensures that an
	ejected IDE slave is not present anymore after Hatari was reset.
	Before, even after the slave was ejected it was still found as long
	as a master was present. Thanks to Uwe Seimet for the patch.
	[be4b554e8d0c]

2009-11-28  Eero Tamminen

	* tests/Makefile, tests/test-breakcond.c:
	use real register parsing functions instead of fake ones in test
	code (to catch issues in register name->address mapping I just had
	to fix)
	[ed903bc85603]

	* src/gemdos.c:
	Fix GEMDOS Fcreate(), read-only flag has effect only after file is
	closed! When tracing GEMDOS, log the created and opened file FD and
	mode.
	[3b90c5617b6d]

	* src/debug/evaluate.c:
	improve debugger value parsing error messages
	[9d68bab35286]

	* src/debug/debugcpu.c, src/debug/debugdsp.c, src/falcon/dsp.c,
	src/falcon/dsp.h:
	allow white space in DSP & CPU register set command, unify error
	messages
	[9429bbf0f00c]

	* src/falcon/dsp.c:
	fix debugger DSP register name parsing
	[ecaaf781a86f]

2009-11-25  Thomas Huth

	* src/change.c, src/configuration.c, src/floppy.c, src/gui-
	sdl/dlgHardDisk.c, src/ide.c, src/includes/configuration.h,
	src/options.c, src/tos.c:
	Support for IDE slave drive. Thanks to Uwe Seimet for the patch!
	[9d4856b3f8f8]

2009-11-22  Eero Tamminen

	* src/gemdos.c:
	GEMDOS Fseek() fixes:
	- use Sint32 offset instead of long one, otherwise wrong value on
	64-bit
	- offset is negative for mode 2 (from-end-of-file), so *add* it
	[1fdc5061f139]

2009-11-22  Laurent Sallafranque

	* src/falcon/crossbar.c:
	fix: change in generate_sound, cast from (double) to (int) correctly
	computed. Thanks to Nicolas for the hint.
	[44dddd5cdff0]

	* src/falcon/dsp_core.c, src/falcon/dsp_cpu.c:
	optim: Remove host_process after every DSP instruction. Transfer
	host datas only when needed. Big thanks to Thomas for the hint.
	[f68dbfc202f8]

2009-11-22  Eero Tamminen

	* doc/compatibility.html:
	Moai+Doomino work, HDDriver works with TOS4, better sound support
	for ACE apps & GEMPlay (First thanks to Thomas' 030 setting, latter
	to Laurent's DSP improvements)
	[5bd9a528fc25]

	* src/floppy.c:
	give note to user when floppy contents are discarded.
	[c7a0bf177c02]

2009-11-21  Laurent Sallafranque

	* src/falcon/dsp.c:
	optim : dsp_run optimisation
	[5a256b490cf5]

2009-11-21  Thomas Huth

	* src/gui-sdl/dlgSystem.c:
	Changed "68020 + FPU" to "68EC030 + FPU".
	[ec373a648cfa]

	* src/uae-cpu/newcpu.c:
	Fake 68030 by supporting the right mask in the CACR register. TOS
	uses this register to detect the 68030 for setting up the _CPU
	cookie. By supporting a right mask for this register, TOS now
	detects a 68030 instead of 68020 CPU.
	[1312264d9285]

2009-11-19  Eero Tamminen

	* doc/compatibility.html:
	Music works in many games & demos after Laurent's DSP<->DMA fixes.
	Changed some Falcon issues from minor to major.
	[0728b56a62be]

2009-11-18  Laurent Sallafranque

	* src/falcon/crossbar.c, src/falcon/dsp.c, src/falcon/dsp.h,
	src/falcon/dsp_core.c, src/falcon/dsp_core.h, src/falcon/dsp_cpu.c:
	optimizations + code cleaning.
	[a46201ee51b1]

2009-11-17  Eero Tamminen

	* doc/compatibility.html:
	Illusion was working already in 1.2
	[869cd3d546bf]

	* src/gemdos.c:
	fix stupid mistakes from previous commit
	[06de2e824554]

	* src/gemdos.c:
	Fix/improve Fcreate()/Fopen() attribute and error handling:
	- instead of creating Fcreate() files with fopen() write-only flag,
	use that just to truncate and then re-open them (correctly) using
	read-only flag. Also chmod() the file to be read-only
	- check and report access errors as such to TOS, both in Fcreate() &
	Fopen()
	- in Fcreate() check path miss from errno too and add path miss
	check & reporting also to Fopen()
	- log access errors to user (so that one can correct them outside
	Hatari)
	- force Fopen() to read-only when "--mount-changes no" is used
	(otherwise programs opening read-only files as RW fails although
	program wouldn't be writing to them)
	[8ade08d9021c]

2009-11-16  Eero Tamminen

	* doc/compatibility.html:
	add to compat list: zero-5 STE gamedemo, KillingImpact Falcon game,
	2 NoCrew Falcon demos
	[be1fee1130f3]

	* doc/hatari.1, doc/manual.html, doc/release-notes.txt, src/options.c:
	Change --do-changes to more descriptive --mount-changes option name
	[48ce1ddaed60]

2009-11-16  Laurent Sallafranque

	* src/falcon/crossbar.c, src/falcon/crossbar.h, src/falcon/dsp.c,
	src/falcon/dsp.h, src/falcon/dsp_core.c, src/falcon/dsp_core.h:
	fix: DspPlay -> DMA Record in handshake mode is working. (Look at 4k
	aggressive party 2 demo from Nocrew)
	[73dd485d5536]

2009-11-15  Eero Tamminen

	* doc/hatari.1, doc/manual.html, src/options.c:
	document AVI recording options + move them after VDI ones (it's more
	logical for VDI ones to be after Display options)
	[d8e8660bbebc]

	* src/gemdos.c:
	Reduce gemdos.c indenting in rest of the functions by using "early
	returns" like in the other refactored functions + add some comments.
	(Change is best viewed with "diff -ub", not with Mercurial.)
	[1bb28a355d2f]

	* src/gemdos.c:
	gemdos: Add Fcreate() Handle result to trace and improve logging
	[8fe209bda5ea]

	* src/gemdos.c:
	fix redundant console noise from GemDOS_CreateHardDriveFileName()
	(make it understand ".\" and "\.." like code using this function)
	[c90ff3b74885]

	* src/gemdos.c:
	gemdos.c cleanup: use Uint8 & Uint16 instead of unsigned char &
	unsigned short int as elsewhere in code
	[b385f55e5d07]

	* src/gemdos.c:
	simplify GemDOS_IsInvalidFileHandle() code
	[1cab3d17671f]

	* doc/release-notes.txt:
	add GEMDOS emu changes + WIN_FORMAT support to release-notes
	[033f312cf377]

	* doc/hatari.1, doc/manual.html, src/configuration.c, src/gemdos.c,
	src/includes/configuration.h, src/options.c:
	add option for whether Hatari can change GEMDOS HDD dir contents,
	log prevented modification attempts
	[0eb2ae84c030]

2009-11-15  Thomas Huth

	* doc/todo.txt:
	New TODO item: IDE slave
	[10822cff3747]

2009-11-15  Eero Tamminen

	* doc/manual.html:
	update HD Driver comment in manual too
	[33564e550205]

	* src/ide.c:
	IDE WIN_FORMAT command support from Uwe Seimet to get formatting
	work with HD Driver
	[18636b909666]

	* doc/compatibility.html:
	fix class + update hddriver comment
	[0b784f5586eb]

	* doc/emutos.txt:
	add Cecile
	[b653070efad9]

	* doc/compatibility.html:
	update TT/Falcon utilities compat list
	[186a208ebb1b]

2009-11-14  Eero Tamminen

	* doc/manual.html:
	HD Driver doesn't work with TOS v4
	[35cbf6afbb9f]

	* doc/manual.html:
	document how to access both IDE & GEMDOS partitions with HD Driver
	[d4bbda3ce96d]

	* python-ui/FILES, python-ui/Makefile:
	python-ui: update FILES list / fix installation
	[a2c4217b1ac2]

2009-11-14  Laurent Sallafranque

	* src/falcon/crossbar.c, src/falcon/crossbar.h, src/falcon/dsp_core.c,
	src/includes/int.h, src/int.c:
	crossbar refactoring : code is now closer to reality and easier to
	read. Aggressive Party 2 4Ko demo is giving some results now. (Dsp
	-> DMA record in handshake mode) Still many things to do
	[52753ac78dfd]

2009-11-08  Eero Tamminen

	* doc/compatibility.html, doc/hatari.1, doc/manual.html, doc/memory-
	usage.txt, src/includes/vdi.h, src/options.c:
	Increase max VDI rez to TT-hi (1280x960) + related doc updates
	[34c75b4caa48]

2009-11-08  Laurent Sallafranque

	* src/falcon/crossbar.c, src/falcon/crossbar.h, src/falcon/dsp.c,
	src/falcon/dsp_core.c, src/ioMemTabFalcon.c, src/mfp.c:
	add: Dma Record. First attempt to include DSP out --> Dma record
	mode in handshake mode. I Still have to do:
	 - customize handshake mode for both DSP -> DMA and DMA -> DSP
	 - finish to map the codecs attenuation and amplifications
	 - change generate_sound algo to interpolate sound better
	[b1b5fc038906]

2009-11-08  Thomas Huth

	* CMakeLists.txt, src/CMakeLists.txt:
	Added PNG and ZLIB tests to cmake configuration files.
	[d8ab3a669a94]

	* src/uae-cpu/CMakeLists.txt:
	Little fix for cmake out of source builds.
	[d8a5057e71c8]

2009-11-06  Nicolas Pomarede

	* src/video.c:
	Harmless correction for DisplayEndCycle when right border is
	removed.
	[0c8990796a1b]

2009-11-05  Thomas Huth

	* CMakeLists.txt, src/CMakeLists.txt, src/debug/CMakeLists.txt,
	src/falcon/CMakeLists.txt, src/gui-sdl/CMakeLists.txt, src/uae-
	cpu/CMakeLists.txt:
	Something to play with: Added experimental cmake configuration
	files. Hatari recently got a modern version control system
	(Mercurial instead of CVS). Maybe it's also time now to get rid of
	the old and error prone Makefiles and "autopain" configure script
	and switch to a more modern build system. So here are some
	experimental CMake files for evaluation.
	[6ca3b85c415b]

2009-11-03  Laurent Sallafranque

	* src/falcon/crossbar.c:
	add: connexions between devices, DMA_Play -> DSP_Record handshaking
	mode (Wait is running, sound still have problems for now).
	[20458c3d05bf]

	* src/falcon/crossbar.c, src/falcon/crossbar.h:
	crossbar rewritten : added structures, opimized cycles computing,
	simplified code
	[fb621eb6bb7b]

2009-11-01  Nicolas Pomarede

	* doc/compatibility.html, src/video.c:
	Correctly align pixels when left border is removed. The switch to
	high resolution to remove left border will make the display starts 4
	pixels earlier ; when emulating, the whole line should be shifted 4
	pixels to the left to keep pixels aligned with a normal line.
	- fixes fullscreen spectrum512 images in the Overscan Demos by Paulo
	Simoes
	- fixes mixed normal/overscan screen where gfx in the overscan part
	were not correctly aligned with the rest of the screen (ULM hidden
	screen in Ooh Crikey Wot a Scorcher, FullBall by Next in the
	Phaleon Demo)
	[a830cfdf159f]

2009-10-30  Laurent Sallafranque

	* src/falcon/crossbar.c, src/falcon/crossbar.h, src/falcon/dsp.c,
	src/falcon/dsp.h, src/falcon/dsp_core.c, src/falcon/dsp_core.h,
	src/falcon/dsp_cpu.c, src/int.c:
	add: first try to implement DMA Play <-> DSP-IN handshaking mode
	[f827bb5ec694]

2009-10-26  Eero Tamminen

	* src/hdc.c, src/includes/hdc.h:
	couple of functions and variable were needlessly exported in hdc.c
	[e1c9f8c406c0]

2009-10-26  Laurent Sallafranque

	* src/falcon/crossbar.c:
	fix : correct 16 bit sound in DMA mode. I've removed the temporary
	hack from yesterday. Pinball Dreams and Ishar 3 are now playing
	correct 16 bit DMA sound
	[cf9b89cf3a85]

	* src/falcon/crossbar.c:
	add+fix : reintegrated direct DMA buffer rendering if DMA play is
	connected to the DAC. (No need in this case to play the samples one
	by one). Sound is not very nice, but all DMA_play musics are
	rendering correctly (in 8 and 16 bits).
	[9e29561f018d]

2009-10-25  Eero Tamminen

	* doc/compatibility.html:
	add DHS altParty STE demo and two new STE games to compatibility
	list
	[2632d3ea4085]

2009-10-24  Thomas Huth

	* src/avi_record.c:
	Fixed compiler warning about missing check for return type.
	[aa9052b412c3]

	* src/includes/main.h, src/includes/stMemory.h, src/m68000.c,
	src/main.c, src/memorySnapShot.c, src/stMemory.c:
	Reworked loading and saving of ST RAM in the memory snapshots.
	[ba671e341f6c]

	* src/includes/m68000.h, src/m68000.c, src/main.c:
	Init instruction pairing only once, not every time during a reset.
	[cd59599e602b]

	* src/m68000.c:
	Clear all registers during cold reset.
	[d46182f40a3d]

2009-10-24  Eero Tamminen

	* src/debug/debugui.c, src/debug/evaluate.c, src/debug/evaluate.h,
	tests/test-evaluate.c:
	Parse Uint32 instead of long long to get rid of C99 LLONG_* defines,
	show also signed value in DebubUI when highest bit is set.
	[fca981bbcf23]

	* src/scandir.c:
	fix BeOS/Sun scandir() implementation dir & alloc leaks on errors
	[a01ea2fc82bb]

2009-10-22  Eero Tamminen

	* tests/test-breakcond.c:
	remove obsolete comments, return error code on program failure
	[770c04f19333]

	* tests/Makefile, tests/test-evaluate.c:
	add test code for expression evaluation
	[c4428ffb20fa]

	* src/debug/evaluate.c:
	more correct error message on erronous unary operation.
	[c8ad66b5c5af]

2009-10-21  Eero Tamminen

	* doc/compatibility.html:
	add TOYS wait demo and notes about NoCrew MP2-player use in demos.
	[4fbcfe9fa0d6]

	* src/debug/evaluate.c:
	fix: include stdio.h
	[b5eaec51a1b0]

2009-10-21  Laurent Sallafranque

	* src/falcon/crossbar.c:
	fix: reduced DAC buffer size to MIXBUFFERSIZE value.
	[08714537482e]

2009-10-18  Laurent Sallafranque

	* src/falcon/crossbar.c:
	add: separated left and right channel in the DAC device. Added
	correct destination tests for each device of the crossbar (except
	DMA for now). To fix : frequencies are still not always correct, DAC
	buffer size is too big and generates a delay.
	[b43a271fe1de]

2009-10-18  Eero Tamminen

	* src/screenSnapShot.c:
	fix compile warning: remove unused bGrabWhenChange
	[7c26b9a20cc0]

	* src/avi_record.c, src/includes/avi_record.h, src/main.c,
	src/sound.c, src/statusbar.c, src/video.c:
	consistent recording bool names: AviRecording -> bRecordingAvi
	[2e67ce9082ce]

2009-10-18  Nicolas Pomarede

	* src/includes/screenSnapShot.h, src/screenSnapShot.c, src/video.c:
	Screenshots animation recording is replaced by AVI recording, remove
	old code
	[41eb5a61af19]

	* src/statusbar.c:
	Update status bar when AVI recording is ON
	[961d2772abcf]

2009-10-17  Nicolas Pomarede

	* src/gui-osx/SDLMain.m:
	Use AVI recording instead of screenshots animation
	[6dea328884e5]

	* src/shortcut.c:
	Associate 'record anim' key (alt+a) to avi recording instead of
	screenshots recording
	[74c9d173c3f0]

	* src/avi_record.c, src/includes/pixel_convert.h,
	src/screenSnapShot.c:
	Group in a single file the functions used to convert pixels from
	8/16/32 to 24 bits
	[464fcf2b17dc]

2009-10-15  Nicolas Pomarede

	* src/avi_record.c, src/gui-sdl/dlgScreen.c,
	src/includes/avi_record.h, src/main.c, src/sound.c, src/video.c:
	Use Avi_ instead of Avi for all functions in avi_record.c
	[7c7a5a6b3c61]

2009-10-14  Eero Tamminen

	* doc/manual.html, src/main.c:
	Allow --run-vbls to be used also without --fast-forward mode.
	[000e5e041d4a]

2009-10-12  Laurent Sallafranque

	* src/falcon/crossbar.c:
	Fix: don't reload the dsp xmit handler is DSP becomes tri-stated
	Add: 32 Mhz frequencies
	[26e992496b4b]

2009-10-11  Eero Tamminen

	* src/avi_record.c:
	AVI: functions declared static should be static, return error on
	unsupported codecs.
	[528ebd601339]

	* src/main.c:
	show note about AVI also on Hatari exit
	[0161ff0e83a6]

	* src/gui-sdl/dlgScreen.c:
	AVI indexing can take while, show note in statusbar about what's
	going on.
	[a9bae891eddd]

	* src/debug/calculate.c, src/debug/calculate.h:
	Aarg. Commit removed files too...
	[f6f8a5c4017e]

	* src/debug/Makefile:
	update also Makefile
	[e2e53cb27d55]

	* src/debug/breakcond.c, src/debug/debugcpu.c, src/debug/debugdsp.c,
	src/debug/debugui.c, src/debug/evaluate.c, src/debug/evaluate.h:
	rename calculate.* to (now) more appropriate evaluate.*.
	[535fc59eea0c]

	* src/debug/breakcond.c, src/debug/calculate.c, src/debug/calculate.h,
	src/debug/debug_priv.h, src/debug/debugcpu.c, src/debug/debugdsp.c,
	src/debug/debugui.c:
	evaluate command uses same number base & parsing as rest of debug
	commands:
	- Moved number and range parsing functions to calculate.c so that it
	it can split to functionality used by expression evaluation and a
	wrapper for rest of the debug commands (which parse NULL terminated
	arguments).
	- Added support for parsing 0x/0b/0d/0o prefixes and improved number
	parsing error messages.
	- Those functions prefix is now Eval_*.
	- Removed calculate.c own number parsing functionality and
	simplified it otherwise a bit.
	[6fb7ce170fa0]

2009-10-10  Nicolas Pomarede

	* src/avi_record.c, src/gui-sdl/dlgScreen.c,
	src/includes/avi_record.h:
	Fix avi record/stop button in sdl gui
	[4d34780721f1]

	* src/avi_record.c:
	Thomas committed before me :) Merge my changes for libpng
	[731942c00582]

2009-10-10  Thomas Huth

	* src/avi_record.c:
	Check for availability of libpng, so that Hatari now compiles w/o
	libpng again.
	[8452d61aa756]

	* Hatari.xcodeproj/project.pbxproj:
	Updated Xcode project so that Hatari can be compiled again.
	[7f41257ebc84]

2009-10-10  Eero Tamminen

	* Makefile-default.cnf, src/Makefile, src/debug/Makefile,
	src/falcon/Makefile, src/gui-sdl/Makefile:
	improve CFLAGS & LIBS handling in Makefiles:
	- current Makefile-default.cnf was forcing X11, PNG & portaudio to
	be linked to hmsa, fixed that
	- use X11, PNG & portaudio CFLAGS only when needed
	- move CFLAGS place in falcon & debug Makefiles later as they were
	adding values that were changed later in Makefile (it worked
	because '=' assignment is deferred one, but it would have broken
	if one would have used ':=' immediate assignment for CFLAGS)
	[f3588d680201]

2009-10-10  Laurent Sallafranque

	* src/falcon/crossbar.c:
	add: added the monitored track in the DAC. bobTracker delivers sound
	now. fix: correct computing of the DSP Xmit and receive frame

	Still strange : (bobTracker and willi's adventure) are playing 2
	times slower than normal, but "graoumf tracker is no so damn slow"
	plays at correct speed). They all seem to have the same parameters.
	[dbbaa5c550e8]

2009-10-09  Nicolas Pomarede

	* src/screenSnapShot.c:
	Restore erroneously removed surface's locking
	[3c04a252d946]

	* doc/release-notes.txt, doc/todo.txt:
	Update todo/release-notes with AVI recording
	[dee90d30dc64]

	* src/options.c:
	Change syntax for avi related options on the command line
	[56bfcb1719a1]

	* src/avi_record.c, src/screenSnapShot.c:
	Fix some compiler warnings with type casting.
	[d2d47c1a7534]

2009-10-08  Nicolas Pomarede

	* src/avi_record.c:
	Add missing include for SDL_SwapLE16 (for old SDL versions)
	[f043794931e6]

2009-10-08  Eero Tamminen

	* src/Makefile, src/crossbar.c, src/falcon/Makefile,
	src/falcon/crossbar.c, src/falcon/crossbar.h,
	src/falcon/microphone.c, src/falcon/microphone.h,
	src/includes/crossbar.h, src/includes/microphone.h,
	src/microphone.c:
	move crossbar.* and microphone.* under falcon/ as they're Falcon
	specific
	[cb6b6e5d97a0]

2009-10-07  Laurent Sallafranque

	* src/crossbar.c:
	fix : new crossbar frequencies calculations. Big thanks to Thomas
	for his help. Sound is now perfect with some programs, but still
	wrong with some others. Still some work to do.
	[dcc0ebb28344]

2009-10-07  Nicolas Pomarede

	* src/gui-sdl/dlgScreen.c, src/includes/options.h, src/main.c,
	src/options.c, src/sound.c, src/video.c:
	Plug avi recording into Hatari. Command line and GUI are now usable
	to record avi.
	[8d951eb1b448]

	* src/Makefile, src/avi_record.c, src/includes/avi_record.h:
	Add avi recording capabilities Support BMP or PNG compression for
	the video stream and 16 bits stereo PCM for the audio stream.
	[e433fdf1ea20]

	* src/includes/screenSnapShot.h, src/screenSnapShot.c:
	Split ScreenSnapShot_SavePNG(), to reuse the png image compression
	in avi_record.c Also add some parameters to choose compression level
	and cropping.
	[4cc2e4917740]

2009-10-07  Eero Tamminen

	* src/debug/calculate.c, src/debug/calculate.h, src/debug/debugui.c:
	more calculator simplification / cleanup:
	- use long longs instead of doubles -> allowed removing bitwise op
	functions
	- removal of power operation (^) allowed adding XOR bitwise operation
	(^)
	- return is not a function, remove parenthesis
	[09300aec3ffa]

	* src/debug/debugui.c:
	no eval arguments should give help, not crash. update eval help.
	[30eb0d0005eb]

	* src/debug/calculate.c:
	simplify/clean calculator:
	- remove modulo & power operations
	- remove octal and ascii support
	- change int/TRUE/FALSE to bool/true/false
	- change < & > to more familiar << & >>
	[f553a6284af8]

2009-10-07  Laurent Sallafranque

	* src/crossbar.c:
	crossbar fix : some changes shouldn't have been uploaded. I've
	return to the previous code.
	[52e7e21dc4eb]

	* src/crossbar.c, src/falcon/dsp_core.c, src/falcon/dsp_core.h,
	src/falcon/dsp_cpu.c:
	fix : correct bug in DSP interrupts. Rewrote of this part of code.
	And interrupt at a certain level can't interrupt the DSP is the SR
	mask is at the same level. This corrects AFM and Are you sitting
	comfortably demo.
	[0ea1ced6a427]

2009-10-06  Eero Tamminen

	* src/debug/Makefile, src/falcon/Makefile, src/gui-sdl/Makefile:
	clean also created *.a files
	[bd1235dfa19c]

	* readme.txt:
	note in readme that Hatari is also STE/TT/Falcon emu
	[bb3e08d8c9d1]

2009-10-02  Laurent Sallafranque

	* src/microphone.c:
	fixed a stupid include mistake :)
	[e82bf51861dd]

2009-10-01  Laurent Sallafranque

	* src/crossbar.c, src/falcon/dsp.c, src/falcon/dsp.h,
	src/falcon/dsp_core.c, src/falcon/dsp_core.h:
	add: separate DSP Xmit and DSP Receive (SSI mode). Add SCK transmit
	and receive. Add frame for Tx and RX relative to the number of
	tracks played or recorded in the crossbar.
	[0de41927746a]

	* src/crossbar.c, src/includes/microphone.h, src/microphone.c:
	code cleaning
	[854cd6be3fee]

2009-09-30  Laurent Sallafranque

	* src/crossbar.c, src/includes/microphone.h, src/includes/portaudio.h,
	src/microphone.c:
	fix : remove portaudio.h from hatari. check HAVE_PORTAUDIO in the
	microphone.c and its header file + in crossbar.c
	[8141d4cc8e34]

2009-09-30  Eero Tamminen

	* Makefile-default.cnf:
	improve make config settings comments
	[e36af331096d]

	* doc/emutos.txt:
	trivial update to emutos compat list
	[700a133e0c0e]

2009-09-30  Laurent Sallafranque

	* src/includes/microphone.h, src/includes/portaudio.h,
	src/microphone.c:
	fix : added microphone files, sorry :)
	[a636661d7e2a]

	* Makefile-default.cnf, src/Makefile, src/crossbar.c,
	src/falcon/dsp_core.c, src/includes/crossbar.h, src/includes/int.h,
	src/int.c:
	add : included portaudio library to emulate the falcon Jack input.
	Many problems to solve in crossbar.
	[2e0358b30785]

2009-09-28  Thomas Huth

	* src/gui-sdl/dlgSound.c:
	Fixed 50 kHz sound radio button.
	[6da8f6ac92b1]

2009-09-28  Eero Tamminen

	* readme.txt:
	mention optional libraries in the readme
	[18061864ade5]

2009-09-26  Laurent Sallafranque

	* src/crossbar.c, src/includes/sound.h, src/reset.c:
	fix : added crossbar in reset.c
	[bdfcba8d4dd3]

	* src/crossbar.c:
	applied Eero's patch : DAC out sound buffer size declared in a
	define
	[33559e39c942]

	* src/crossbar.c:
	increased DAC out buffer size : DSP sound is perfect now
	[84d088d4121f]

2009-09-25  Laurent Sallafranque

	* src/crossbar.c, src/includes/sound.h:
	put back MIXBUFFER_SIZE 8192 in sound.h resize up the DAC out
	buffer. Now, DSP sound is nearly perfect (there's still an artefact
	I'd like to correct) DSP out frequency is now correct. (Test with
	Willi's adventure for example)
	[324b9837caca]

2009-09-24  Eero Tamminen

	* doc/compatibility.html:
	Willie has music with DSP
	[c0b416549855]

	* src/screenSnapShot.c:
	fix surface locking
	[b64ca1e4a908]

2009-09-23  Laurent Sallafranque

	* src/crossbar.c, src/includes/crossbar.h, src/includes/int.h,
	src/includes/sound.h, src/int.c:
	fixed 16 bit stereo mode and 8 bits mono mode. Renames carefully DMA
	functions into DMA sound. Code beautification and comments added
	[2d6a05bb0ef7]

2009-09-22  Laurent Sallafranque

	* src/crossbar.c, src/includes/sound.h:
	DMA sound is nearly perfect now (no more freezing) and quality is
	much better than before.
	[985dc15cb2e5]

2009-09-23  Eero Tamminen

	* src/debug/calculate.c:
	fix indenting in calculate.c
	[b6dd9e2869a5]

2009-09-22  Eero Tamminen

	* doc/manual.html, src/debug/calculate.c, src/debug/debugui.c:
	fix evaluate command parenthesis handling + document it. Don't
	repeat shown value.
	[61556cc8e1ac]

	* src/debug/calculate.h:
	add header
	[86e101dda8ac]

2009-09-22  Laurent Sallafranque

	* src/crossbar.c, src/includes/crossbar.h, src/ioMemTabFalcon.c:
	Dma sound work again (but freezes randomly for now) Dma sound is
	really much better quality than before (listen to Eko system demo
	for example) Everything is not yet coded. Still a lot of work to do
	:)

	removed DmaSnd from iomemtabfalcon definively
	[fadb6c35e332]

2009-09-22  Eero Tamminen

	* doc/release-notes.txt, doc/todo.txt, src/debug/Makefile,
	src/debug/calculate.c, src/debug/debugui.c:
	add first version of "evaluate" calculation command to debugger
	(parenthesis handling doesn't work yet).
	[edc5be98f4a5]

2009-09-21  Laurent Sallafranque

	* src/crossbar.c, src/falcon/dsp.c, src/falcon/dsp.h,
	src/falcon/dsp_core.c, src/falcon/dsp_core.h,
	src/includes/crossbar.h, src/includes/int.h, src/int.c:
	- Prepared SC0, SC1, SC2 (set and get) for DSP SSI
	- Rewrite of DSP sound interrupt (sound is much better now, listen to
	willi's adventure for example)
	- prepared DMA sound (still not working for now)
	[532ea8e569df]

2009-09-20  Eero Tamminen

	* src/debug/breakcond.c, src/debug/debug_priv.h, src/debug/debugcpu.c,
	src/debug/debugdsp.c, src/debug/debugui.c, src/includes/str.h,
	src/str.c:
	move Number and Range parsing back to DebugUI from str.c (as DebugUI
	got refactored and these are only used by debug code)
	[7b0a0c8b3565]

	* python-ui/Changelog, python-ui/release-notes.txt:
	rename changelog to (user visible) release-notes.txt as suggest by
	Thomas
	[420608d20b01]

	* python-ui/Changelog, python-ui/TODO, python-ui/debugui.py, python-
	ui/dialogs.py, python-ui/hatari.py, python-ui/uihelpers.py:
	Support for setting CPU level & clock and Falcon DSP type:
	- table dialog helper supports multiple columns
	- table helper for radio button group items
	- use above in machine config dialog
	- add CPU level & clock and Falcon DSP support to machine config
	dialog and configuration handler
	[527f82ec2c12]

2009-09-20  Thomas Huth

	* src/crossbar.c, src/dmaSnd.c, src/includes/main.h:
	Introduced CPU_FREQ define.
	[0a9811e224a5]

2009-09-20  Eero Tamminen

	* python-ui/Changelog, python-ui/README, python-ui/TODO:
	update python-ui docs to latest state
	[d618edea3f6b]

	* doc/todo.txt:
	add rs323, update directory todo
	[7d5bd8df4703]

	* src/falcon/dsp_core.c, src/falcon/dsp_core.h:
	fix compiler warnings
	[071d8b90a864]

	* src/crossbar.c, src/includes/crossbar.h:
	fix again compiler warnings
	[ec5a1ad2cd7d]

2009-09-19  Laurent Sallafranque

	* src/sound.c:
	fix: change arnaud carre by arnaud carré
	[123f2f3736b9]

	* src/dmaSnd.c:
	fix: use the correct 68000 frequency for Dma sound frequency.
	[e4c6b52e35c1]

	* src/crossbar.c, src/dmaSnd.c, src/includes/crossbar.h,
	src/includes/dmaSnd.h, src/ioMemTabFalcon.c, src/mfp.c, src/sound.c:
	added the crossbar to the falcon. finished to separate Ste/TT Dma
	sound and crossbar sound Added comments to crossbar code
	[a986d6a12211]

2009-09-19  Thomas Huth

	* src/m68000.c, src/mfp.c, src/uae-cpu/fpp.c, src/uae-cpu/gencpu.c,
	src/uae-cpu/newcpu.c, src/uae-cpu/newcpu.h, src/video.c:
	Shortened the M68000_EXCEPTION_SRC_... defines a little bit for
	better readability.
	[29bd51d3d671]

	* src/falcon/dsp.c, src/falcon/dsp.h, src/falcon/dsp_core.c,
	src/falcon/dsp_core.h, src/m68000.c, src/mfp.c, src/uae-
	cpu/newcpu.c, src/uae-cpu/newcpu.h:
	Added HREQ DSP interrupt (needed for Graoumpf Tracker).
	[260eda49da65]

	* src/includes/m68000.h, src/mfp.c:
	Removed the old FIND_IPL macro.
	[be6f90f8c666]

2009-09-19  Laurent Sallafranque

	* src/dmaSnd.c, src/ioMemTabSTE.c, src/ioMemTabTT.c:
	little fixes.
	[5194b5938839]

2009-09-17  Eero Tamminen

	* src/includes/crossbar.h:
	remove inappropriate static function declarations from header
	[e33a17c47759]

2009-09-16  Laurent Sallafranque

	* src/crossbar.c, src/debug/log.c, src/debug/log.h:
	add : crossbar logs
	[fcdefddec4c2]

	* src/crossbar.c, src/dmaSnd.c, src/includes/dmaSnd.h:
	rename DmaSnd_GetsoundFromDAC() in DmaSnd_ReceiveSoundFromDAC()
	[a4734dbd723a]

	* src/Makefile, src/crossbar.c, src/dmaSnd.c, src/includes/crossbar.h,
	src/includes/dmaSnd.h, src/int.c, src/ioMemTabFalcon.c,
	src/ioMemTabSTE.c, src/ioMemTabTT.c:
	add : crossbar.c for falcon sound matrice management. transfered
	access to dsp from dmaSnd.c to crossbar.c
	[8b4585b74986]

2009-09-15  Eero Tamminen

	* tools/hmsa/Makefile:
	update hmsa include paths after debug code splitup
	[287b9da8dc91]

2009-09-15  Laurent Sallafranque

	* src/falcon/dsp.c, src/falcon/dsp.h, src/falcon/dsp_core.h:
	add Dsp_get_HREQ to get the state of HREQ bit for mfp/combel
	interrupts
	[195d02b5f536]

2009-09-15  Eero Tamminen

	* doc/release-notes.txt, doc/todo.txt, src/debug/debugui.c,
	src/debug/log.c, src/debug/log.h, src/includes/options.h,
	src/options.c:
	add argument completion support to debugger h, o, t, f, l, s
	commands
	[d6d6432d1b23]

	* doc/manual.html, src/debug/debugui.c:
	add separate "trace" debugger command + improve manual debugger
	section
	[c2bd9568ffd7]

	* tests/test-breakcond.c:
	really fix for debugui split
	[0326938b4dd0]

	* src/debug/Makefile, src/debug/breakcond.c, src/debug/debug_priv.h,
	src/debug/debugcpu.c, src/debug/debugcpu.h, src/debug/debugdsp.c,
	src/debug/debugdsp.h, src/debug/debugui.c, src/debug/debugui.h,
	src/falcon/dsp.c, src/uae-cpu/newcpu.c, tests/test-breakcond.c:
	split DSP and CPU debugging code to separate files from debugui.c.
	[05c907fa0b58]

2009-09-14  Eero Tamminen

	* src/debug/breakcond.c, src/debug/breakcond.h, tests/Makefile, tests
	/test-breakcond.c:
	move breakcond.c test code to new tests/ directory at top level
	- export some of the static parsing functions for the test code
	[961aa7d45504]

	* src/uae-cpu/Makefile, src/uae-cpu/hatari-glue.c, src/uae-cpu/hatari-
	glue.h, src/uae-cpu/memory.c, src/uae-cpu/newcpu.c:
	Use Hatari includes in uae-cpu/* without paths like in all other
	files
	[a8315a5c6b23]

2009-09-13  Laurent Sallafranque

	* src/falcon/dsp_core.c:
	very little optim in HREQ computing
	[9cdd9fb11f46]

2009-09-13  Eero Tamminen

	* src/Makefile, src/breakcond.c, src/debug/Makefile,
	src/debug/breakcond.c, src/debug/breakcond.h, src/debug/debugui.c,
	src/debug/debugui.h, src/debug/log.c, src/debug/log.h,
	src/debugui.c, src/falcon/Makefile, src/includes/breakcond.h,
	src/includes/debugui.h, src/includes/log.h, src/log.c, src/uae-
	cpu/Makefile, src/uae-cpu/newcpu.c:
	move debugui[ch], breakcond.[ch] and log.[ch] to debug/
	-subdirectory
	[f631b702fad3]

2009-09-10  Eero Tamminen

	* doc/release-notes.txt, doc/todo.txt, src/breakcond.c, src/debugui.c,
	src/includes/breakcond.h:
	finish initial version of debugger readline completion
	functionality:
	- ifdef completion out when readline isn't available
	- complete first word as command regardless of whitespace
	- complete breakcond variables after command
	[cb61d96a261b]

2009-09-09  Laurent Sallafranque

	* src/hd6301_cpu.c:
	lot's of bugs corrected + major rewrite of the code + add of ccr bit
	H management
	[c0dd22f00a40]

2009-09-10  Eero Tamminen

	* doc/todo.txt, src/debugui.c:
	add readline completion for debugger commands
	[79f02cbc159d]

2009-09-07  Eero Tamminen

	* src/log.c, src/options.c:
	fix "--trace help":
	- terminate opt parsing at Hatari startup
	- still don't show extra usage in debugger
	[0862918946da]

2009-09-06  Nicolas Pomarede

	* src/uae-cpu/newcpu.c:
	Preserve SPCFLAG_DEBUGGER (for checking breakpoints) after a
	cold/warm reset.
	[db291f43ea1e]

2009-09-05  Laurent Sallafranque

	* src/hd6301_cpu.c, src/hd6301_cpu.h:
	code beautification
	[ad73d91f8d8d]

2009-09-05 : *** Version 1.3.1 ***

2009-09-05  Thomas Huth

	* doc/release-notes.txt:
	Updated release notes for version 1.3.1
	[9fb9dc477e75]

	* Info-Hatari.plist, configure.ac, doc/doxygen/Doxyfile, hatari.spec,
	readme.txt, src/gui-osx/English.lproj/InfoPlist.strings,
	src/includes/main.h:
	Increased version number to 1.3.1
	[0ffa580c704d]

2009-09-03  Thomas Huth

	* src/floppy.c:
	Fixed HD boot drive when drive C: does not exist. TOS 2.06 was
	crashing during the boot process when drive C: did not exist, but
	Hatari wrongly declared this drive as boot drive.
	[7763d64c36aa]

	* src/gemdos.c:
	Fixed drive enumeration of GEMDOS HD emulation. Single partition
	GEMDOS HD emulation did not work anymore when an ACSI HD image was
	also used, due to some problems with the automatic drive letter
	detection.
	[3bfce602e42a]

	* src/stMemory.c:
	Fix ConnectedDriveMask with multiple, non-contiguous GEMDOS
	partitions.
	[ac7bbcfe1801]

2009-08-25  Eero Tamminen

	* python-ui/Makefile:
	Fix to incorrect use of DESTDIR in python-ui installation
	[915340642fd3]

2009-08-17  Eero Tamminen

	* src/debugui.c:
	more compact debugger output (return to emulation msg)
	[240c39b890ef]

	* python-ui/dialogs.py:
	update copyright, fix trace settings names
	[e8ba0d2c79c9]

	* python-ui/debugui.py:
	fix: debugger memdump/disasm show/save/load need now to use '$' for
	hex
	[5a1592749444]

2009-08-17  Thomas Huth

	* doc/compatibility.html, doc/manual.html:
	Improved the CSS of the manual and compatibility list. The "font-
	family:Fixed" did not work at all on Windows. Also cleaned up the
	CSS in general.
	[21687104622b]

	* src/Makefile, src/gui-win/Makefile:
	The hatari icons for the Windows executable must not be put into an
	archive for linking.
	[1d35342eb1bc]

2009-08-16 : *** Version 1.3.0 ***

2009-08-16  Thomas Huth

	* python-ui/dialogs.py:
	Changed the website URL to the new home of Hatari at berlios.de
	[05a83cb7f76a]

	* python-ui/Makefile:
	Fixed installation of the python-ui
	[feb0ae323aff]

	* src/falcon/dsp_core.c:
	Silenced compiler warning about unused variables.
	[f6a3ccc303ea]

	* doc/release-notes.txt:
	Updated release notes for version 1.3.0
	[a07860a61bf8]

	* doc/doxygen/Doxyfile:
	Removed obsolete Doxygen settings.
	[7afaa1d83324]

	* src/screenSnapShot.c:
	Reworked a comment that confused Doxygen.
	[492d9e10a519]

	* Info-Hatari.plist, configure.ac, doc/doxygen/Doxyfile, hatari.spec,
	readme.txt, src/gui-osx/English.lproj/InfoPlist.strings,
	src/includes/main.h, src/memorySnapShot.c:
	Increased version number to 1.3.0
	[0c734b1a5776]

	* .hgignore:
	Added generated Doxygen files to .hgignore file
	[126cb8fe341c]

	* doc/manual.html:
	Added a note about changing the DSP option
	[1ff74562f62c]

	* src/sound.c:
	Don't save sound configuration options in memory snapshots.
	[cf1faf50cd4b]

	* src/dmaSnd.c:
	Scale DMA samples by factor 0.5 instead of 0.707. Since the YM
	samples are now pretty much normalized, we have to adapt the volume
	level of the DMA samples accordingly.
	[650448480c94]

	* src/sound.c:
	Always remove the DC part of the YM samples. Normalizing the level
	of the YM samples makes it easier to mix them with the DMA samples
	later.
	[2ff4776b0954]

2009-08-16  Eero Tamminen

	* doc/compatibility.html:
	rg demo needs 14MB to work reliably
	[5e34df26eba3]

	* doc/manual.html:
	mention DSP continue in addition to CPU continue
	[f385812ca925]

	* src/breakcond.c:
	update breakpoint condition test code to latest changes
	[184b729a4db0]

2009-08-16  Thomas Huth

	* src/debugui.c:
	Silenced compiler warning that happened with GCC 4.3
	[6e5ea9bddbac]

2009-08-16  Eero Tamminen

	* doc/emutos.txt:
	more emutos compatible gem/mono games
	[1f6717b6c6bd]

2009-08-15  Eero Tamminen

	* src/uae-cpu/newcpu.c:
	if exceptions aren't catched in debugger, show user a dialog about
	CPU halting
	[c7f84096ce48]

	* doc/manual.html:
	tell about Hatari variables support in conditional breakpoints
	[cdc24363bf70]

	* doc/release-notes.txt:
	note regs/vars showing on entering debugger
	[bdfa8de0865f]

	* doc/todo.txt:
	add calculator, indentation fix
	[bfde57ccc9be]

	* src/debugui.c:
	make debugger output more concise + add regs/vars info:
	- values command output as one-liner
	- show reg/var one-liner on entering debugger
	- show welcome only on first time
	[90a940da8090]

	* src/breakcond.c, src/debugui.c:
	fix PC and SR access for conditional breakpoints, add size to
	FUNCTION type define
	[d5b1fe5c67e7]

2009-08-15  Thomas Huth

	* src/dmaSnd.c:
	Scale DMA sound samples by factor 0.707 instead of 0.5. This factor
	seems to be closer to a real STE. Thanks to Per Almered for the
	hint!
	[1ea9d6316474]

	* src/configuration.c:
	Renamed LogDebug section back to Log to avoid breaking old config
	files.
	[87b63b6bde51]

2009-08-15  Eero Tamminen

	* doc/hatari.1, doc/manual.html, src/options.c:
	remove toggling of Pause key functionality with -D (it's redundant
	as one can set the Pause & Debug keys in config file)
	[8bbc44eefb33]

2009-08-15  Thomas Huth

	* src/gui-win/Makefile, src/gui-win/opencon.c:
	Fixed compiling on MinGW
	[f808a3b0eb81]

	* src/debugui.c, src/shortcut.c:
	Always return to window mode when entering the debugger. This fixes
	the problem that the emulator freezes in fullscreen mode when it
	enters the debugger due to a breakpoint.
	[279cc4fe485c]

	* doc/todo.txt:
	Added LMC1992 to the TODO list.
	[aa72ccab20d9]

2009-08-14  Thomas Huth

	* src/video.c:
	Fixed palette problem in VDI mode. The code did not call
	Video_StoreFirstLinePalette() anymore - which is called from the HBL
	function, but since the HBLs have been disabled in VDI mode, this
	does not happen anymore. So HBLPalettes did not get initialized
	correctly in monochrome and TT/Falcon mode, and
	Screen_CreatePalette() then set the wrong colors.
	[0522887d10fc]

2009-08-13  Thomas Huth

	* website/scrshots1.html, website/scrshots4.html,
	website/scrshots5.html:
	Updated website with Eero's latest screenshots (mainly STE).
	[42b221c535d5]

2009-08-11  Eero Tamminen

	* doc/compatibility.html:
	update badmood & pmheretic/pmdoom notes
	[bc223a10adad]

2009-08-11  Nicolas Pomarede

	* src/video.c:
	No need to handle $ff820a in VDI mode
	[9df6f34751a8]

2009-08-10  Eero Tamminen

	* doc/emutos.txt:
	add rebirth
	[4ecf57e23895]

	* doc/memory-usage.txt:
	fix typos
	[5a84fb52fc77]

	* doc/compatibility.html:
	minor updates to 3 falcon program compatibility
	[a48834359d9a]

	* doc/todo.txt:
	indent all subitems the same way + wrap to 80 columns
	[279e75ce47f6]

2009-08-10  Laurent Sallafranque

	* src/falcon/dsp_cpu.c:
	FIX : some parts of SS stack (SSH+SSL). SSH moves are now
	increasing/decreasing correctly the stack. I've also masked to 16
	bits the SSH/SSL values.
	[766b69f99367]

2009-08-10  Nicolas Pomarede

	* src/includes/video.h, src/mfp.c, src/video.c:
	Use Video_AddInterruptTimerB when Timer B positions is changed in
	MFP_ActiveEdge_WriteByte.
	[e53ed3601bf5]

2009-08-09  Eero Tamminen

	* doc/todo.txt:
	add debugger TODOs, collect screen TODOs together + list KÃ¥re's
	stuff
	[25fd3fb29bcd]

2009-08-09  Nicolas Pomarede

	* src/video.c:
	Don't update HBL / Timer B interrupt's position when VDI mode is
	used.
	[2f7cb88dd314]

2009-08-09  Eero Tamminen

	* doc/release-notes.txt:
	tune DSP notes based on todo, update/add debugging notes, add note
	about doc updates
	[dbce71211d73]

	* doc/manual.html:
	large debugger section update, nice box for <pre> tags, minor fixes
	[0bb4ca03093a]

	* src/breakcond.c:
	value accessor function/variable support in breakcond.c -> possible
	to break on specific place on screen:
	- changed regsize member to valuetype and define few enum values for
	it
	- names for Hatari variables and functions can now be of arbitrary
	lenght
	- support selecting value helper functions by name and calling them
	when checking for breakpoints.
	- help lists also the function variable names and values. This and
	above is a bit ugly as it requires casts which compiler cannot
	check for type safety
	- updated test code accordingly + fixed earlier breakage
	[5a4ab49cb9c1]

	* src/configuration.c, src/debugui.c, src/includes/configuration.h,
	src/str.c:
	add support for configuring default number base (in debugger):
	- nNumberBase config setting added to configuration
	- Config file Log section renamed to LogDebug because of this
	- debugui value command can now change the default number base
	- in Str_GetNumber() the number prefix can be left out from values
	in the selected/default number base. When it's other than
	10-based, decimals need to be prefixed with '#'
	[79ec43f49b78]

	* doc/compatibility.html:
	add links for games which still have homepages, note about newer
	Calamus
	[68bdd767f40e]

2009-08-08  Eero Tamminen

	* doc/hatari.1, doc/manual.html, src/configuration.c, src/debugui.c,
	src/includes/configuration.h, src/includes/debugui.h,
	src/includes/main.h, src/main.c, src/options.c, src/shortcut.c, src
	/uae-cpu/newcpu.c:
	Add always available shortcut for debugger:
	- rename config file keyDebug setting to keyPause and add new
	keyDebugger for the Debugger shortcut. By default debugger needs
	AltGr with Pause
	- as debugger is always available, rename bEnableDebug to
	bExceptionDebugging and move it from main.c to debugui.c
	- besides toggling bExceptionDebugging on -D option, switch whether
	pause or debugger functionality needs AltGr modifier when Pause key
	is pressed for easier debugger use
	- show in statusbar when console debugger is invoked
	- update -D option & shortcuts documentation
	[2d9abff9bcd7]

	* src/includes/log.h, src/log.c, src/options.c:
	improve option error and usage messages, especially for --trace in
	debugger
	[7c74d8e01476]

2009-08-07  Thomas Huth

	* doc/manual.html:
	Added chapter about the debugger and cleaned up for version 1.3
	[07169ee30e7f]

2009-08-06  Nicolas Pomarede

	* doc/todo.txt:
	Add item on avi recording
	[75a6394d54b8]

	* doc/release-notes.txt, doc/todo.txt:
	Update release's notes for video changes
	[ba8925d2094a]

	* src/video.c:
	Don't update HBL/Timer B interrupt's position on the last line when
	freq or res are changed. This completes the patch from rev 2116 : as
	we don't call Video_StartHBL on the last visible line, we should
	also ensure that when frequency or resolution are changed on the
	last HBL (312 at 50 Hz) we don't update the HBL or Timer B position,
	else we'll get a crash as ShifterLines[ nHBL+1 ] is not initialized.
	(fix hatari's crash in TCB Guest Screen in Nostalgic-o-demo by
	Oxygene)
	[b7b9271c6bad]

2009-08-05  Nicolas Pomarede

	* src/video.c:
	Correct wrong 'right-2' border detection when switching to 50Hz at
	cycle 372 (fix self calibration routine used in Lethal Xcess
	hardscroll).
	[5937371a8c73]

2009-08-04  Thomas Huth

	* website/scrshots6.html:
	Added Laurent's new screenshots of Falcon DSP programs.
	[95a743903385]

	* .hgignore:
	Added *.pyc file to .hgignore.
	[5324f1d21b5b]

2009-08-04  Laurent Sallafranque

	* doc/todo.txt:
	Update the DSP TODO list
	[bc9a3582dc20]

2009-08-03  Eero Tamminen

	* src/breakcond.c:
	allow breaking on specific internal Hatari variable values, show
	breakpoint number
	[a1c4958a68b4]

	* src/falcon/dsp.c:
	catch also too long dsp register names
	[5ca5523b738d]

2009-08-01  Thomas Huth

	* src/dmaSnd.c:
	Fixed Falcon 16-bit DMA samples on little endian machines.
	[8954826a112d]

	* doc/compatibility.html:
	Updated 'Slayer' and 'Alive'
	[a8f9c92b0f58]

	* doc/todo.txt:
	Added some more TODO items.
	[4b9514f24e44]

	* src/fdc.c, src/hdc.c:
	Removed redundant double-checking for ACSI commands.
	[6f75e9a0a810]

2009-08-01  Nicolas Pomarede

	* src/spec512.c, src/video.c:
	Remove unused code from previous video.c
	[215d12217dda]

2009-07-31  Thomas Huth

	* doc/todo.txt:
	Updated the DSP TODO list.
	[11ae0615a158]

2009-07-30  Eero Tamminen

	* doc/compatibility.html:
	Use "Hatari version" column for Falcon games&demo compatibility
	tables too. Correct Hatari version for some Falcon apps (when first
	working/last tested not to work).
	[8eb94c4e215b]

2009-07-28  Nicolas Pomarede

	* src/spec512.c:
	Better timings when changing colors with movem.l and movem.w Fix
	small glitches in Dragonnels Menu and in No Cooper Plasma, as well
	as spec512 slideshow in The Place To Be Again Demo.
	[15770b3f9aa9]

2009-07-26  Matthias Arndt

	* src/str.c:
	* added missing include of stdio.h to make it compilable
	[2350172692fd]

2009-07-26  Thomas Huth

	* src/video.c:
	Fixed buffer overflow at the last HBL in monochrome screen mode.
	This buffer overlow caused performance problems and other side
	effects, especially on Mac OS X. Thanks to KÃ¥re Andersen for the
	patch.
	[52e6916c3c3d]

	* src/control.c:
	Fixed compilation when HAVE_UNIX_DOMAIN_SOCKETS is not defined.
	[036bcf1a82f6]

2009-07-22  Nicolas Pomarede

	* src/video.c:
	Set default value for nFrameSkips to 0 (fix problem with OS X's
	compiler)
	[c314199d5bac]

	* src/video.c:
	Correct an error in Video_ConvertPosition (rare case when reading
	video counter, mostly harmless)
	[26def8a3f566]

2009-07-21  Eero Tamminen

	* src/statusbar.c:
	Fix: overlay drive-led did save&restore blits although showing it
	was disabled (when statusbar was also disabled)
	[d3a4698a13ff]

	* doc/release-notes.txt:
	add note about debugger value prefixes (user visible change)
	[e98bac15417e]

	* doc/manual.html:
	perf note about earlier versions
	[5e4962fe5508]

2009-07-19  Eero Tamminen

	* src/debugui.c:
	add new "value" DebugUI command for showing given value in
	bin/dec/hex base
	[b6df11082ec6]

	* src/debugui.c:
	Support number / address range prefixes in DebugUI:
	- use the new Str_GetNumber()/Str_ParseRange() instead of own
	functions
	- change remainging unsigned longs to (more correct) Uint32 for this
	- rename nBreakPoint variable to more descriptive BreakAddr
	[dbcd7f526435]

	* src/breakcond.c:
	Change to using the new Str_GetNumber() instead of own function
	[603318ac9a20]

	* src/includes/str.h, src/str.c:
	Add Str_GetNumber() and Str_ParseRange() for parsing numbers +
	address ranges with prefixes
	[5058c97a5b70]

	* doc/manual.html:
	add perf note about spec512 mode and statusbar
	[0aa7d7934c11]

2009-07-18  Thomas Huth

	* src/gui-osx/PrefsController.m, src/gui-osx/Shared.m,
	src/includes/main.h:
	Removed the obsolete defines FALSE and TRUE.
	[5fa1544f1dee]

2009-07-18  Eero Tamminen

	* src/debugui.c:
	remove non-ASCII chars from debugui output
	[15375a75c494]

	* src/breakcond.c, src/debugui.c, src/includes/breakcond.h:
	Breakpoints: proper condition match testing, fix multiple condition
	handling, RemoveAll function, improve comments&output
	[ff2d4b960826]

2009-07-18  Thomas Huth

	* src/dmaSnd.c:
	Check for illegal DMA sound buffer sizes.
	[6c657b951606]

	* src/control.c, src/includes/control.h, src/xbios.c:
	Added XBIOS remote control interface (for development only)
	[c19cba83586f]

	* website/docs.html:
	Reworked the FAQ section.
	[5d00c5cd4329]

2009-07-18  Eero Tamminen

	* python-ui/Changelog, python-ui/hatariui.py, python-ui/uihelpers.py:
	add Hatari UI help items to Hatari docs and Hatari & Hatari UI www-
	pages
	[33818b9876c5]

	* doc/compatibility.html:
	move Capy to TT games, update two items
	[d587b1227aa6]

2009-07-18  Thomas Huth

	* doc/compatibility.html:
	Cleaned up the Falcon applications table and added some more
	comments about Apex.
	[48a6a5813b5c]

	* src/falcon/hostscreen.c, src/falcon/hostscreen.h,
	src/falcon/videl.c:
	Removed the unused 24 bpp converters.
	[1bfbd0accca5]

	* src/main.c:
	Ignore mouse motion when position has changed right after a reset.
	TOS (especially version 4.04) might get confused when it receives a
	mouse event right after a reset and then play annoying key clicks.
	[1c4f97d5767f]

2009-07-16  Nicolas Pomarede

	* src/video.c:
	When spec512 mode is off and color is changed after cycle 460, we
	consider the change should be applied on next line. This fixes old
	automation menu 002, where color is changed on each line on a med
	res screen ; as spec512 mode is not supported in med res yet, we
	must consider that any change after the maximum right border (cycle
	460) should be applied to line nHBL+1. Else, in the case where the
	colors are changed just before/after cycle 512, the result will
	flicker as the change will be applied to line nHBL or nHBL+1 instead
	of always using nHBL+1
	[3db6c876bba5]

2009-07-15  Eero Tamminen

	* doc/compatibility.html:
	compat updates: 32Mhz makes couple of demos work, add EKO demos,
	remove 2 of 7 Lazer demos
	[680ea7a2b358]

2009-07-14  Eero Tamminen

	* doc/manual.html, doc/todo.txt, python-ui/dialogs.py:
	update docs: RS232 & MIDI I/O stable, IDE supported, GEMDOS multiple
	dirs etc
	[3b463b37967a]

	* doc/compatibility.html:
	add (fake?) Pinball Dreams
	[65fb856e104e]

	* src/options.c:
	bLoadAutoSave not needed for bSlowFloppy as that's not in memory
	save file
	[1163e317ec07]

	* doc/hatari.1, doc/manual.html, python-ui/TODO, python-ui/dialogs.py,
	python-ui/hatari.py, src/options.c:
	add --timer-d option, document it and support it in the python-UI
	[41390733378a]

2009-07-13  Eero Tamminen

	* doc/manual.html:
	add a section on improving Hatari performance
	[ccacdecf0b70]

2009-07-11  Eero Tamminen

	* doc/authors.txt, doc/release-notes.txt:
	update notes to latest Hatari version
	[cd9b32d130bb]

	* doc/compatibility.html:
	went through rest of none/non-working programs + updated (DSP)
	compatibility
	[631c373ca734]

	* src/falcon/dsp.c:
	support PC and fix DSP_REG_SSH/SSL defines in
	DSP_GetRegisterAddress().
	[043f4d638127]

	* doc/compatibility.html:
	compatibility doc updates for latest DSP
	[49352e1286e0]

2009-07-10  Eero Tamminen

	* src/breakcond.c:
	Warn if given address 23th bit isn't extended properly. Finetune
	warnings.
	[a539291cfc84]

2009-07-09  Thomas Huth

	* src/video.c:
	Fixed the "--memstate is not working" bug. Shortcuts must be
	processed after the video interrupts have been re-started or the VBL
	interrupt might be marked as inactive in the memory snapshot.
	[0657f8f5778f]

2009-07-08  Thomas Huth

	* src/includes/control.h, src/uae-cpu/newcpu.c:
	Use 'true' and 'false' from stdbool.h instead of the obsolete
	defines.
	[f963e7c5c046]

	* src/convert/high640x8.c, src/convert/low320x16.c,
	src/convert/low320x32.c, src/convert/low320x8.c,
	src/convert/low640x16.c, src/convert/low640x32.c,
	src/convert/low640x8.c, src/convert/med640x16.c,
	src/convert/med640x32.c, src/convert/med640x8.c,
	src/convert/spec320x16.c, src/convert/spec320x32.c,
	src/convert/spec640x16.c, src/convert/spec640x32.c,
	src/convert/vdi16.c, src/convert/vdi2.c, src/convert/vdi4.c:
	In the screen convert code, use 'true' and 'false' from stdbool.h
	instead of the obsolete defines.
	[ff1cb2d5610c]

2009-07-07  Laurent Sallafranque

	* src/falcon/dsp.c, src/falcon/dsp_core.h, src/falcon/dsp_cpu.c:
	add : dsp instruction cycle count. Now DSP and 68030 are more
	accurate to each other.
	[bc5e211a2c28]

2009-07-07  Thomas Huth

	* src/int.c:
	Added assertions to make sure that no invalid parameters get passed
	to the Int_AddInterrupt functions.
	[2f3013fe9848]

2009-07-06  Thomas Huth

	* src/int.c:
	Disabled unused function Int_AddRelativeInterruptNoOffset()
	[80f65ef43835]

2009-07-04  Thomas Huth

	* src/debugui.c, src/dialog.c, src/dmaSnd.c, src/hdc.c, src/ikbd.c,
	src/int.c, src/joy.c, src/keymap.c, src/log.c, src/m68000.c,
	src/main.c, src/memorySnapShot.c, src/mfp.c, src/midi.c, src/msa.c,
	src/options.c, src/printer.c, src/psg.c, src/reset.c, src/rs232.c,
	src/screen.c, src/screenSnapShot.c, src/shortcut.c, src/sound.c,
	src/spec512.c, src/st.c, src/statusbar.c, src/tos.c, src/vdi.c,
	src/video.c, src/xbios.c, src/ymFormat.c, src/zip.c:
	Use 'true' and 'false' from stdbool.h instead of the obsolete
	defines.
	[48f78c1be4ee]

	* src/falcon/hostscreen.c, src/falcon/nvram.c, src/falcon/videl.c:
	In the Falcon code, now also use 'true' and 'false' from stdbool.h
	instead of the obsolete defines.
	[2fcc1fb9d486]

	* src/gui-sdl/dlgAlert.c, src/gui-sdl/dlgDevice.c, src/gui-
	sdl/dlgFileSelect.c, src/gui-sdl/dlgFloppy.c, src/gui-
	sdl/dlgHardDisk.c, src/gui-sdl/dlgJoystick.c, src/gui-
	sdl/dlgKeyboard.c, src/gui-sdl/dlgNewDisk.c, src/gui-sdl/dlgRom.c,
	src/gui-sdl/dlgScreen.c, src/gui-sdl/dlgSound.c, src/gui-
	sdl/sdlgui.c:
	For the SDL GUI code, now also use 'true' and 'false' from stdbool.h
	instead of the obsolete defines.
	[895bdc9d587a]

2009-07-04  Eero Tamminen

	* src/debugui.c:
	use Uint32 for (parsing) addresses in debugui.c like elsewhere in
	Hatari (as unsigned long would be unnecessarily 64-bits on 64-bit
	OSes)
	[ac5dab1e6c2c]

	* src/breakcond.c, src/debugui.c, src/includes/breakcond.h,
	src/includes/debugui.h, src/memorySnapShot.c:
	store also debugging session state to memory snapshot (if needed,
	it's easy to disable this from debugui.c even at run-time)
	[823582903643]

2009-07-03  Eero Tamminen

	* src/breakcond.c:
	dummy DSP_ReadMemory() function for breakcond test code
	[542b36e95579]

	* src/breakcond.c:
	Inherit bit width & mask from the other side if not set, derive mask
	from bit width if not set. This removes the (worst) redundant
	warnings about mask mismatches.
	[910298ca48e9]

	* python-ui/README:
	add Hatari UI www-page URL
	[1073baaf53cc]

	* python-ui/TODO:
	update Hatari UI TODO to latest Hatari version
	[9fbdbfcf5b49]

	* python-ui/FILES:
	describe all Hatari UI source etc files
	[a9b9a7b61391]

	* python-ui/hatari-console.py:
	update to latest hatari:
	- add missing command line options
	- use new long debugger commands instead of short ones for clarity
	- wait 0.2s before showing prompt so that Hatari output gets first
	[49ce14ff8770]

	* src/debugui.c:
	debugOutput needs to be initialized also when commands are called
	from control.c
	[ededf28d8a56]

	* src/breakcond.c, src/falcon/dsp.c:
	add/improve debugging code comments/documentation
	[37a08b139cf8]

	* src/breakcond.c, src/falcon/dsp.c, src/falcon/dsp.h:
	add DSP memory support to conditional breakpoints
	[79927961d6ae]

2009-07-03  Nicolas Pomarede

	* src/breakcond.c:
	Allow IO addresses between $ff8000 and $ffffff to be used as
	indirect breakpoint addresses
	[48fddaf04e7e]

2009-07-02  Eero Tamminen

	* src/breakcond.c:
	quote '%'
	[bbea51741eac]

2009-06-27  Thomas Huth

	* src/video.c:
	Clear framecycles counter during reset. This fixes the problem on
	Mac OS X where the video endline interrupt timings suddenly went
	crazy after a reset or resolution switch from color to mono.
	[3a66f38db0ad]

2009-06-27  Laurent Sallafranque

	* src/falcon/dsp_core.c:
	fix : ssi.cra_wordmask value in 24 bits mode fix : remove swap
	receive and transmit datas (crb_shifter defines the hardware way to
	get or send the data, but at end, the data is always MSB.....LSB)
	added some comments + code cleaning
	[12bc6849cc7d]

2009-06-27  Thomas Huth

	* Hatari.xcodeproj/project.pbxproj:
	Added breakcond.c to OS-X project file.
	[6b767a67c566]

	* src/gui-osx/PrefsController.m:
	Fixed typo
	[a0ce6502cee2]

2009-06-24  Thomas Huth

	* src/gemdos.c:
	Fixed bug in Fopen when access mode was 3. Due to a missing comma,
	two strings were merged in the access mode table.
	[671c4e00a188]

2009-06-21  Thomas Huth

	* doc/compatibility.html:
	Added Super Skweek.
	[1261bf120ba6]

	* src/m68000.c:
	Do not print bus error message when program probes for FPU co-
	processor since a lot of users got confused by the "Bus error at
	address $fffa42" message when a program tried to detect this co-
	processor.
	[355775dcd624]

	* src/file.c:
	The header sys/time.h is required for compiling on Cygwin. Without
	sys/time.h the struct timeval is not declared.
	[2f8dcc346f2d]

2009-06-20  Nicolas Pomarede

	* src/blitter.c, src/fdc.c, src/ikbd.c, src/mfp.c, src/psg.c,
	src/spec512.c, src/uae-cpu/newcpu.c:
	Use Video_GetPosition in LOG_TRACE
	[2d9d737fa9b7]

	* doc/compatibility.html:
	Update some STF demos for Hatari 1.3
	[59f4cf99481c]

2009-06-19  Nicolas Pomarede

	* src/int.c:
	Fix a rare bug in Int_AddAbsoluteInterrupt that could cause Hatari
	to go in and endless loop. Int_AddAbsoluteInterrupt was not calling
	Int_UpdateInterrupt as it didn't seem necessary in real case, but if
	an interrupt is added to the list at the same time another interrupt
	is ready to be served, this interrupt will be lost, because
	PendingInterruptCount value will be lost. This fixes Dark Side Of
	The Spoon's loader by ULM, where an FDC command (implying
	Int_AddAbsoluteInterrupt) could sometimes happen at cycle 404 where
	Timer B interrupt should trigger. Timer B int would be lost and
	Hatari would enter an endless loop taking 100% CPU.
	[257fb9b8f62f]

	* src/video.c:
	Replace remaining HATARI_TRACE with LOG_TRACE
	[5ae3c4a862ad]

2009-06-18  Nicolas Pomarede

	* src/video.c:
	Save/Restore ShifterFrame structure in memory's snapshot
	[22d50f19c8d0]

2009-06-17  Nicolas Pomarede

	* src/includes/video.h, src/reset.c, src/video.c:
	Change Video_StartInterrupts to use Video_AddInterruptTimerB and
	Video_AddInterruptHBL instead of Int_AddAbsoluteInterrupt. Also
	starts the VBL's int with Int_AddRelativeInterrupt and
	PendingCyclesOver, as Int_AddAbsoluteInterrupt could be called from
	reset.c with an incorrect value for nCyclesOver (because
	Video_StartInterrupts has no defined value for nCyclesOver when not
	called from an interrupt handler).
	[f3051bd6f969]

2009-06-13  Nicolas Pomarede

	* src/ikbd.c:
	Fix merge conflict
	[589c17590a03]

	* src/ikbd.c:
	Test increasing int's cycles for sendind data
	[73b11856dcdd]

	* src/includes/video.h, src/mfp.c, src/video.c:
	More fixes to the new code, no more regression so far ; reorganize
	some parts to use common functions.
	[13f92beab170]

2009-05-28  Nicolas Pomarede

	* src/uae-cpu/newcpu.c, src/video.c:
	More generic tests to handle writes to $ff8260 Update Timer B's int
	position each time res/freq is changed
	[878e2478c8ee]

2009-05-08  Nicolas Pomarede

	* src/includes/video.h, src/video.c:
	Update HBL's int position and nCyclesPerLine each time res/freq is
	changed at a compatible position. HBL and nCyclesPerLine are now
	fully dynamic and can have different values on different lines.
	[0b0f82ea2e4f]

2009-04-21  Nicolas Pomarede

	* src/includes/video.h, src/spec512.c, src/video.c:
	More generic tests to handle writes to ff820a
	 - Start replacing FrameCycles by HBL/LineCycles in border tests
	 - Always update DisplayStartCycle/DisplayEndCycle
	 - Rewrite top/bottom border removal detection code to work with mixed
	50/60 Hz lines
	 - Use Video_ConvertPosition in spec512 mode
	[fd0a5ecb2120]

2009-04-15  Nicolas Pomarede

	* src/includes/video.h, src/video.c:
	Start rewritting HBL handling and add correct video address
	calculation when mixing 50 and 60 Hz lines. (fix Omega Full
	Overscan, TCB overscan in Swedish New Year, DI screen in MindBomb,
	TEX screen in Syntax Terror)
	[46d4edf4ab53]

	* src/psg.c:
	Read to the YM data register ff8800 was taking 4 more cycles than
	expected.
	[a3c1e1e1f66d]

2009-06-20  Thomas Huth

	* tools/zip2st.sh:
	Quote input file name so that script also works with spaces in file
	names.
	[1cf90a0c007b]

2009-06-18  Eero Tamminen

	* src/breakcond.c:
	document binary decimal %-prefix. proper string-as-value support too
	complicated, remove it
	[c29efdc1f81c]

2009-06-18  Thomas Huth

	* src/audio.c, src/bios.c, src/cart.c, src/cfgopts.c, src/change.c,
	src/configuration.c, src/control.c, src/createBlankImage.c,
	src/dim.c, src/fdc.c, src/file.c, src/floppy.c, src/gemdos.c:
	Use 'true' and 'false' from stdbool.h instead of the obsolete
	defines.
	[17a9da3aaa54]

	* src/gemdos.c:
	Tracing of the GEMDOS function now also shows the parameters of the
	functions.
	[6d05caa3bfbd]

2009-06-18  Eero Tamminen

	* src/breakcond.c:
	parse binary (%10101) and ascii ("ICE) values
	[8c0414ab86bc]

	* src/breakcond.c:
	parse DSP address spaces. address type can be checked for regsize
	and whether to use dsp from dsp_space
	[4e10dcfa00c6]

2009-06-16  Eero Tamminen

	* src/breakcond.c:
	make two mask checks warnings instead of errors, tigher other mask
	checks
	[fc8039e504de]

2009-06-16  Thomas Huth

	* Visual.Studio/VisualStudioFix.c, Visual.Studio/VisualStudioFix.h,
	src/bios.c, src/blitter.c, src/dmaSnd.c, src/fdc.c, src/gemdos.c,
	src/ikbd.c, src/includes/log.h, src/includes/m68000.h, src/int.c,
	src/ioMem.c, src/log.c, src/mfp.c, src/psg.c, src/spec512.c, src
	/uae-cpu/newcpu.c, src/vdi.c, src/video.c, src/xbios.c:
	Simplified the macros for tracing. The trace macros all started with
	a prefix "HATARI_", which is quite meaningless when the whole
	project is called Hatari... So the functional macros now have got
	the prefix "LOG_" (since they are defined in log.h) and the constant
	macros use now simply the prefix "TRACE_".
	[073072bf6e27]

	* src/includes/breakcond.h:
	Added missing header file breakcond.h
	[1d466aa50b58]

2009-06-15  Eero Tamminen

	* src/breakcond.c, src/debugui.c, src/falcon/dsp.c, src/falcon/dsp.h,
	src/includes/debugui.h:
	support all registers for conditional breakpoints + fix DSP reg name
	matching
	[1638a1f3f0f2]

	* src/Makefile, src/debugui.c:
	integrate breakcond.c & conditional breakpoints with DebugUI and
	rest of Hatari
	[c3a9910371bf]

	* src/falcon/dsp.c, src/falcon/dsp.h:
	move DSP register code to separate GetRegisterAddress function for
	breakcond.c
	[94e72d78ab67]

	* src/debugui.c, src/includes/debugui.h:
	move CPU register code to separate GetRegisterAddress function for
	breakcond.c
	[45ae1917865c]

2009-06-14  Eero Tamminen

	* src/breakcond.c:
	Add BreakCond_Command/Help(), CPU/DSP register parsing support &
	test code
	[701192eb7a7b]

	* src/breakcond.c:
	.size -> .bits (reg support preparation), crosscheck width/mask,
	make funcs static
	[d5e8cc3de5c3]

	* src/falcon/dsp_core.h, src/falcon/dsp_cpu.h,
	src/falcon/dsp_disasm.h, src/falcon/nvram.h, src/gui-win/opencon.h,
	src/includes/midi.h, src/includes/rtc.h, src/includes/str.h,
	src/includes/utils.h, src/uae-cpu/hatari-glue.h, src/uae-
	cpu/savestate.h:
	add 'extern' keywords to 11 headers (out of the 93) missing them
	[73c7326779d0]

2009-06-14  Thomas Huth

	* doc/compatibility.html:
	Added Super Sprint.
	[f26374ac147b]

2009-06-13  Eero Tamminen

	* src/breakcond.c:
	trivial test for triggering breakpoints, fix addr size check
	[f3bc75b64fd5]

	* src/breakcond.c:
	Except for registers, BC parsing works now. Added parsing function
	tracing/debug
	[cda62e4215e9]

	* src/breakcond.c:
	fix tokenizing crasher, fix breakpoint removal crasher, code
	tidying:
	- move comparison matching to its own function
	- remove use of pstate member aliases argv/arg
	[a05dc2190037]

2009-06-12  Eero Tamminen

	* src/breakcond.c:
	initial/buggy size/mask/register parsing (doesn't pass tests),
	args->argv
	[b4feacca2e84]

	* src/breakcond.c:
	use '&&' for boolean AND instead of '&', improved test & error
	reporting
	[ae9d8defe818]

	* src/breakcond.c:
	indicate which parsed arg had the error, test output readability
	improvements
	[291e6549d54c]

2009-06-11  Thomas Huth

	* src/gemdos.c:
	Handle illegal Fseek modes.
	[6358f1616639]

2009-06-10  Eero Tamminen

	* src/breakcond.c:
	more parsing and testing functionality, bp listing/removing, var
	name finetuning
	[a0460fd47a6c]

2009-06-10  Laurent Sallafranque

	* src/falcon/dsp_cpu.c:
	removed 2 usued defines
	[e38e43a8527a]

	* src/falcon/dsp_cpu.c:
	DSP condition code simplify. Code is easier to read and faster to
	execute
	[ab6f61afe0ee]

	* src/falcon/dsp.c:
	dsp memory dump fix: correct X and Y memory dump in debug mode
	[17e9cbbafe36]

2009-06-10  Thomas Huth

	* src/gemdos.c:
	Fixed return value of Fseek when end of file has been reached. TOS
	returns -64 when a program tries to seek beyond the end of a file.
	This behavior is now emulated in the GEMDOS HD code of Hatari, too.
	This fixes the "EOF bug" in the program GFASHELL.
	[6fac76c656d4]

2009-06-10  Eero Tamminen

	* src/breakcond.c:
	switch to array of breakpoints having array of conditions, pass
	(most) parsing args in struct, move test code to end
	[8cd480bbef70]

2009-06-09  Eero Tamminen

	* src/debugui.c:
	Expect 'dm' DSP memspace arg to be separated from address. Improve
	help text.
	[ca6e50b103f2]

	* src/breakcond.c:
	"complete" checking side, flesh out parsing code, start on test
	code, more docs
	[cb3c5c5d8926]

2009-06-08  Eero Tamminen

	* src/debugui.c:
	fix: debugger input needs to be trimmed of newline when not using
	readline
	[fc1cbb6fae4d]

	* src/breakcond.c:
	add preliminary code for handling conditional breakpoints
	[563bfb8807ae]

2009-06-07  Eero Tamminen

	* src/debugui.c, src/falcon/dsp.c, src/falcon/dsp.h,
	src/includes/debugui.h, src/includes/main.h:
	Add DSP breakpoints & single stepping + minor DebugUI changes:
	- Add command shortcut to the main help
	- Finetune of some of the messages (state whether it's DSP or CPU etc)
	- Change DSP debug shortcuts back to 2 letters
	- typedef dbgcommand_t And add likely/unlikely gcc extension macros to
	main.h & use them in dsp.c when checking for whether to call
	DebugUI.
	[58443694fb87]

2009-06-07  Thomas Huth

	* src/debugui.c:
	Fixed the help text of the 'continue' command.
	[b5c49fa1ef55]

	* src/debugui.c, src/includes/debugui.h, src/uae-cpu/newcpu.c, src
	/uae-cpu/newcpu.h:
	Added simple CPU breakpoint and single-step debugging possibilities.
	[f6b7b33bf84d]

	* src/log.c:
	Added 'none' trace option to be able to disable tracing from the
	debug UI.
	[8687a80691ea]

2009-06-07  Eero Tamminen

	* doc/hatari.1, doc/manual.html, python-ui/hatari.py, python-
	ui/hatariui, src/options.c:
	change sound freq limits to 6000-50066 and explain them in
	documentation
	[c3b998d94821]

2009-06-06  Thomas Huth

	* src/debugui.c, src/includes/debugui.h:
	Reworked debugger command parsing. Commands are now gather in a
	proper jump table instead of one ugly huge switch() statement.
	Parameter list is now generated with strtok() so that the commands
	can easier access them.
	[298398234a57]

	* src/includes/main.h:
	Added ARRAYSIZE macro for calculating the size of an array.
	[da66ef81e05f]

	* Visual.Studio/VisualStudioFix.c, Visual.Studio/VisualStudioFix.h,
	config-default.h, configure.ac, src/gemdos.c, src/includes/log.h,
	src/log.c:
	Renamed HATARI_TRACE_ACTIVATED to ENABLE_TRACING since this naming
	is more consistant with the other defines from config.h. Also
	enabled this option by default in config-default.h
	[d53e422be120]

	* src/gui-sdl/dlgSound.c:
	Fixed compiler warning about comparison between signed and unsigned
	[9bbc7539b927]

2009-06-03  Thomas Huth

	* website/links.html:
	Replaced defunct Pangaelin Willow link with AtariWorld.org
	[417e1160625d]

2009-06-03  Laurent Sallafranque

	* src/debugui.c, src/falcon/dsp.c, src/falcon/dsp.h:
	added : dsp memory debug mode. (dm [x,y,p]addr)
	[eacd30856dac]

2009-06-03  Thomas Huth

	* src/falcon/videl.c:
	Removed wrong and unused VIDEL_COLOR_REGS_END constant.
	[ef2ab9b1727b]

2009-06-02  Laurent Sallafranque

	* src/falcon/dsp_cpu.c:
	simplified and optimized ccr E, U, N, Z computing. One call is
	suffisant to compute the 4 bits.
	[cf8241df8eb1]

	* src/falcon/dsp.c:
	Changed the registers display in dsp debug mode
	[ac7212190edb]

	* src/falcon/dsp_cpu.c:
	new code : added read SSH and write management
	[79a496454120]

2009-06-02  Eero Tamminen

	* doc/compatibility.html:
	Aazohm needs joypad
	[c8f75d834d11]

2009-06-01  Eero Tamminen

	* doc/manual.html:
	add note about --grab and pause to mouse section
	[61e94eb0172e]

	* doc/hatari.1, doc/manual.html, src/main.c, src/options.c,
	src/screen.c:
	add --grab option and release mouse grab when emulation is paused
	[76f8f4b9cbc6]

	* doc/compatibility.html:
	cryview doesn't work with TT-emu
	[66579a94f31d]

	* src/video.c:
	fix ST colreg address in comment
	[08aad2778d44]

2009-06-01  Thomas Huth

	* src/ikbd.c:
	Increase the amount of cycles for sending keyboard data
	automatically. This fixes the mouse cursor in "Froggies over the
	fence" and "Dragonnels" demo.
	[5cc6980b42b8]

2009-06-01  Laurent Sallafranque

	* src/falcon/dsp.c:
	added PC to dsp debugger
	[fecec9b10035]

2009-06-01  Thomas Huth

	* src/ikbd.c:
	The byte which is sent by the IKBD after a reset command has to be
	delayed by 50000 cycles. Lotus Turbo Esprit 2 now does not crash
	anymore during its buggy start up sequence.
	[ef5d7d38c404]

2009-05-31  Eero Tamminen

	* Makefile, python-ui/Makefile:
	install also python-ui
	[266bdbbbb153]

	* python-ui/dialogs.py:
	convert string underlines (interpreted as kbd-shortcuts) to dashes
	[4dd6ffe7ad2e]

	* python-ui/debugui.py, python-ui/dialogs.py, python-ui/hatari-
	console.py, python-ui/hatari.py, python-ui/hatariui.py:
	support arbitrary sound frequency. scripts should be executable
	[51752f7cfff8]

2009-05-31  Thomas Huth

	* src/dmaSnd.c:
	Calculate frame position only once instead of two times when playing
	stereo sound.
	[95e5a9d63265]

	* src/dmaSnd.c:
	Scale down DMA samples before mixing with PSG sound so that they are
	at the same level. The song "On behalf of the Queen" by 505 should
	now sound better.
	[e27e82952a01]

	* src/Makefile:
	Avoid linking the main executable if nothing has been changed at
	all.
	[7ee334a132f0]

2009-05-29  Eero Tamminen

	* doc/hatari.1, doc/manual.html, src/options.c:
	playback frequency can now be set to "any" value, update --sound
	accordingly
	[eaabb21ef451]

	* python-ui/hatari-icon.png, python-ui/hatari.png:
	add missing / necessary images back
	[68709f44956d]

2009-05-28  Laurent Sallafranque

	* src/falcon/dsp_core.h, src/falcon/dsp_cpu.c,
	src/falcon/dsp_disasm.c:
	removed X and Y external ram buffers (gain 64 ko) some code rewrote
	minor bug fixes
	[054e541ac3b3]

2009-05-24  Eero Tamminen

	* python-ui/TODO, python-ui/dialogs.py, python-ui/hatari.py:
	update python-ui TODO, fix Midi config names, update trace flags
	list
	[6a9db0e5723d]

2008-10-19  Eero Tamminen

	* python-ui/Changelog, python-ui/TODO, python-ui/dialogs.py, python-
	ui/hatari.py, python-ui/hatariui.py, python-ui/uihelpers.py:
	- Implement peripherals dialog
	- Check sound output file extension as required by Hatari
	- disk -> floppy dialog
	- update TODO&Changelog
	[d98dc87b9415]

2008-09-29  Eero Tamminen

	* python-ui/TODO, python-ui/debugui.py, python-ui/dialogs.py, python-
	ui/hatari.py, python-ui/uihelpers.py:
	Implement support for paths and update TODO
	[0ce48441def7]

2008-09-28  Eero Tamminen

	* python-ui/TODO, python-ui/dialogs.py, python-ui/hatari.py, python-
	ui/hatariui.py, python-ui/uihelpers.py:
	- add support for auto frameskip, statusbar and overlay led and
	simplify the display dialog code a bit
	- remove support for multiple machine setups now that Hatari config
	loading (after startup) works, this makes the dialog easier to use
	- fix memory size setting
	- other minor changes
	[eadf8aca0f3a]

2008-08-28  Eero Tamminen

	* python-ui/Changelog, python-ui/TODO:
	- make changelog more readable
	- remove Hatari stuff from TODO list (some of is now implemented and
	rest discussed with Thomas)
	[aad379ed7f16]

2008-07-30  Eero Tamminen

	* python-ui/hatari-console.py:
	- support for older Pythons (non-derived class syntax)
	- check whether Hatari supports --control-socket option
	- support Hatari remote path setting and device toggling
	- add hatari-console help
	[69a5288ff975]

2008-07-26  Eero Tamminen

	* python-ui/Changelog, python-ui/Makefile, python-ui/README, python-
	ui/TODO:
	- Moved feature TODOs from source to new TODO file and added there
	also some issues found from Hatari too + things that Steem has
	- Added Changelog
	- README update
	[727560b53cd6]

	* python-ui/config.py, python-ui/debugui.py, python-ui/dialogs.py,
	python-ui/hatari.py, python-ui/hatariui, python-ui/hatariui.py,
	python-ui/uihelpers.py:
	- Added recanim, recsound, config load/save and memory snapshot
	load/save features. If config changed in UI, give a temporary
	config file to Hatari whenever it's re-run
	- Fullscreen isn't anymore a toggle as user cannot use this option
	if Hatari is fullscreen... Removed fullscreen config option
	handling as it will be changed also directly from Hatari
	- To support drag&drop for the UI, it forwards non-option args
	(floppy name) to Hatari from the UI command line
	- Disk image and joystick settings to separate dialogs
	- Add dummy paths and peripherals settings dialogs
	- Check that Hatari supports --control-socket argument
	- Make dialog run() methods more consistent
	- Python code compatible to Python 2.4 (I'm testing with 2.5 which
	accepts '()' for classes not inheriting anything) and wrapper
	scripts to older SH (use exit when outside func body)
	[492d35446e43]

2008-07-11  Eero Tamminen

	* python-ui/Makefile, python-ui/hatariui, python-ui/hatariui.desktop:
	add desktop file, minor tweaks
	[0b4f154621f6]

2008-07-10  Eero Tamminen

	* python-ui/.cvsignore, python-ui/Makefile, python-ui/README, python-
	ui/hatariui, python-ui/setup.py:
	- Add Makefile for installing and make script installable
	- Update README and add .cvsignore for local bytecompiled .py files
	- remove useless setup.py
	[8b89b8ff559c]

2008-07-07  Eero Tamminen

	* python-ui/hatariui, python-ui/hatariui.py:
	fix single row panel with actions
	[08119e0ee4cc]

2008-07-06  Eero Tamminen

	* python-ui/hatari-ui, python-ui/hatari-ui.py:
	old UI is now redundant
	[bee8da661e8d]

	* python-ui/dialogs.py, python-ui/hatariui, python-ui/hatariui.py,
	python-ui/uihelpers.py:
	- fix: create_toolbutton utility
	- fix: make sound settings into a dialog
	- fix: fastforward & fullscreen initial state in actions
	- add new hatariui helper script
	- enable keyboard shortcuts when Hatari isn't embedded
	- make panels into actions and if user gives any on command line,
	add them to menu too
	- close by itself on a row is enough as a button, no need for
	toolbar + toolitem
	[2924cd3efb20]

2008-07-05  Eero Tamminen

	* python-ui/hatariui.py:
	GtkSocket embedding the Hatari window needs to do Gtk focus grab for
	key events to go to Hatari (at all) when toolbars are used.
	[28e9210f925c]

	* python-ui/hatariui.py:
	Large refactoring for the new hatariui.py:
	- get menus working + option to disable them
	- converted all buttons to toolbars and toolbar items and it mostly
	works, but it steals focus from Hatari!
	- slightly improved Hatari window resize handling
	[656cf0873578]

2008-07-03  Eero Tamminen

	* python-ui/dialogs.py, python-ui/hatari-ui, python-ui/hatari-ui.py,
	python-ui/hatariui.py, python-ui/uihelpers.py:
	- move text/click input buttons to separate dialog
	- move menu/actions stuff to new hatariui.py file which will
	eventually replace hatari-ui.py
	[fbed1df56baf]

2008-07-01  Eero Tamminen

	* python-ui/dialogs.py, python-ui/hatari-ui, python-ui/hatari-ui.py,
	python-ui/hatari.py:
	- add borders, st-low zoom and fullscreen options support
	  - controls for first two to display dialog, fullscreen as
	action/button
	- fine-tune dummy menu texts
	[bd1218b8145f]

	* python-ui/dialogs.py, python-ui/hatari-ui, python-ui/hatari-ui.py:
	- add dummy (for now) Hatari UI menu
	- move run-time display settings into dialog of their own as it's
	impossible to have slider in menu (for frameskip)
	[6392e4d610d3]

2008-06-26  Eero Tamminen

	* python-ui/hatari.py:
	better check for required Hatari support
	[e6db36811654]

	* python-ui/hatari.py:
	assert that Hatari supports the required --control-socket option
	[53394dd57397]

2008-06-25  Eero Tamminen

	* python-ui/dialogs.py:
	- allow user to eject disks in peripherals dialog
	- support "use HD" option in machine config dialog
	- in both of these dialogs, batch the changes in one go to Hatari
	[9df61e51ff51]

	* python-ui/hatari-ui.py:
	make new Hatari window size reading more robust against Hatari
	reboots and re-running (previously it could get stuck sometimes when
	Hatari was asked to reboot itself after re-running Hatari).
	[f83da3dc70fd]

	* python-ui/config.py:
	- empty string key values should be shown and saved as "", not
	"None"
	[f6cc4bfd3a49]

	* python-ui/hatari.py:
	- more robustness for the case when user terminates Hatari
	- support for batching Hatari option changes
	- support for g/setting floppydir and whether to use HD
	[7ad0ebf97c65]

2008-06-24  Eero Tamminen

	* python-ui/hatari-ui.py, python-ui/hatari.py, python-ui/uihelpers.py:
	request and process Hatari window size change messages from Hatari
	[9686a111db9a]

2008-06-18  Eero Tamminen

	* python-ui/config.py, python-ui/dialogs.py, python-ui/hatari-ui.py:
	warn if Hatari configuration is missing and bail out
	[2266d934ae10]

2008-06-16  Eero Tamminen

	* python-ui/uihelpers.py:
	bump version number
	[a9d7d64779ec]

	* python-ui/hatari-ui.py:
	smarter control resize policy
	[c7372558145f]

2008-06-15  Eero Tamminen

	* python-ui/debugui.py, python-ui/dialogs.py, python-ui/hatari.py,
	python-ui/uihelpers.py:
	- "finish" configuration setup dialog and add support for all the
	required hatari variables
	- list (in comment) which Hatari variables are not yet supported
	- disable Hatari internal quit confirmation when starting Hatari
	[3b8dfceaa4d7]

	* python-ui/hatari-console.py, python-ui/hatari-ui, python-ui/hatari-
	ui.py:
	- UI: support taking screenshots
	- console: add support for "savemem"
	[80f10c5db6ec]

2008-06-14  Eero Tamminen

	* python-ui/dialogs.py, python-ui/hatari-ui, python-ui/hatari-ui.py:
	add warm/cold reset/reboot button and dialog
	[e84454e94777]

2008-06-13  Eero Tamminen

	* python-ui/config.py, python-ui/debugui.py, python-ui/dialogs.py:
	- fix debugui.py default config value type (without saved config
	you got exception when trying to switch to disasm or memory dump
	mode)
	- hide peripherals dialog faster
	- correct ConfigStore() constructor __doc__ method
	[d11eaedd1b9b]

2008-06-11  Eero Tamminen

	* python-ui/dialogs.py, python-ui/hatari.py:
	fix initial disk name
	[16a0d6faadc7]

	* python-ui/README, python-ui/dialogs.py:
	README improvements, note that UI needs saved hatari.cfg
	[664f3909c53f]

2008-06-10  Eero Tamminen

	* python-ui/debugui.py, python-ui/dialogs.py, python-ui/hatari-ui,
	python-ui/hatari-ui.py, python-ui/hatari.py, python-ui/uihelpers.py:
	- move table helper functions from debugui.py to uihelpers.py
	- adapt to the new Hatari joystick settings option
	- add handling for the new Hatari disk options
	- add Hatari peripherals dialog (uses table helpers) and move disk &
	joystick settings there
	- refactor hatari.py a bit so that debugui.py can be given options
	with which it should run Hatari
	- comment code more
	[fdb1eadf31d6]

2008-06-08  Eero Tamminen

	* python-ui/hatari-console.py, python-ui/hatari.py:
	add disk support now that Hatari got options for them
	[f6b798f96abc]

2008-06-07  Eero Tamminen

	* python-ui/dialogs.py:
	decided on different/simpler setup dialog structure (still dummy
	though)
	[91b3491419b8]

	* python-ui/config.py, python-ui/debugui.py, python-ui/dialogs.py,
	python-ui/hatari-ui, python-ui/hatari-ui.py, python-ui/hatari.py:
	- stupid oversight, Hatari configuration has after all sections
	with keys named the same (shortcut and joystick sections), needed
	to rewrite config handling to take this into account
	- added joystick emu selection
	- apply doesn't close trace settings dialog, only close will do
	[56be835accd0]

2008-06-06  Eero Tamminen

	* python-ui/hatari-ui, python-ui/hatari-ui.py, python-ui/uihelpers.py:
	- ">" can be used to put controls in multiple rows/columns
	- close button allowed only in panels
	[66dd8855b1e8]

2008-06-03  Eero Tamminen

	* python-ui/dialogs.py, python-ui/hatari-ui.py:
	- add blitter trace setting
	- shorten "Spec512 support" checkbox name (now that tooltips work)
	[cead7a5a4376]

	* python-ui/hatari-console.py, python-ui/hatari.py:
	- USER isn't always defined, use PID instead in socket/file names
	[0a8a14745494]

2008-06-02  Eero Tamminen

	* python-ui/dialogs.py, python-ui/hatari-ui, python-ui/hatari-ui.py:
	small screen / N8x0 improvements
	- trace options are in three columns, not two
	- if close button is given for a panel, set its type as dialog
	[84ea0787f41a]

2008-05-30  Eero Tamminen

	* python-ui/README, python-ui/debugui.py, python-ui/hatari-ui, python-
	ui/hatari-ui.py, python-ui/uihelpers.py:
	- add README
	- allow running the UI and debugger scripts from elsewhere than
	where the scripts themselves (and icon/logo images) are
	[fc71ccb1ab75]

2008-05-28  Eero Tamminen

	* python-ui/dialogs.py, python-ui/hatari-ui.py:
	add support for trace settings loading and saving
	[fdbc9535c239]

	* python-ui/config.py, python-ui/dialogs.py:
	- fix cosmetic bugs in config file output (newlines between
	sections and capitalized True/False)
	- add checkpointing to configuration and change changed config
	variable checking/listing to use that. Checkpointing will be
	useful for Hatari configuration dialogs
	[ee214fb50318]

	* python-ui/dialogs.py, python-ui/hatari-ui.py, python-ui/hatari.py:
	code documentation improvements:
	- prefixing more private methods with "_"
	- adding docstrings to more public methods
	[aeee34e6a18c]

2008-05-27  Eero Tamminen

	* python-ui/dialogs.py, python-ui/hatari-ui.py:
	code cleanup:
	- add docstrings to methods
	- prefix internal methods with "_" as is python convention
	- all dialogs take same __init__ constructor arguments and same
	number of run() method arguments
	[6c8a807a4815]

	* python-ui/debugui.py:
	code cleanup:
	- don't derive from HatariUIDialog unnecessarily
	- change helper methods that don't use other class methods or object
	variables into functions
	- prefix internal methods with "_" is is python convention
	- add docstrings to methods
	[b072ff6ce493]

2008-05-26  Eero Tamminen

	* python-ui/hatari-ui, python-ui/hatari-ui.py:
	- fix panel button tooltips
	- another panel example to the hatari-ui script
	[564bb863b8c0]

	* python-ui/debugui.py, python-ui/dialogs.py, python-ui/hatari-ui.py,
	python-ui/uihelpers.py:
	More refactoring inspired by Pylint OO-style warnings:
	- move common / helper functions from dialogs.py to new uihelpers.py
	file
	- add there create_toggle() and create_button() and use these in
	debugger and hatari UI instead of methods
	- move class variable constants to their own Constants and UInfo
	classes, this makes sharing them more explicit
	- associate HatariControls instead of inheriting it in HatariUI,
	this makes the class roles more explicit (but there are some less
	clean things still)
	- prefix all internal callback methods in HatariControls with "_"
	(which is a Python idiom)
	[c9a730067c5a]

2008-05-25  Eero Tamminen

	* python-ui/debugui.py:
	- refactor address handling to MemoryAddress class from DebugUI
	class in preparation for additional memory area monitoring windows
	requested by Nicolas
	- ask user whether Hatari should be killed instead of just killing it
	- fix OO-style issues reported by pylint
	[f873f3288642]

	* python-ui/dialogs.py, python-ui/hatari-ui.py:
	- fix few errors
	- move killdailog functionality to dialogs.py so that Debug UI can use
	it too
	- make paste timeout callback to a function from method (I'm
	assuming this guarantees the text paste object is not leaked)
	- fix OO-style issues reported by pylint
	[c93b449a3539]

	* python-ui/config.py, python-ui/hatari.py, python-ui/setup.py:
	- improve documentation (comments)
	- fix issues reported by pylint
	- take hatari configuration border settings into account when
	deciding on Hatari cli option
	[59459d1d3670]

	* python-ui/hatari-ui, python-ui/hatari-ui.py:
	- refactor widgets to new HatariUIWidgets class from HatariUI
	- user can now specify that control are in separate panel windows
	- updated Hatari frameskip only when users releases mouse button
	[09ca1c525a93]

	* python-ui/hatari-console.py:
	- fix TAB completion I broke earlier
	- fix more pylint warnings (put main code inside a function)
	[74698a1cfb3f]

	* python-ui/debugui.py:
	- nicer resizing for dialogs
	- leave 0x prefix out from addresses in dialogs
	- kill Hatari on exit
	[fbfa8dbc287b]

	* python-ui/dialogs.py:
	UI improvements:
	- trace settings to two rows
	- config changes list has scrollbars only when needed
	[d6932761b57f]

2008-05-24  Eero Tamminen

	* python-ui/debugui.py:
	- add memory load and save dialogs & functionality
	- refactor the existing classes for this a bit
	[a148f18c41ed]

	* python-ui/dialogs.py:
	add note and question dialogs, some improvements
	[06780b0a5584]

2008-05-21  Eero Tamminen

	* python-ui/hatari-console.py:
	- add event and debugger shortcut handling to hatari-console
	- resolve few pylint warnings
	[b55f5d6a0f10]

2008-05-20  Eero Tamminen

	* python-ui/config.py, python-ui/debugui.py:
	config.py:
	- improve doc strings
	- enable configuration file saving
	- create config file on save if it doesn't exits (under ~/.hatari)
	debugui.py:
	- read/write Debug UI options from/to configuration file
	- bind enter to applying options in options dialog
	[0a79104ae5c9]

	* python-ui/config.py, python-ui/hatari-ui.py, python-ui/hatari.py:
	Prepare for DebugUI and HatariUI configuration handling:
	- generalize Hatari configuration handling code and move it to to a
	new config.py file
	- split Config class to ConfigStore and ConfigVariables classes
	- ConfigVariables class makes accessing the configuration variables
	nicer as they are now class attributes and have proper types
	instead of being just strings. The code checks/enforces the Hatari
	types (bool, int, string) on them
	- ConfigStore class then takes care of loading/saving of
	configuration and its changes
	- Renamed ConfigMapping class left to hatari.py into
	HatariConfigMapping and adapted it to the configuration handling
	changes
	[607cc4333fcc]

2008-05-19  Eero Tamminen

	* python-ui/dialogs.py:
	make changed settings dialog text area size itself sensibly
	[d74c86889411]

2008-05-17  Eero Tamminen

	* python-ui/debugui.py, python-ui/hatari.py:
	- use todo and error dialogs in debug UI
	- add options dialog for number of lines on screen
	- use different address skips in memdump & disasm modes
	- get distinct lines from hatari instead of concatenated data
	- remove "Default" button as useless (when monitor windows are added)
	and set Registers as default mode (+ get address from PC register)
	- lots of fixes to how address changes are calculated
	[da385300c4e2]

	* python-ui/dialogs.py:
	- add TodoDialog and ErrorDialog
	- baseclass improvements
	[63394af0224f]

2008-05-13  Eero Tamminen

	* python-ui/debugui.py:
	- Support arrow keys and page up/down as Nicolas requested
	- Added buttons corresponding to page up/down address change
	- fixed TODO dialog close button
	- fixed address entry size
	[421558cf7504]

	* python-ui/debugui.py, python-ui/hatari-ui.py, python-ui/hatari.py:
	- make debug UI work also as standalone
	- move Hatari output file open and read from debugui.py to hatari.py
	[f3744a49335e]

2008-05-11  Eero Tamminen

	* python-ui/debugui.py:
	remove extra space
	[5e3c71f3304a]

	* python-ui/debugui.py:
	when Hatari is stopped again, let Hatari decide from which address
	to do the disassemble/memdump (hopefully that's PC)
	[9bdf763029f8]

	* python-ui/debugui.py:
	- <<, <, >, >> buttons work now
	- user can set the address also
	- add button for default address and option
	- show dialogs for all TODOs
	[d3744f5a657e]

	* python-ui/debugui.py:
	- fix debugui startup, try deleting the log file only if it exists
	- make register dump just one of the dump modes
	- fix the dump widget to monospace font and make it not to resize
	the debugui window if the widget is smaller than the available
	space, only when there's too little space
	[4b162eb0c9fb]

	* python-ui/hatari-ui:
	convenience script for launching hatari-ui.py with all options
	[129e3f12ad94]

	* python-ui/hatari.py:
	improvements to embed window size option matching
	[ab111e92c4ec]

2008-05-10  Eero Tamminen

	* python-ui/debugui.py:
	fix text to monospaced
	[0fd47415f3fc]

	* python-ui/debugui.py:
	- add code for reading Hatari debugger output. fifo had problems,
	but a regular file seems to work as well for now
	- the window hide/show works now properly and there are labels for
	showing the debugger output and address, but they need still a lot
	of fixes and almost none of the buttons do anything yet
	[733761addf28]

	* python-ui/hatari.py:
	fix hatari-stop/cont
	[e60b244afc85]

2008-05-09  Eero Tamminen

	* python-ui/hatari-ui.py:
	improve text/key insert button tooltips
	[d8a88a8be675]

	* python-ui/debugui.py, python-ui/hatari-ui.py, python-ui/hatari.py:
	- add initial dummy debugger UI
	- instead of using SIGSTOP on Hatari process, use the new hatari-
	stop and hatari-cont remote commands, this allows Hatari to
	receive debugging commands while emulations itself is disabled
	- fix bug from paste dialog refactoring
	- other minor changes
	[3cfcdbb78edf]

2008-05-08  Eero Tamminen

	* python-ui/dialogs.py, python-ui/hatari-ui.py:
	- support inserting strings in addition to keycodes
	  - refactored code in paste dialog to a class of its own for this
	- allow user to specify separators between controls
	- add tooltips automatically to controls
	- improved help
	- some other minor changes
	[e4fc51a5afa9]

2008-05-07  Eero Tamminen

	* python-ui/dialogs.py, python-ui/hatari-ui.py:
	- do dialog hide in dialog classes instead of caller
	- add dialog for pasting text to Hatari (after fixing that at Hatari
	side...)
	[627f04a4b48b]

2008-05-05  Eero Tamminen

	* python-ui/dialogs.py, python-ui/hatari-ui.py, python-ui/hatari.py:
	- complete configuration change support for now
	  - show at exit which configuration options were changed and allow
	user to select whether to save or discard them
	- fix frameskip value (Gtk scale widget returns float instead of int)
	[4786f799493f]

2008-04-30  Eero Tamminen

	* python-ui/dialogs.py, python-ui/hatari-ui.py, python-ui/hatari.py:
	- refactored all the configuration variable handling/mapping from
	Hatari and HatariUI classes to the new ConfigMapping class. This
	way the other classes don't need to know anything about the config
	variable names etc.
	  - when Hatari options having corresponding config variable are
	changed, using ConfigMapping sets the new value also to internal
	config variables hash
	- take a copy of the original config vars and add functions for
	listing what was changed and to revert the changes. These can be
	used from the QuitSaveDialog
	- config variable names are uniq, so simplified their handling a
	bit, section->variable mapping is needed only when saving the
	configuration
	[0171c125ceb3]

2008-04-28  Eero Tamminen

	* python-ui/hatari-ui.py:
	add controls for Spec512 and Sound
	[7ef6c74e15a1]

	* python-ui/dialogs.py, python-ui/hatari-ui.py, python-ui/hatari.py:
	start on setup dialog (currently dummy one) and some other minor
	changes
	[8e0f2db91d8e]

2008-04-27  Eero Tamminen

	* python-ui/dialogs.py, python-ui/hatari-ui.py:
	- move all dialogs to their own .py file as separate classes
	- fix latest command line parsing changes and improve its error
	messages
	[388f7e659269]

	* python-ui/hatari-ui.py, python-ui/hatari.py:
	- add support for buttons that simulate doubleclick, rightclick and
	keypress (requires my patch from hatari-devel to Hatari)
	[c27553931493]

2008-04-26  Eero Tamminen

	* python-ui/hatari-ui.glade:
	removed the glade file too
	[7b3bf52cd325]

	* python-ui/hatari-ui.py, python-ui/hatari.py:
	- moved Hatari socket writing from hatari-ui.py to hatari.py
	- glade doesn't really help that much and gives less control, so I
	just wrote code for all the dialogs I created earlier with glade
	and discarded the glade stuff
	- rewrote how the UI is created; user can now specify all controls
	in the UI (from the provided set of them) and whether they are at
	left/right/top/bottom. Got rid of the Shortcuts & HatariUI
	separation at the same time
	[bf2e8899173a]

	* python-ui/hatari-ui.py:
	fix frameskips config var name
	[41e698aa0e5b]

	* python-ui/hatari-console.py, python-ui/hatari-ui.py:
	- hatari commands are separated by newlines
	- add buttons for debug and trace to the UI
	- add dialog for selecting which tracings options are enabled
	[9e144b72d869]

2008-04-24  Eero Tamminen

	* python-ui/hatari-ui.py, python-ui/hatari.py:
	- add UI support for actually controlling hatari when it's running
	- maxspeed Hatari option was renamed to fast-forward
	- fix GtkRange stealing Hatari keyboard focus
	[9427957741ed]

2008-04-22  Eero Tamminen

	* python-ui/hatari-console.py:
	allow multiple options and their parameters on same line
	[62b2d79dee3a]

	* python-ui/hatari-console.py, python-ui/hatari.py:
	socket should be user specific
	[967da9d6801f]

	* python-ui/hatari-console.py:
	console, not ui
	[35eb6c9a2ff7]

	* python-ui/hatari.py:
	add support for Hatari control socket
	[ff33ad56a1d0]

	* python-ui/hatari-console.py:
	This is now about ready:
	- Added support for all Hatari command line options
	- Args given when console is invoked are forwarded to Hatari
	- Hatari is started immediately and console exits if Hatari isn't
	anymore running
	[d456f469dccc]

	* python-ui/hatari-console.py:
	add readline using hatari-console test program
	[c65500f14987]

2008-03-30  Eero Tamminen

	* python-ui/hatari-ui.py:
	finish UI side of the first shortcut widgets. (it's best to do some
	modifications to Hatari to get them actually to do something as
	synthetizing Hatari shortcut keyevents wouldn't be that reliable)
	[a7fdc8520d13]

2008-03-29  Eero Tamminen

	* python-ui/hatari.py:
	fix
	[e8b50a48fcb6]

	* python-ui/hatari-ui.py:
	start adding shortcut button support + better command line parsing
	[085e1b348ac8]

	* python-ui/hatari-ui.py, python-ui/hatari.py:
	give Hatari options that make best out of the space it's embedded
	[140ef6fa7561]

	* python-ui/hatari-ui.glade, python-ui/hatari-ui.py, python-
	ui/setup.py:
	- about dialog should be dialog and dialogs are not resizable
	- configure dialog updates
	- change layout so that hatari container window size is not changed
	and if it is, resize it
	  -> TODO: larger window should be OK... (works fine on N810 now)
	[4abd35d17ce2]

2008-03-12  Eero Tamminen

	* python-ui/hatari.py:
	remove TODO that's done
	[42462e006d0c]

2008-03-08  Eero Tamminen

	* python-ui/hatari-ui.py, python-ui/hatari.py:
	hatari.py:
	- neither hatari nor config classes are singletons anymore
	- configuration loading, saving and showing
	- setting and getting of config key values
	  - they work as strings as there's no map of the key types like in
	Hatari itself
	- when embedding the window, guarantee that emulated machine is
	either ST or STE to make sure window size will be correct hatari-
	ui.py:
	- fix to closing of the UI
	[6f9781f6e1f7]

2008-03-04  Eero Tamminen

	* python-ui/hatari.py:
	support different embed window sizes, hatari supports now borders
	off
	[7c525f9ad7b6]

2008-03-03  Eero Tamminen

	* python-ui/hatari.py:
	get correct Hatari config path
	[d8afba486a1f]

2008-02-25  Eero Tamminen

	* python-ui/hatari-ui.py, python-ui/hatari.py:
	Embedding of Hatari window is now optional
	[4d9002828347]

2008-02-23  Eero Tamminen

	* python-ui/hatari-ui.glade, python-ui/hatari-ui.py:
	add configure dialog for Hatari with non-working content

	(pretty far from working... First is needed conf loading, creating
	rest of the conf UI in glade, then backend code for that, saving new
	config, creating suitable Hatari config lines from the configuration
	in case its not saved etc.)
	[affbdc70ca17]

	* python-ui/hatari-ui.py, python-ui/hatari.py:
	* email address
	* handle window close button & Hatari exit question correctly
	[bfd5de45075f]

	* python-ui/hatari-ui.py, python-ui/hatari.py:
	* Refactor Hatari instance and configuration handling to new
	hatari.py file
	* Change button orders and change dummy maxspeed button to
	pause/unpause
	  * Do Hatari pause/unpause functionality
	* Add fullscreen option and usage to the UI
	* Add icon & title back to mainwin
	* Set Hatari socket widget bg to black and remove bg image stuff
	* Fix Hatari restart handling
	[aa348e9f5c84]

	* python-ui/tests/README:
	update, embedding works
	[d9eab119b5d4]

	* python-ui/hatari-ui.glade, python-ui/hatari-ui.py:
	* Mainwin:
	  - write in python as Glade cannot handle it properly
	  - remove it from the glade file
	* Update glade file from glade-2 to glade-3
	* Add configure and maxspeed placeholder buttons
	[761c1db11973]

2008-02-22  Eero Tamminen

	* python-ui/hatari-ui.glade, python-ui/tests/pygtk-hatari-embed-
	test.py:
	Widget embedding Hatari needs to be GtkSocket (which Glade doesn't
	support) and CAN_FOCUS needs to be *unset* for any other widgets
	taking input. Then keyboard works in Hatari.
	[d05e700b49dd]

	* python-ui/tests/pygtk-hatari-embed-test.py:
	support testing the Hatari itself embedding and more widgets
	[090c0e22f5d3]

	* python-ui/hatari-ui.glade, python-ui/hatari-ui.py:
	some testing changes...
	[22fc0ec2f17b]

2008-01-27  Eero Tamminen

	* python-ui/hatari-ui.glade, python-ui/hatari-ui.py, python-
	ui/setup.py, python-ui/tests/README, python-ui/tests/pygtk-hatari-
	embed-test.py, python-ui/tests/pygtk-hello-world.py:
	Telling the SDL to embed itself didn't work, neither did work
	embedding the Hatari window from PyGtk code. Results of these tests
	are in the tests/ subdirectory.

	I added some "meat" to the hatari-ui and next I'm going to try doing
	the embedding from the Hatari code itself...
	[2f971a884306]

	* python-ui/hatari-ui.glade, python-ui/hatari-ui.py, python-
	ui/setup.py:
	add original Hatari pygtk UI to CVS
	[ab9d9e6e207d]

2009-05-24  Eero Tamminen

	* doc/compatibility.html:
	fix typo
	[7b4b687ce8c6]

2009-05-24  Thomas Huth

	* src/falcon/videl.c:
	Clear horizontal scrolling HW registers during reset. This fixes the
	distorted screen after doing a warm reset in the "Fever week" demo.
	[a3b8503348b2]

2009-05-22  Eero Tamminen

	* doc/compatibility.html, doc/emutos.txt:
	compatibility updates. New "TT/Falcon utilities" section
	[0eed0c8dbef7]

2009-05-21  Thomas Huth

	* website/links.html:
	Added link to Hatari for the Wii
	[373580a30a9c]

2009-05-20  Eero Tamminen

	* doc/compatibility.html:
	more URLs for Falcon games. Couple of extra DSP demos work
	[21759b081b7b]

2009-05-20  Laurent Sallafranque

	* src/falcon/dsp_cpu.c:
	Scaling mode added into read_accu (A or B) and limiting improving.
	This increase a lot ApexJpeg picture rendering (colors are much
	better now)
	[6dd935623534]

2009-05-17  Laurent Sallafranque

	* src/falcon/dsp_cpu.c:
	fix : display correct write value in dsp->host transfer ($FFEB) in
	debug mode
	[6d3b2f8835c2]

2009-05-15  Laurent Sallafranque

	* src/falcon/dsp_cpu.c:
	Optimization in move l: decoding
	[387817d4a78b]

	* src/falcon/dsp_cpu.c:
	fix : correct move S,D register masking (this corrects a move a,n5)
	for example
	[2c484706bd0d]

2009-05-14  Eero Tamminen

	* configure.ac, doc/manual.html, src/main.c:
	optionally measure performance using user time (time spent only by
	Hatari process) which provides
	*much* more accurate results than the use of SDL_GetTicks() "wall
	clock".
	[9b1022403d88]

	* doc/compatibility.html:
	add Logitron Falcon games to list
	[227bab467929]

2009-05-13  Eero Tamminen

	* doc/compatibility.html:
	madness is STe demo, add links to Falcon games + other updates
	[7f04894eba20]

2009-05-12  Eero Tamminen

	* doc/compatibility.html:
	some things work now better, update falcon compatibility
	[225d3d5a2149]

2009-05-06  Laurent Sallafranque

	* src/falcon/dsp.c, src/falcon/dsp.h, src/falcon/dsp_core.c,
	src/falcon/dsp_core.h:
	first implementation of SSI receive data. Lot's of code to add here
	[e227e326e129]

	* src/falcon/dsp.c, src/falcon/dsp_core.c, src/falcon/dsp_core.h,
	src/falcon/dsp_cpu.c:
	Temporary fix : reinsert internal detection of frame sync. This
	should be set by the DMA crossbar. Temporary fix : remove of
	TX_INTERRUPTION_WITH_ERROR Willie's adventure works again
	[075b35ec6cec]

2009-05-05  Laurent Sallafranque

	* src/dmaSnd.c, src/falcon/dsp.c, src/falcon/dsp.h,
	src/falcon/dsp_core.c, src/falcon/dsp_core.h, src/falcon/dsp_cpu.c:
	rewrite of SSI emulation. Added external frame sync from DMA (pin
	SC2), prepared receive data
	[89613911d9f1]

2009-05-03  Eero Tamminen

	* src/debugui.c:
	check length of string scanf reads to prevent stack smashing, remove
	redundant code (scanf appends zero) + use standard strchr()
	[7ba7c4520f9b]

	* website/links.html:
	fix typo & funet link
	[fd7285ae3a8e]

2009-05-02  Thomas Huth

	* doc/images/discs.png, doc/images/floppydisks.png,
	doc/images/harddisks.png, doc/images/main.png,
	doc/images/newfloppy.png, doc/images/sound.png,
	doc/images/system.png, doc/manual.html:
	Updated 'System', 'Floppy', 'Hard disks' and 'Sound' dialog
	descriptions in the manual.
	[bfb2b3b7d340]

	* src/gui-sdl/dlgSystem.c:
	DSP emulation mode can now be chosen in the GUI.
	[e1a889623eb6]

	* src/configuration.c, src/fdc.c, src/gui-osx/PrefsController.m, src
	/gui-sdl/dlgFloppy.c, src/gui-sdl/dlgSystem.c,
	src/includes/configuration.h, src/options.c:
	Moved the 'Slow down FDC' option from the 'system' configuration
	section to the 'floppy disk' configuration section (where it belongs
	to).
	[758caec3306d]

	* src/gui-sdl/dlgSound.c:
	Support more sample sound frequencies in GUI.
	[a9c27faa9da7]

2009-05-02  Laurent Sallafranque

	* src/debugui.c, src/falcon/dsp.c, src/falcon/dsp.h:
	added : dsp debug set register (option dr reg=value)
	[acdb65155786]

2009-05-01  Thomas Huth

	* src/audio.c, src/configuration.c:
	Make sure that nAudioFrequency has always a valid value, also when
	sound is disabled (thanks to KÃ¥re Andersen for the hint).
	[c1cec2ff235d]

	* Hatari.xcodeproj/project.pbxproj:
	Removed araglue.h from Xcode project and enabled DSP emulation.
	[ee811cc9c7e3]

	* website/links.html:
	Revised the hyperlinks and added some new links
	[64a657c5f56a]

2009-05-01  Laurent Sallafranque

	* src/debugui.c, src/falcon/dsp.c:
	removed the TODO for dsp disasm Eero removed yesterday and I readded
	by mistake tonight.
	[fb476efad98a]

	* src/debugui.c, src/falcon/dsp.c, src/falcon/dsp.h,
	src/falcon/dsp_core.c, src/falcon/dsp_disasm.c:
	fixed some minor bugs added dsp disasm dump registers (command dr in
	the debugger) modified dsp disasm program to display correctly
	instructions in 2 words added some comments
	[b2135292468d]

2009-04-30  Thomas Huth

	* src/falcon/dsp.c:
	Made dsp.c compilable again when ENABLE_DSP_EMU is not set
	[eb140e8c06a2]

	* src/gui-osx/PrefsController.m:
	Made OS X Prefs compilable again (fixed issue with sound playback
	frequency variable).
	[5f6030a47474]

	* src/gui-sdl/dlgFileSelect.c:
	Use PATHSEP instead of hard-coded (forward) slash.
	[bbbe5262222c]

2009-04-30  Eero Tamminen

	* doc/release-notes.txt:
	add more things into devel version release notes
	[e58c5b92462a]

	* doc/authors.txt:
	list Laurent's and Kenneth's latest work in authors.txt
	[c7e916e675b8]

2009-04-29  Eero Tamminen

	* src/debugui.c:
	DSP disasm completed, remove TODO
	[40db54c671f3]

2009-04-29  Laurent Sallafranque

	* src/falcon/dsp_core.c, src/falcon/dsp_cpu.c:
	temporary fix : remove stack pointer management to let Build in
	Obsolescence "run". It bugs anyway.
	[38250a0a4700]

	* src/falcon/dsp_core.c:
	Bug corrected in defines for debugging mode + added
	DSP_DISASM_HOSTCVR for host commands.
	[80d6bb442f92]

	* src/falcon/dsp_disasm.c:
	dsp disasm : change the way traces are displayed. We now display
	"pc: opcode disassembled_instruction"
	[3ddae76bdf78]

2009-04-28  Laurent Sallafranque

	* src/falcon/dsp_cpu.c:
	fixed register masking in parallal move + A and B registers in BCHG,
	BCLR, BSET, BTST, JCLR, JSCLR, JSEt, JSSET + code optimisations. At
	least 2 more demos are working : HMMMM and _ demo.
	[33fb845310f5]

2009-04-26  Eero Tamminen

	* src/debugui.c, src/falcon/dsp.c, src/falcon/dsp.h:
	make DSP disassembly continue work, use consistent CamelCaps
	[6d51f52d5174]

2009-04-26  Laurent Sallafranque

	* src/falcon/dsp.c, src/falcon/dsp_disasm.c, src/falcon/dsp_disasm.h:
	dsp.c added : use of dsp_disasm instruction length to disasemble
	correctly the memory.
	[15efd8208354]

	* src/debugui.c, src/falcon/dsp.c, src/falcon/dsp.h,
	src/falcon/dsp_disasm.c:
	compil bug correction + added instruction length in DSP disasm code
	[0f4b1d578fa8]

	* src/debugui.c:
	Added : DSP debug dd command.
	[3e115632ea82]

2009-04-26  Thomas Huth

	* src/control.c, src/uae-cpu/build68k.c, src/uae-cpu/gencpu.c:
	Fixed compiler warnings about ignored return values.
	[d8bc37558f2c]

	* src/audio.c, src/change.c, src/configuration.c, src/dmaSnd.c, src
	/gui-sdl/dlgSound.c, src/includes/audio.h,
	src/includes/configuration.h, src/options.c, src/sound.c,
	src/wavFormat.c:
	Directly save audio frequency in configuration structure instead of
	saving an index into a fixed table. This way it will be easier to
	support more frequencies later.
	[485575733677]

2009-04-26  Eero Tamminen

	* doc/hatari.1, doc/manual.html:
	add --run-vbls to documentation + a section on performance measuring
	[359af9c50fbe]

	* src/includes/main.h, src/main.c, src/options.c, src/statusbar.c:
	add simple support for Hatari performance measuring:
	- count VBLs when fast-forward is used; output speed when Hatari's
	paused
	- add option to exit Hatari after given number of VBLs is reached
	- remove frame-skip max limit (useful with above when skip=VBLs)
	[4cbfe65d3781]

2009-04-23  Eero Tamminen

	* doc/memory-usage.txt:
	updated memory usage doc to latest Hatari
	[177a5c87d1a6]

	* doc/compatibility.html:
	sonol. demo works, tron2 doesn't always start with dsp
	[e5816e3aeb2e]

2009-04-22  Laurent Sallafranque

	* src/falcon/dsp_core.c:
	compil error in DSP trace mode fix
	[f88ccb556db4]

	* src/falcon/dsp_cpu.c:
	Fixed again SR register restoring after a DO loop.
	[da485562a661]

	* src/falcon/dsp_cpu.c:
	bug fixed in SR restoring at end of do loop. Only bit LF must be
	restored.
	[3091cb3404e7]

2009-04-21  Laurent Sallafranque

	* src/falcon/dsp_core.h, src/falcon/dsp_cpu.c, src/falcon/dsp_cpu.h:
	Fixed stack pointer (push, pull and exception). When dream become
	reality demo now works.
	[a0eb8a9a442d]

2009-04-19  Eero Tamminen

	* src/debugui.c:
	address increase TODOs for DSP stubs
	[e2d160b1ca5f]

	* src/debugui.c:
	get rid of compiler warnings and isRange boolean
	[244f68fd27fe]

	* src/debugui.c, src/falcon/dsp.c, src/falcon/dsp.h:
	parse DSP addresses for DSP debugger stubs:
	- generalize range parsing to a new parseRange() function
	- add range parsing to DSP stubs
	- improve the parsing error and DSP stubs TODO messages a bit
	- in the stubs check whether DSP is enabled
	- add new DSP_GetPC() function for the DSP disassemly stub
	- add example for outputting DSP regs/disasm/memdump on debugger
	invoking
	[2add94104300]

2009-04-19  Laurent Sallafranque

	* src/falcon/dsp_disasm.c:
	fixed move and movem in debugger + code optimization
	[110b67c90449]

2009-04-19  Eero Tamminen

	* src/debugui.c:
	add stubs for DSP debugging commands
	[0d94c937e429]

	* src/debugui.c:
	trivial debugger enhancements:
	- simplify memdumping code by allowing a default address for it
	- add example+comment for setting disasm/memdump address and
	outputting them whenever debugger is invoked
	- do default log setting only once per session
	[192592ffeac6]

	* doc/compatibility.html:
	Quickly tested most of the Falcon games & updated info:
	- moved Capy under TT as it's (supposed) to work there too
	- hexagon and cavemania regressed
	- added info on sound to many games
	- added gemplay & great programs
	- other updates
	[d63bb60fa2f3]

2009-04-18  Laurent Sallafranque

	* src/falcon/dsp_cpu.c, src/falcon/dsp_disasm.c:
	Fixed A and B registers tests in functions xxx_reg( (like
	jsclr_reg). Solonuminezcenz demo is full working now.
	[fe321b769ef9]

2009-04-18  Eero Tamminen

	* doc/compatibility.html:
	Several games and demos started working with Laurent's latest
	update. Checked which (DSP needing) games/demos have working sound
	with Thomas' DSP/sound support addition.
	[0bddb4f9f0ff]

2009-04-17  Eero Tamminen

	* doc/compatibility.html:
	Compatibility list updates for Laurent's DSP/sound fixes
	[364de6bf79a6]

2009-04-17  Laurent Sallafranque

	* src/falcon/dsp.c, src/falcon/dsp_core.c, src/falcon/dsp_core.h:
	Some SSI Code cleaning.
	[1f674c43c267]

	* src/falcon/dsp_core.c, src/falcon/dsp_core.h, src/falcon/dsp_cpu.c:
	Double buffering of HostPort Transmit and Receive (TXhml, RXhml,
	HTX, RTX). Sonoluminezcenz fractal mountains are working now.
	[e27c36526cc6]

2009-04-17  Eero Tamminen

	* src/options.c:
	update descriptions for IDE and GEMDOS hd emu options.
	[389d6c01d98b]

	* src/dmaSnd.c:
	*DspOut* variables don't need to be global
	[c08f8d3fd91d]

2009-04-15  Thomas Huth

	* src/falcon/videl.c:
	Added Videl horizontal fine scrolling for 16 bpp and 32 bpp.
	[dd88e7c3a694]

	* src/falcon/videl.c:
	Use default target color depth instead of always 8 bpp for Videl
	emulation.
	[e69fdef33e90]

	* src/falcon/hostscreen.c:
	Fixed Dprintf debugging statements
	[55c6249a7382]

	* src/falcon/hostscreen.c, src/falcon/hostscreen.h,
	src/falcon/videl.c:
	Moved bitplaneToChunky funtion to videl.c and made it static so that
	compiler can optimize better.
	[2d3f670f6a47]

2009-04-14  Laurent Sallafranque

	* src/falcon/dsp.c, src/falcon/dsp_core.c, src/falcon/dsp_core.h,
	src/falcon/dsp_cpu.c, src/falcon/dsp_cpu.h:
	remove of threaded code.
	[acee96cea84e]

2009-04-13  Thomas Huth

	* src/falcon/dsp_core.h, src/falcon/dsp_cpu.c:
	Moved the pc_on_rep variable into the dsp_core_t structure.
	[742e4ae7b735]

2009-04-12  Thomas Huth

	* src/falcon/Makefile:
	Fixed build with DSP disabled (ENABLE_DSP_EMU=0)
	[28cf22dd3723]

	* src/falcon/Makefile, src/falcon/dsp.c, src/falcon/dsp.h:
	Replaced DSP_EMULATION macro with ENABLE_DSP_EMU
	[99a16773d922]

	* src/falcon/hostscreen.c:
	Forgot to remove some remains from araglue.h ...
	[fc9d076344be]

	* src/dmaSnd.c, src/falcon/dsp.c, src/falcon/dsp.h,
	src/falcon/dsp_core.c, src/falcon/dsp_core.h, src/memorySnapShot.c:
	DSP state is now saved to the memory snapshots, too. Also moved to
	the SSI struct variable into the dsp_core_s structure so that it can
	be accessed from outside of dsp_core.c, too (needed for saving the
	SSI data to the snapshots).
	[8c39afe317e1]

	* src/gemdos.c, src/memorySnapShot.c:
	Fixed memory snapshot which was broken by new multiple GEMDOS
	partitions code.
	[e15d761298ff]

	* src/gemdos.c:
	Fixed bug in the new single-/multi-partition detection code.
	[e06154edd641]

	* src/falcon/hostscreen.h:
	Removed obsolete file araglue.h
	[b5601cbe997e]

	* src/falcon/araglue.h, src/falcon/dsp.c, src/falcon/nvram.c:
	Removed obsolete file araglue.h
	[e611b8cbe1f9]

	* src/falcon/dsp.c:
	Added proper Doxygen-like function comments.
	[36f91f5658e0]

	* src/gemdos.c, src/includes/configuration.h:
	Detect GEMDOS HDD single-/multi-partition mode automatically.
	[b96e8ea06788]

2009-04-11  Thomas Huth

	* src/falcon/dsp_core.c:
	Shift DSP SSI data according to word size. First DSP based sound
	applications are working now (e.g. DSP MOD player from bITmASTER)!
	[b3f12c4333ae]

2009-04-10  SÃ©bastien Molines

	* src/gui-osx/SDLMain.m, src/gui-osx/Shared.h, src/gui-osx/Shared.m,
	src/gui-sdl/dlgAlert.c:
	MacOS: Made alerts always display in Cocoa rather than SDL
	[a50ff16197d4]

	* src/gui-osx/PrefsController.h, src/gui-osx/PrefsController.m, src
	/gui-osx/SDLMain.nib/classes.nib, src/gui-osx/SDLMain.nib/info.nib,
	src/gui-osx/SDLMain.nib/keyedobjects.nib:
	MacOS: Added IDE HD control in prefs window
	[c40460cd7f9c]

2009-04-10  Thomas Huth

	* src/uae-cpu/hatari-glue.c:
	Sourcecode beautification
	[2df2f71e4ad6]

	* src/gemdos.c, src/includes/configuration.h, src/includes/gemdos.h,
	src/stMemory.c, src/tos.c, src/uae-cpu/hatari-glue.c:
	Patch #2713 : Multiple GEMDOS HDD Drives. GEMDOS HD emulation can
	now support multiple partitions. It's still disabled by default, set
	MAX_HARDDRIVES in configuration.h to 23 to enable it. Thanks to K.V.
	Kaufman for the original version of this patch!
	[673d3403389a]

	* src/scandir.c:
	Fixed bug in scandir() on Windows. Thanks to K.V. Kaufman for the
	patch.
	[bb7f0c96b4e9]

	* src/gemdos.c:
	Cleaned up superfluous white spaces
	[0e912a3c92fc]

2009-04-10  SÃ©bastien Molines

	* src/falcon/dsp.c:
	Fixed build break when DSP_EMULATION is not defined
	[ee98a33b3cfd]

	* Hatari.xcodeproj/project.pbxproj, src/gui-
	osx/SDLMain.nib/classes.nib, src/gui-osx/SDLMain.nib/info.nib, src
	/gui-osx/SDLMain.nib/keyedobjects.nib:
	MacOS: Updated XCode project, updated prefs dialog to open on 1st
	tab and tidied it up
	[d6e0b25bc9af]

2009-04-10  Thomas Huth

	* src/dmaSnd.c:
	Mix SSI transmit samples into sound output buffer.
	[3dca3a59b329]

	* src/falcon/dsp.c, src/falcon/dsp.h, src/falcon/dsp_core.c,
	src/falcon/dsp_core.h:
	Added interface for reading SSI TX values.
	[cb2fa4943666]

	* src/falcon/dsp_cpu.c:
	Silenced compiler warnings
	[f9167210ffcd]

2009-04-08  Laurent Sallafranque

	* src/falcon/dsp_cpu.c:
	dsp : bug correct in fast interrupt. HMMM runs better (but still not
	displays correctly)
	[46f637376808]

2009-04-07  Laurent Sallafranque

	* src/falcon/dsp_core.c, src/falcon/dsp_cpu.c:
	dsp : 2 bugs corrected in dsp_jsclr and jsset + 1 bug in ssi code
	(frame divider value must be incremented by 1) + some code clean up
	[90a64f433863]

	* src/falcon/dsp_core.c, src/falcon/dsp_cpu.c,
	src/falcon/dsp_disasm.c:
	rewrite of dsp opcode decoder and split of many function to increase
	dsp speed
	[78197ae22e38]

2009-04-02  Nicolas Pomarede

	* doc/compatibility.html:
	Update note for "No Buddies Land".
	[329260f894dc]

	* src/video.c:
	Add support for another empty line method by switching res hi/lo
	(fix the game No Buddies Land)
	[142371d9c9ff]

2009-04-02  Eero Tamminen

	* src/includes/log.h:
	VC6 fixes from Kenneth for tracing (VC6 doesn't support C99 /
	variadic macros)
	[a25a16dbe505]

	* Visual.Studio/VisualStudioFix.c:
	VC6 fixes from Kenneth for tracing
	[76cdc8784edf]

2009-04-01  Laurent Sallafranque

	* src/dmaSnd.c, src/falcon/dsp_core.c, src/falcon/dsp_core.h,
	src/falcon/dsp_cpu.c:
	First implement of SSI transmit data in network mode. Few more
	programs which were freezing at startup are running now. Still lot's
	of code to write.
	[a21c20b09575]

2009-03-31  Eero Tamminen

	* doc/authors.txt:
	Move Laurent to developers, add Kenneth as contributor, fix my
	email.
	[3244dad9af5f]

2009-03-30  Laurent Sallafranque

	* src/falcon/dsp_cpu.c:
	Rework of DSP alu opcode decoder to increase speed
	[c4a1d65f20ec]

2009-03-30  Thomas Huth

	* src/gui-sdl/dlgJoystick.c, src/gui-sdl/dlgScreen.c, src/gui-
	sdl/dlgSystem.c, src/int.c, src/joy.c, src/shortcut.c:
	Uses enum types instead of normal integers. (Thanks to K.V. Kaufman
	for the patch)
	[eea95cfa165d]

	* src/keymap.c:
	Fixed simulated SHIFT key modifier. (Thanks to K.V. Kaufman for the
	patch)
	[db54d1f88296]

	* src/Makefile:
	Fixed Makefile for building with MinGW.
	[77d5f466a555]

2009-03-29  Laurent Sallafranque

	* src/falcon/dsp_core.c, src/falcon/dsp_core.h, src/falcon/dsp_cpu.c:
	added first (still empty) functions and code for SSI support
	[9befc816c6cb]

2009-03-29  Thomas Huth

	* doc/compatibility.html:
	Patch Timer-D must be disabled for Jambala
	[868da09ca56e]

2009-03-28  Thomas Huth

	* src/change.c:
	Reset when changing IDE hard disk images
	[e2930480f92d]

	* website/index.html:
	Fixed typo in the text of the website. (Thanks to Christoph Fritz
	for the patch)
	[9258fca627d5]

	* src/gui-sdl/Makefile, src/gui-sdl/dlgDisk.c, src/gui-
	sdl/dlgFloppy.c, src/gui-sdl/dlgHardDisk.c, src/gui-sdl/dlgMain.c,
	src/includes/dialog.h:
	Split disk dialog into two, one dialog for floppies and one for hard
	disks. This way there was now enough space in the hard disks dialog
	to add configuration entries for the IDE hard disk image, too.
	[6cda61c854d4]

	* src/gui-sdl/dlgMain.c:
	Reworked main dialog to gain additional space for new buttons.
	[4d336694d3b2]

2009-03-28  Nicolas Pomarede

	* doc/compatibility.html, doc/release-notes.txt, src/includes/video.h,
	src/mfp.c, src/video.c:
	When timer B is in event count mode, add support for start of line
	events. This very rare mode depends on MFP's AER and allows to
	trigger a signal when display starts on each active line. (fix Seven
	Gates Of Jambala by Thalion)
	[d72baab75803]

	* src/includes/log.h, src/log.c:
	Add 'io_all' option for --trace
	[5101bbc00845]

2009-03-27  Thomas Huth

	* src/dmaSnd.c, src/includes/dmaSnd.h, src/includes/int.h, src/int.c:
	Added framework for DSP transmit timer.
	[b381efcab1f8]

	* src/dmaSnd.c, src/includes/log.h, src/log.c:
	Added tracing support for DMA / Falcon sound.
	[fedb06eefb3c]

2009-03-26  Thomas Huth

	* src/dmaSnd.c, src/includes/dmaSnd.h, src/ioMemTabFalcon.c:
	Added (still empty) wrapper functions for Falcon sound subsystem.
	[dc2892aa3ecb]

2009-03-25  Laurent Sallafranque

	* src/falcon/dsp_core.c, src/falcon/dsp_core.h, src/falcon/dsp_cpu.c:
	DSP interrupts code optimisations.
	[c6567e2a430d]

2009-03-25  Eero Tamminen

	* doc/manual.html:
	more info on HD drivers. Instead of HTML list, have separate
	sections for Mtools and loop device HD image host access.
	[ec68ff8f75cb]

2009-03-24  Eero Tamminen

	* tools/atari-hd-image.sh:
	major hd image creation updates:
	- use "sfdisk" instead of "parted" as for that the partition type
	can be specified exactly (DOS FAT16, not VFAT)
	  -> partitions are now compatible with Cecile
	- Create files originally as sparse to reduce disk churn
	- More error checks and verbosity
	- minimum working disk size can be 5MB
	[51eadd98f313]

2009-03-23  Thomas Huth

	* doc/manual.html:
	Corrected some typos
	[757012e03486]

2009-03-22  Eero Tamminen

	* doc/compatibility.html, doc/emutos.txt:
	Added a couple of working and non-working (Falcon) games.
	[d3c5fcbeb10b]

	* doc/manual.html:
	move GEMDOS HD emu first, add new section on accessing HD image on
	Linux as the last section on hard disk support.
	[fb998e979134]

	* doc/emutos.txt:
	2 gem games to emutos list
	[03b30cca2ffb]

2009-03-21  Eero Tamminen

	* tools/atari-hd-image.sh:
	check that disk size is sensible, align partition size for mtools
	[0d219ec5e708]

2009-03-20  Thomas Huth

	* src/ide.c:
	Removed debugging code (not required anymore).
	[4bb75a9aea2c]

	* tools/atari-hd-image.sh:
	Use 'mklabel' command instead of 'mktable' for older versions of
	'parted'.
	[1b523b07b50b]

	* doc/compatibility.html:
	Added Jaguar XJ220 to compatibility list
	[ca8082ecc121]

	* tools/zip2st.sh:
	zip2st script does not need 'rename' anymore
	[321dad1bcaa5]

2009-03-18  Eero Tamminen

	* tools/atari-hd-image.sh:
	better variable names + partition size sanity check
	[e5363b15af0b]

	* tools/atari-hd-image.sh:
	add HD image creation usage examples
	[9795b4918314]

	* Makefile:
	more informative Makefile error messages
	[c3a77387e34a]

2009-03-18  Laurent Sallafranque

	* src/falcon/dsp_cpu.c:
	dsp code synch with aranym
	[b8144299f76e]

	* src/falcon/dsp_cpu.c:
	fix for update Rn with modulo : Modulo mode must take care of
	multiple buffers when Nx register = modulo
	[8be9b7fbe77a]

2009-03-18  Eero Tamminen

	* tools/atari-hd-image.sh, tools/zip2st.sh:
	support POSIX shell syntax subset implemented by Ubuntu's Dash shell
	[5015f10733e7]

2009-03-16  Thomas Huth

	* .hgignore:
	Added 'missing' file to ignore list.
	[68e3d5f82aac]

	* config-default.h, configure.ac, src/file.c:
	Added test for availability of select() function
	[f8163f4167b1]

	* Makefile-default.cnf, config-default.h, src/file.c:
	Some changes for compiling Hatari on the Wii. (based on the patch
	from Yohanes)
	[1fb906d9e8e0]

	* src/Makefile:
	Ensure that Makefile.cnf exists before trying to compile anything.
	[3361c2e9f336]

2009-03-15  Thomas Huth

	* src/falcon/hostscreen.c, src/falcon/hostscreen.h:
	Removed unused code and cleaned up.
	[fa79930577df]

	* src/gui-sdl/dlgAlert.c, src/gui-sdl/dlgDevice.c, src/gui-
	sdl/dlgDisk.c, src/gui-sdl/dlgFileSelect.c, src/gui-
	sdl/dlgJoystick.c, src/gui-sdl/dlgKeyboard.c, src/gui-
	sdl/dlgNewDisk.c, src/gui-sdl/dlgRom.c, src/gui-sdl/dlgScreen.c, src
	/gui-sdl/dlgSound.c, src/gui-sdl/dlgSystem.c, src/gui-sdl/sdlgui.c,
	src/main.c, src/psg.c, src/reset.c, src/rs232.c, src/rtc.c,
	src/scandir.c, src/screen.c, src/screenSnapShot.c, src/shortcut.c,
	src/sound.c, src/spec512.c, src/st.c, src/statusbar.c, src/str.c,
	src/tos.c, src/uae-cpu/build68k.c, src/uae-cpu/fpp.c, src/uae-
	cpu/gencpu.c, src/uae-cpu/memory.c, src/uae-cpu/readcpu.c,
	src/unzip.c, src/utils.c, src/vdi.c, src/xbios.c, src/ymFormat.c:
	Replaced obsolete RCS IDs
	[8916d1d5cd6b]

2009-03-15  Laurent Sallafranque

	* src/falcon/dsp_disasm.c:
	Sync DSP disasm code from aranym
	[a577781adf90]

2009-03-13  Thomas Huth

	* src/falcon/dsp_cpu.c:
	Missing type for parallel move 0
	[66bd06d31f37]

2009-03-12  Eero Tamminen

	* doc/emutos.txt:
	4gewinnt compatible with EmuTOS
	[58630f745787]

	* doc/compatibility.html:
	Parallel move fix fixes grid on DSP JPEG decoded images.
	[2b4a84c8a194]

	* src/falcon/dsp_cpu.c, src/falcon/dsp_disasm.c:
	sync parallel move fix from aranym.
	[15e357b4268c]

	* src/falcon/dsp_cpu.c:
	Sync interrupt functions simplification from aranym. Includes also
	hi interrupt host transmit/receice data interrupt updates.
	[a857126fca79]

	* src/falcon/dsp_cpu.c:
	Sync read_memory*() functions simplification from aranym.
	[659477db055a]

2009-03-11  Thomas Huth

	* src/falcon/dsp_cpu.c:
	dsp56k: Deal with the JMP in interrupt case
	[34204469420b]

	* src/falcon/dsp_cpu.c, src/falcon/dsp_disasm.c:
	dsp56k: Fix case for a X:R parallel move which has nearly same
	opcode as MOVEP
	[9777bfde0486]

2009-03-10  Eero Tamminen

	* doc/compatibility.html:
	Papa Was a Bladerunner uses DSP
	[baa3bee4d5c0]

2009-03-08  Eero Tamminen

	* doc/compatibility.html:
	Falcon demo sorting by group like elsewhere. Minor corrections to
	group names from pouet.net.
	[2f5fb3035a18]

	* doc/compatibility.html:
	more falcon demos
	[e8ee852712a6]

2009-03-07  Eero Tamminen

	* doc/compatibility.html, doc/emutos.txt:
	Add more TT demos & organize them like other demos. Couple of other
	minor updates too.
	[3bc8a8da185d]

2009-03-04  Thomas Huth

	* Visual.Studio/VisualStudioFix.c:
	Patch #2689: The main() handling on Visual Studio needs some more
	minor tweaks.
	[70e4fef0ded3]

2009-03-04  Eero Tamminen

	* tools/atari-hd-image.sh, tools/zip2st.sh:
	Show user what scripts are doing, do cleanup in exit handler (exit
	handler is able to do cleanup also in error cases). Also, create
	harddisk image with single "parted" command.
	[fff8a2c3543c]

	* tools/atari-hd-image.sh:
	add initial script for creating a harddisk image
	[483b197df7f0]

2009-03-03  Thomas Huth

	* src/gui-sdl/dlgAbout.c:
	Center program name in title dialog
	[0611bc9eec2b]

	* src/sound.c:
	Cleaned up white spaces.
	[84ceddf1abbb]

2009-03-01  Eero Tamminen

	* src/falcon/dsp_cpu.c:
	separate read_memory_p() function for reading DSP_SPACE_P memory
	addresses to improve performance.
	[3683d7d0ffef]

2009-03-01  Thomas Huth

	* src/falcon/dsp_cpu.c:
	Fixed scaling mode tests
	[6dae8244f236]

	* src/falcon/dsp_cpu.c:
	dsp56k: RND instruction properly used with scaling modes. (fix from
	Laurent Sallafranque)
	[c4424c71be8d]

	* doc/compatibility.html:
	Added Exterminator and No Buddies Land
	[991275dcf8be]

2009-02-28  Thomas Huth

	* tools/zip2st.sh:
	No need to change file names to uppercase when using
	MTOOL_NO_VFAT=1. Mtools can be instructed to _not_ create VFAT
	entries by setting the MTOOL_NO_VFAT environment variable.
	[aa612eb9ed6a]

	* Visual.Studio/VisualStudioFix.c, src/main.c:
	Added WinMain handling
	[0babecf01f61]

	* Visual.Studio/VisualStudioFix.c, Visual.Studio/VisualStudioFix.h:
	Updated file header with license information
	[7c1d62fe72b8]

	* config-default.h:
	Include VisualStudio.h in default config.h
	[e05fedb3dc6d]

	* Visual.Studio/VisualStudioFix.c, Visual.Studio/VisualStudioFix.h:
	Added files for compiling with Visual-C. Thanks to Kenneth Kaufman
	for the patch!
	[358e51279a85]

	* src/falcon/dsp.c:
	Assert that dsp_core is always initialized, also without explicit
	reset.
	[74e9f851778f]

2009-02-27  Nicolas Pomarede

	* src/includes/video.h, src/video.c:
	Support 0 byte line when switching hi/lo res on STE (different
	timing than STF) (fix Lemmings screen in Nostalgic-o-demo)
	[57654482b592]

2009-02-27  Thomas Huth

	* src/falcon/dsp_disasm.c:
	Merged DSP disassembler changes from Aranym repository:
	- Fix register update in parallel move
	- We really don't care about count on same instruction
	[16c96a901960]

2009-02-25  Thomas Huth

	* src/falcon/dsp_cpu.c:
	Small optimization for DSP movec instruction. The sixth bit is
	always set in the movec instructions, so the code can be simplified
	a little bit. Thanks to Laurent for the hint!
	[a696a1a8b125]

2009-02-25  Nicolas Pomarede

	* src/video.c:
	Correct missing end of line timer B interrupt in the case where
	display is stopped with a hi/lo switch. (fix flickering raster in
	Dragon Ball part in Blood disk 2 by Holocaust).
	[f8bd1e7d7f89]

2009-02-25  Eero Tamminen

	* src/falcon/dsp_core.c, src/falcon/dsp_core.h:
	make dsp_core_dsp2host & dsp_core_host2dsp static, they're used only
	in dsp_core.c.
	[15d7f006ad8c]

2009-02-24  Thomas Huth

	* src/falcon/dsp_cpu.c:
	Optimized dsp_movec() a little bit. (Thanks to Laurent for the
	patch)
	[4cf2cde1293f]

	* src/falcon/dsp_core.c, src/falcon/dsp_core.h, src/falcon/dsp_cpu.c:
	Removed SCI code (not used on Falcon) and cleaned code. Thanks to
	Laurent Sallafranque for the patch!
	[dd8699967ab6]

2009-02-22  Eero Tamminen

	* doc/emutos.txt:
	tested new Falcon stuff with EmuTOS
	[9896a6714d19]

2009-02-22  Thomas Huth

	* src/falcon/dsp_cpu.c:
	dsp56k: write_memory functions use 16 bits addressing, no need to
	mask or use 32 bits value
	[075525d24a35]

2009-02-22  Matthias Arndt

	* src/joy.c:
	Tabified joy.c again
	[a9c85f1a86e4]

2009-02-22  Thomas Huth

	* src/falcon/videl.c:
	Mask out unused bits of the resolution registers instead of clipping
	the resolution artificially.
	[4e96540d6f0a]

	* src/falcon/dsp_cpu.c:
	Some trivial optimizations to the read_memory and write_memory
	functions.
	[2fcdff19bec0]

	* .hgignore, src/Makefile, src/falcon/Makefile, src/gui-sdl/Makefile,
	src/gui-win/Makefile:
	Always execute "make" in the sub-folders. So far the sub-folders
	were only entered by make when one of the *.c files changed. Now
	they are always tested, to be able to re-built files also when there
	has been a change to a header file. To ease this built environment,
	all object files are now linked into an archive in the subfolders.
	[b4f4dfd39802]

	* src/falcon/dsp_core.c:
	Remove FORCE_EXEC hack, should buffer host interface transfers
	instead
	[b79513012415]

	* src/falcon/dsp_core.c, src/falcon/dsp_core.h, src/falcon/dsp_cpu.c:
	dsp56k: Use function pointers also for checking semaphore
	[682ba84ac738]

2009-02-22  Nicolas Pomarede

	* src/includes/m68000.h, src/mfp.c, src/uae-cpu/newcpu.c, src/video.c:
	Add better traces for timer B in event count mode.
	[fb8e82c80bd3]

2009-02-21  Eero Tamminen

	* doc/compatibility.html:
	add couple of falcon games & demos more and update others
	[8b0cde312a35]

2009-02-21  Thomas Huth

	* src/change.c:
	Re-initialize the IDE subsystem if necessary. Thanks to Jerome
	Vernet for the patch.
	[b95cde21b946]

	* src/configuration.c:
	Save the IDE settings to the configuration file, too. Thanks to
	Jerome Vernet for the patch.
	[f744bbb4ac7f]

2009-02-21  Eero Tamminen

	* doc/compatibility.html:
	added couple of falcon demos and names for all groups
	[45f2172dcf0c]

2009-02-20  Eero Tamminen

	* src/change.c:
	cosmetic: do both DSP checks the same
	[70bc76957815]

	* src/statusbar.c:
	fix assert. SDL_Gui decides font size based on screen+statusbar
	height
	[d79c80f86339]

2009-02-19  Matthias Arndt

	* src/configuration.c, src/includes/configuration.h,
	src/includes/joy.h, src/joy.c:
	Small joystick handling patch

	- added constants ATARIJOY_BITMASK_UP etc to make code more readable
	- added configuration option bEnableJumpOnFire2 per joystick
	- Joystick button 2 can now optionally act as JOY UP instead of
	pressing SPACE
	[89c331db884f]

2009-02-18  Eero Tamminen

	* doc/compatibility.html:
	couple of additional (non-working) demos
	[b0f616c85378]

2009-02-17  Eero Tamminen

	* doc/compatibility.html:
	added links to rest of falcon demos and checked their DSP
	compatibility
	[91905b9790b0]

	* doc/compatibility.html:
	more links, demo name corrections
	[d19786f4718d]

2009-02-16  Eero Tamminen

	* doc/compatibility.html:
	added some links, newbeat apps work now better with DSP
	[b8f50848009c]

2009-02-14  Thomas Huth

	* src/falcon/dsp.c, src/falcon/dsp_core.c, src/falcon/dsp_core.h,
	src/falcon/dsp_cpu.c, src/falcon/dsp_cpu.h:
	Merged changes from Aranym: Add flag to run with/without thread
	[61c488b6ec0b]

	* src/scandir.c:
	INVALID_HANLDE_VALUE is already defined in winbase.h on MinGW, too,
	so there is no need to re-define it.
	[a5895e8ff0b4]

	* src/falcon/hostscreen.c, src/falcon/videl.c:
	Added some sanity screen size checks to the VIDEL emulation.
	[1f28cff55246]

	* src/falcon/dsp.c:
	Temporary hack to get ROT3DBMP.PRG and BOUND2.PRG running, too.
	[fe93c308cea1]

2009-02-13  Eero Tamminen

	* doc/compatibility.html:
	updated games/demos that work (better) with latest DSP upates
	[64a84148af16]

2009-02-13  Thomas Huth

	* src/change.c:
	Only re-initialize the DSP if really necessary
	[4e564f30474e]

	* src/falcon/dsp_core.c, src/falcon/dsp_core.h, src/falcon/dsp_cpu.c:
	More DSP patches by Laurent Sallafranque.
	- Changed C++ comments to normal C style
	- Removed some debugging code
	- Preparation of the functions for DMA, SSI and SCI
	[f41a8b6f3495]

2009-02-12  Thomas Huth

	* src/falcon/dsp.c, src/falcon/dsp.h, src/falcon/dsp_core.c,
	src/falcon/dsp_core.h, src/uae-cpu/newcpu.c:
	Glued the new single-threaded DSP code to the 68k CPU emulation
	[4ff8fe7b11b7]

	* src/falcon/dsp_core.c, src/falcon/dsp_cpu.c:
	Fixed compiler warnings
	[429ca01bc56d]

	* src/falcon/dsp_cpu.c:
	Sourcecode beautification: Changed indentation in dsp_add56 and
	dsp_sub56
	[f493646a1b4a]

	* src/falcon/dsp.c, src/falcon/dsp.h, src/falcon/dsp_core.c,
	src/falcon/dsp_core.h, src/falcon/dsp_cpu.c, src/falcon/dsp_cpu.h,
	src/falcon/dsp_disasm.c:
	Big bunch of DSP fixes from Laurent Sallafranque. DSP thread has
	been removed (will run from main thread), no more Mutex and
	Semaphores. This should help to get the host interface timing
	sensitive DSP programs working, too. Also added DSP interrupts.
	[c23aa941a486]

	* src/change.c:
	Reverted the last patch (argv can remain const char **) and applied
	a proper fix for the problem (free() takes a void* as argument)
	[00d7933c3b6a]

2009-02-13  Nicolas Pomarede

	* src/rs232.c:
	Fix crash 'division by 0' when timer D data register $fffa25 is 0
	and rs232 is enabled. A data value of 0 should be interpreted as 256
	(same as in mfp.c)
	[2b92a014c1f5]

2009-02-11  Eero Tamminen

	* src/file.c:
	use matching return type
	[bf0e678ff536]

	* src/mfp.c:
	int -> interrupt_id in mfp.c functions calling interrupts
	[430b4c04dff2]

2009-02-10  Eero Tamminen

	* src/gemdos.c:
	remove redundant code, check for missing PATHSEP
	[8ed54bb0e952]

	* src/gemdos.c:
	"new" is reserved word in C++
	[6feceb34afa2]

	* src/msa.c:
	use SDL types in msa.c like code elsewhere does
	[6dc1cfa5d394]

	* src/scandir.c:
	replace ifdef with TODO. Code should include correct header,
	whatever that is for Windows.
	[02aa27df94a4]

	* src/gemdos.c, src/scandir.c:
	move INVALID_HANDLE_VALUE where it's needed (Windows code) and
	define it only if needed (Cygwin, not VC?).
	[4e1303932aa5]

2009-02-08  Nicolas Pomarede

	* doc/todo.txt:
	Add note for spec512 mode in mid res.
	[b3af44cf67af]

	* src/includes/video.h, src/uae-cpu/newcpu.c, src/video.c:
	Handle a very rare case of simultaneous HBL exceptions. If a pending
	HBL triggers an exception because SR becomes < $2200, then any new
	HBL signal occuring during the 56 first cycles used by the 68000 to
	prepare the exception for this pending hbl should be ignored. (fixes
	top border flickering in Monster Business and colors flickering in
	Super Monaco GP)
	[07bf4fcf2013]

2009-02-08  Thomas Huth

	* src/spec512.c:
	Fixed Spec512 palette bug that occured when CurrentInstrCycles were
	not a multiple of 4. This fixes the color bugs in the scroller
	screen of the Fuzion CD 02.
	[866e81cb0327]

2009-02-07  Thomas Huth

	* src/gui-sdl/Makefile:
	Extend list of include paths so that gui-sdl files can find
	config.h, too.
	[c004ad225ff3]

	* src/file.c, src/ide.c, src/includes/control.h,
	src/includes/stMemory.h, src/memorySnapShot.c, src/paths.c,
	src/stMemory.c, src/zip.c:
	Cleaned up header file include statements. config.h is now included
	from main.h, so there is often no need anymore to include it
	directly from other files.
	[c5fb5114bb9c]

	* src/includes/main.h:
	Switched version string back to development string
	[3ba1a34c6fd6]

	* config-default.h:
	Define inline to __inline for Visual-C
	[51c6d792fc19]

	* src/change.c, src/falcon/araglue.h, src/falcon/dsp_core.c,
	src/file.c, src/gemdos.c, src/gui-win/hatari-winicon.rc, src/ide.c,
	src/includes/log.h, src/includes/main.h, src/main.c, src/paths.c,
	src/sound.c:
	Applied some patches from Kenneth Kaufman to make Hatari better
	compilable with Visual-C
	[353a1f354ce0]

	* src/falcon/dsp.c:
	Replaced call to non-existant function showPC with m68k_getpc()
	[f0c2dde0081e]

	* src/falcon/nvram.c:
	Do not redefine debug macro. The D(x) macro is already defined in
	araglue.h, so there is no need to redefine it in the nvram.c file.
	[badbfb72b03a]

	* src/falcon/dsp_cpu.c:
	Fixed parallel X: Y: move "Read S2" register access (thanks to
	Laurent Sallafranque for the patch)
	[30c192747154]

2009-02-04  Eero Tamminen

	* doc/emutos.txt, doc/manual.html:
	Update EmuTOS notes to new Hatari features, improve text
	[220bc2ddac37]

	* doc/manual.html:
	Add Thomas' IDE usage instructions to manual with some additional
	information.
	[916afea2024f]

	* src/psg.c, src/spec512.c, src/uae-cpu/newcpu.c:
	';;' -> ';' (clean out extra ';' characters)
	[5211af90b1e1]

2009-02-03  Thomas Huth

	* website/scrshots6.html:
	Added more DSP screenshots by Laurent Sallafranque
	[26405a8a4f18]

2009-01-31  Nicolas Pomarede

	* doc/release-notes.txt, src/includes/video.h, src/mfp.c, src/video.c:
	Handle a rare case where 'move.b #8,$fffa1f' to start the timer B
	overlaps the end of line signal. In the case where the write is made
	just a few cycles before the actual signal for end of line, we must
	ensure that the write was really effective before the end of line,
	else we should not generate a timer B interrupt for this line.
	(fixes Pompey Pirate Menu #57)
	[dbcb5752a40b]

2009-01-30  Thomas Huth

	* src/falcon/dsp_disasm.c:
	Replaced sprintf with strcpy to get rid of compiler warnings with
	newest GCC versions
	[4fb3ecf5a226]

	* src/hdc.c, src/includes/hdc.h:
	Added proper error checking for fwrite and fread in the HDC code.
	[56e19d4f070c]

	* src/wavFormat.c:
	Reworked WAV recording code. 1) Simplified the writing of the header
	structure. 2) Bytes per second value was wrong, it's fixed now. 3)
	Added proper return value checks for all calls to fwrite().
	[642e98bb94d8]

	* doc/todo.txt:
	Added DSP emulation TODOs by Laurent Sallafranque
	[36dbe6688153]

2009-01-29  Jean-Baptiste Berlioz

	* src/blitter.c:
	fix blitter_fileid and comments overwritten by mistake.
	[395c57c7e3ec]

2009-01-29  Eero Tamminen

	* configure.ac, src/control.c:
	Test SDL_config.h presense.

	If SDL_config.h is missing, just assume SDL doesn't support X11.
	[f9fcdb59f6a9]

	* src/control.c:
	SDL_config.h isn't always present, include it only if HAVE_X11
	defined
	[b083806536a6]

	* src/main.c:
	ignore all unnecessary events, not just joystick motion
	[b728a18285f0]

2009-01-28  Thomas Huth

	* src/debugui.c, src/paths.c:
	Check return values to avoid possible errors.
	[b01c62e8dc95]

	* website/news.shtml:
	Display the news from the BerliOS project page, too.
	[10ec838dae1f]

2009-01-28  Jean-Baptiste Berlioz

	* src/blitter.c:
	Fix blitter.c version.
	[b1f24941e3dc]

	* src/blitter.c:
	Improve blitter implementation and cycles counting.
	[86ca15e7a297]

2009-01-27  Eero Tamminen

	* doc/compatibility.html, doc/emutos.txt:
	links to TT demos + TT-highres slideshow. Updates
	[2bb9b1b5519d]

2009-01-26  Eero Tamminen

	* doc/compatibility.html:
	update
	[6433d756212f]

	* src/main.c:
	Process all motion events before returning from event handler.

	This way analog joystick movements don't slow down Hatari input
	event processing and emulated mouse behaves more responsively on
	slow machines (or e.g. under Valgrind).
	[1ca8ebe2324a]

2009-01-25  Eero Tamminen

	* src/control.c:
	X11 stuff isn't enough, SDL X11 videodriver is also needed
	[2da10bf03a1b]

2009-01-24  Nicolas Pomarede

	* src/video.c:
	Remove test code
	[b0ebc16ea81b]

	* src/video.c:
	Better detection of lines with 2 bytes removed on the right by
	switching to 60 Hz before the end of a 50 HZ line. Some old demos
	are not restoring 50 Hz immediatly (which could distort the image on
	some TV/monitor), but at the start of the next line (fixes menu in
	BBC 10 games compilation).
	[791a781c0083]

2009-01-24  Eero Tamminen

	* website/docs.html:
	alsa-midi.txt -> midi-linux.txt rename
	[c7832763f00f]

	* tools/hatari-local-midi-ring.sh:
	add usage example
	[d68cde3eff04]

	* doc/alsa-midi.txt, doc/midi-linux.txt:
	rename alsa-midi.txt to midi-linux.txt, add contents, better titles
	[af26b93db51a]

	* doc/images/devices.png, doc/manual.html:
	update manual devices section
	[32fabe424170]

2009-01-24 : *** Version 1.2.0 ***

2009-01-24  Thomas Huth

	* doc/release-notes.txt:
	Updated release-notes for version 1.2.0
	[cb68d9e26e92]

	* src/gui-sdl/dlgAbout.c:
	Adjusted About-dialog title (version number is longer nowadays)
	[a160c28cffca]

	* doc/authors.txt:
	Added Tobe to authors.txt
	[97109e1d79f6]

	* doc/local-hatari-midi-ring.sh, tools/hatari-local-midi-ring.sh:
	Moved MIDI ring shell script to tools folder
	[ec5ff5914128]

	* src/dialog.c, src/gui-sdl/dlgMain.c, src/gui-sdl/dlgMemory.c,
	src/includes/dialog.h:
	Fixed inappropriate "Emulator must be reset..." dialogs when loading
	memory snapshots. The dialogs occured when loading a memory snapshot
	with a different machine type than the previous one. To avoid these,
	the emulator must not do the normal configuration post-processing
	when loading a memory snapshot.
	[89be70b9fdff]

	* doc/todo.txt:
	Updated TODO list.
	[f595f5da4b71]

	* src/audio.c, src/bios.c, src/blitter.c, src/cart.c, src/cartData.c,
	src/cfgopts.c, src/configuration.c, src/control.c,
	src/createBlankImage.c, src/cycles.c, src/debugui.c, src/dialog.c,
	src/dim.c, src/dmaSnd.c, src/fdc.c, src/file.c, src/gemdos.c,
	src/hdc.c, src/ikbd.c, src/int.c, src/ioMem.c, src/ioMemTabFalcon.c,
	src/ioMemTabST.c, src/ioMemTabSTE.c, src/ioMemTabTT.c, src/joy.c,
	src/keymap.c, src/log.c, src/m68000.c, src/memorySnapShot.c,
	src/mfp.c, src/msa.c, src/options.c, src/paths.c, src/printer.c, src
	/uae-cpu/hatari-glue.c:
	Replaced the obsolete RCSIDs with new file-ID strings
	[4f62ef3707c1]

	* Info-Hatari.plist, src/gui-osx/English.lproj/InfoPlist.strings:
	Increased version number in the Mac OS X files to 1.2.0, too
	[02d5ef64a08e]

	* configure.ac, doc/doxygen/Doxyfile, hatari.spec, readme.txt,
	src/includes/main.h, src/memorySnapShot.c:
	Increased version number to 1.2.0
	[ab6a74b1f638]

	* src/falcon/dsp_cpu.c:
	dsp56k: Fix decoding for NORM instruction (thanks to Matthias
	Alles).
	[63d282ebc118]

2009-01-24  Nicolas Pomarede

	* src/psg.c:
	No need to test for 'movep', as this already implies byte access ;
	testing for SIZE_BYTE is enough.
	[60748ca51e0f]

2009-01-24  Thomas Huth

	* tools/hmsa/Makefile:
	Use LIBS from main Makefile.cnf
	[97710f162f97]

	* src/ide.c:
	Added memalign function for MinGW
	[a56f7d9fa956]

	* Makefile-MinGW.cnf, src/file.c:
	select() requires extra header and libws2_32 on MinGW
	[50d9c2f4e9e6]

2009-01-23  Eero Tamminen

	* doc/release-notes.txt:
	mention midi option change in release notes
	[936b6c375ed0]

2009-01-22  Nicolas Pomarede

	* src/video.c:
	Allow to mix low/mid res lines on the same screen when STE
	horizontal scroll is used
	[95ef7304d20a]

2009-01-21  Nicolas Pomarede

	* doc/release-notes.txt:
	Update release notes for 1.2
	[a6b349946167]

	* src/video.c:
	Implement STE horizontal scroll using $ff8264/65 for medium res too.
	(fixes cool_ste.prg from http://www.atari-
	forum.com/viewtopic.php?f=5&t=15795#p137656)
	[e0f04de6f8fe]

	* src/video.c:
	Update comment
	[bb75889b4563]

2009-01-21  Eero Tamminen

	* src/gui-sdl/dlgDisk.c, src/shortcut.c:
	fix potential zip_path leak
	[3e717d4e6d9c]

	* doc/compatibility.html, doc/manual.html:
	err, 1.2, not 1.3
	[443ddef9cbe7]

	* doc/hatari.1, doc/manual.html:
	update midi/rs232/ide option docs
	[b553686af78c]

	* doc/compatibility.html:
	version update: devel -> 1.2/1.3
	[0ae9bfac6ea9]

	* doc/alsa-midi.txt, doc/local-hatari-midi-ring.sh:
	update for midi option changes
	- separate options for input and output
	- add example on how to create a local midi ring with fifos
	[8071f5dc579d]

	* src/midi.c:
	try open only if filename, error dialog if open fails
	[b8b1795b3436]

	* src/options.c:
	Replace midi/rs232 options with separate input & output options.
	Remove redundant change comments & update fileid string.
	[9267a283c741]

	* src/file.c:
	special-case empty filename
	[16df9ea66a7b]

2009-01-20  Eero Tamminen

	* tools/hmsa/Makefile, tools/hmsa/hmsa.c:
	include Makefile.cnf, fix warning
	[f670b872f288]

2009-01-19  Eero Tamminen

	* src/floppy.c, src/includes/floppy.h:
	Floppy_EjectBothDrives() can be static, PhysicalSector functions
	don't exist, log about disk flush on Eject.
	[0504bf5d33fc]

2009-01-18  Thomas Huth

	* tools/zip2st.sh:
	Restrict disk image sizes to Atari ST compatible ones.
	[cbce42fb2566]

	* src/ide.c:
	Cleaned up IDE code.
	- Declared local variables as static.
	- Removed unused code.
	- Rewrote the Init and UnInit functions to only (de-)allocate
	ressources if really necessary.
	[632579d64f93]

	* src/floppy.c, src/includes/floppy.h:
	Fixed ugly bug that could write data to the wrong disk image. When
	exchanging floppy disk images, and the old image has been modified,
	Hatari accidentially wrote the old image to the new file, thus
	destroying the new image.
	[9728630c7e12]

2009-01-18  Eero Tamminen

	* doc/alsa-midi.txt:
	update/correct midi networking instructions
	[5aad3a1ad4f4]

2009-01-18  Nicolas Pomarede

	* src/includes/video.h, src/uae-cpu/hatari-glue.c, src/video.c:
	Add the function Video_Reset_Glue(). When the 68000 RESET
	instruction is called, the GLUE chip responsibles for generating the
	H/V sync signals should be reset, which means video freq and video
	res should be set to 0 (fixes Pompey Pirate 44 which jump to the
	start of the tos and expect the resolution to be set to low res, not
	mid res)
	[70dd352e89dd]

2009-01-16  Thomas Huth

	* src/midi.c:
	Do not consider it as fatal anymore when the MIDI input file can not
	be opened.
	[765aa8904021]

2009-01-16  Nicolas Pomarede

	* src/video.c:
	Handle a special "strange" case when writing only to the upper byte
	of the color reg (instead of writing 16 bits at once with .W/.L). In
	that case, the byte written to address x is automatically written to
	address x+1 too. So : move.w #0,$ff8240 -> color 0 is now
	$000 move.b #7,$ff8240 -> color 0 is now $707, not
	$700 ! move.b #$55,$ff8241 -> color 0 is now $755
	($ff8240 remains unchanged)
	[bb853f7e7fb8]

2009-01-16  Thomas Huth

	* src/change.c:
	Re-initialize MIDI subsystem if user has change MIDI settings.
	[9937ef203026]

	* src/midi.c:
	ACIA GPIP bit is now emulated for the MIDI input, too. This fixes
	Oxyd 2 in MIDI two player mode.
	[04e709013704]

	* Makefile.cnf.in:
	Added missing INSTALL_SCRIPT variable
	[cdbb660c700b]

2009-01-13  Eero Tamminen

	* doc/compatibility.html, doc/release-notes.txt, doc/todo.txt:
	note that MIDI input works now
	[87990958bdea]

2009-01-13  Thomas Huth

	* src/midi.c:
	Fixed MIDI output emulation. If the second bit in the MIDI ACIA
	status register is set, this means that the transfer register is
	empty, _not_ that it is full. This fixes the sound output problems
	with "Sequencer ONE" for example.
	[d2d97c8d0916]

2009-01-12  Eero Tamminen

	* doc/alsa-midi.txt, src/midi.c:
	updates about GUIs & fixed sound SW issues
	[5bdbbf815a26]

2009-01-12  Thomas Huth

	* configure.ac, src/ide.c:
	Added autoconf test for malloc.h (it's not available on all systems)
	[a715a992d992]

2009-01-11  Eero Tamminen

	* tools/zip2st.sh:
	use suitable disk size, more error checks, exclude .zip from .st
	name
	[a57c0fd5c845]

2009-01-10  Thomas Huth

	* configure.ac, src/ide.c:
	Added autoconf tests for posix_memalign, memalign and valloc
	[5ac0d1f31756]

2009-01-09  Thomas Huth

	* src/ide.c:
	ENOMEDIUM was not defined on Mac OS X
	[6b6f38ff09cf]

2009-01-07  Thomas Huth

	* src/ide.c:
	Support read-only IDE hard disk images, too.
	[8999884be039]

2009-01-10  Thomas Huth

	* src/gui-osx/PrefsController.m:
	Fixes to make the OS X GUI compilable again.
	[b5037cf442f0]

2009-01-09  Thomas Huth

	* config-default.h:
	Avoid to re-define BIN2DATADIR. On Mac OS X, BIN2DATADIR is already
	defined in the XCode project file, so it should not be defined in
	config.h again.
	[2d49ec0c4911]

	* src/falcon/dsp_cpu.c:
	dsp56k: Cleanup for MOVEC instruction parameter decoding
	[cba3d8ab0541]

2009-01-06  Eero Tamminen

	* Makefile, Makefile-default.cnf:
	install zip2st
	[8ad784574afb]

	* src/reset.c:
	add midi.h include to fix compile warning
	[fa750f3970f6]

2009-01-05  Eero Tamminen

	* website/links.html:
	link to Hatari UI page + update on my page desc
	[ece1ccce0dea]

	* website/index.html:
	n770,n800,n810
	[2c1c1724f2d6]

	* website/docs.html:
	- libpng is optional, development files are needed for building
	- more notes about things to configure to get more performance
	[61f5daf11021]

	* etc/README:
	note about paths in n810.cfg
	[4a9a00f16d68]

	* doc/alsa-midi.txt:
	add Debian package names and link to kaconnect
	[0f3c9ba5bf0b]

2009-01-05  Thomas Huth

	* src/ide.c, src/includes/ide.h, src/main.c:
	Added IDE hard disk emulation. The code is based on the IDE
	emulation code of QEMU. Tested successfully with AHDI 6, Cecile and
	HD-Driver demo version, however partitioning seems only to work with
	Cecile so far.
	[0aa2196d97cc]

	* tools/zip2st.sh:
	Fix access rights after unpacking since .zip files created with
	STZip sometimes have the rights messed up
	[2c09bdc31988]

	* src/configuration.c:
	Allow special file names for RS232 emulation, too.
	[97a53484dd03]

2009-01-04  Thomas Huth

	* tools/zip2st.sh:
	Added a simple script for converting .ZIP files into .ST disk
	images.
	[f453ff6ac1e1]

2009-01-03  Thomas Huth

	* src/gui-sdl/dlgDevice.c:
	MIDI input can now be configured in the GUI, too.
	[b933fd402a86]

2009-01-01  Thomas Huth

	* src/configuration.c, src/control.c, src/includes/configuration.h,
	src/includes/int.h, src/includes/midi.h, src/int.c, src/midi.c,
	src/options.c, src/reset.c:
	Added basic MIDI input support.
	[425a961bd2a6]

	* src/file.c, src/includes/file.h:
	Added a new function which can be used to poll a file descriptor for
	input.
	[922cb75dc394]

2008-12-31  Thomas Huth

	* doc/alsa-midi.txt:
	Added information about how to use soundcards with built-in MIDI
	synthesis capability
	[4580e079f856]

2008-12-29  Thomas Huth

	* website/contact.html:
	General update of the contact web page.
	[8a3fa6b7e0ca]

	* doc/authors.txt:
	Replaced '@' character with 'at' to confuse spam-bots
	[44bf905b1326]

	* doc/compatibility.html, doc/manual.html:
	Fixed HTML code so that it passes the HTML validator again.
	[46ee1c8e8e24]

	* website/backgnd.png, website/contact.html, website/docs.html,
	website/download.html, website/favicon.ico, website/hatari-
	small.png, website/hatari.css, website/hatari.png,
	website/index.html, website/links.html, website/news.shtml,
	website/scrshots.html, website/scrshots1.html,
	website/scrshots2.html, website/scrshots3.html,
	website/scrshots4.html, website/scrshots5.html,
	website/scrshots6.html:
	The website is now tracked in the HG repository, too.
	[a0efc9e93050]

2008-12-29  Jean-Baptiste Berlioz

	* src/blitter.c, src/cycles.c, src/spec512.c:
	improve blitter timings improved blitter timings when accessing
	hardware registers.
	[4f5ac6ad2a21]

2008-12-29  Thomas Huth

	* doc/todo.txt:
	HBLs have now been disabled in VDI extended resolution mode, thus
	removing the corresponding item from the TODO list.
	[8dd0823686e1]

2008-12-28  Thomas Huth

	* src/uae-cpu/newcpu.c:
	Do not continuesly call main event handler when CPU has been
	stopped. When the emulated CPU was stopped, Hatari used up to 99% of
	the resources of the host CPU because Main_EventHandler was called
	continuesly. This has now been removed since it was also not
	required anymore.
	[909b04e93755]

2008-12-27  Thomas Huth

	* src/ikbd.c, src/includes/ikbd.h, src/includes/int.h, src/int.c,
	src/video.c:
	Introduced a new Int event handler which takes care of sending
	keyboard, joystick and mouse events regularly. This way the IKBD
	code is now independend from the HBL and VBL timings (on which it
	depended before).
	[5f7b3e42e756]

	* src/mfp.c, src/video.c:
	Disabled HBL emulation in extended VDI resolution mode for better
	performance.
	[c8440d223814]

	* src/includes/log.h, src/ioMem.c, src/log.c:
	Added traces for generic IO memory accesses.
	[da220d747c4d]

2008-12-26  Thomas Huth

	* src/falcon/dsp_cpu.c:
	More dsp56k fixes (from the Aranym repository): Immediate value for
	REP is 12bit wide. Simplified REP and DO instruction parameter
	decoding.
	[b49cbba9c4df]

2008-12-26  Nicolas Pomarede

	* src/video.c:
	On ST/STE, set unused bits to 1 when reading $ff820a.
	[76a55836b2a2]

	* src/video.c:
	On ST/STE, set unused bits to 1 when reading $ff8260 (fix Awesome
	Menu 16)
	[422d0df3257d]

2008-12-26  Thomas Huth

	* src/ikbd.c:
	Fixed IKBD mouse + joystick enabling during IKBD reset time. If only
	joystick reporting has been enabled during reset time, the mouse is
	not turned on, too. Now both sensitive games are working right,
	Barbarian 1 and Super Cars II.
	[ca7492cecad9]

	* .cvsignore, src/.cvsignore, src/falcon/.cvsignore, src/gui-
	sdl/.cvsignore, src/uae-cpu/.cvsignore, tools/hmsa/.cvsignore:
	Removed old .cvsignore files
	[15fc6b07ccdb]

	* .hgignore:
	Added more generated files to the .hgignore list.
	[4363b80a4640]

	* .hgignore:
	Extended .hgignore file
	[8035836146b9]

	* hatari.spec:
	Changed URL from sourceforge.net to berlios.de
	[a3878f0177c2]

2008-12-23  Nicolas Pomarede

	* doc/compatibility.html:
	Add note for Illusion Demo by Dune.
	[193f7aa2ec27]

2008-12-22  Thomas Huth

	* src/ikbd.c:
	Fixed fire button problem in 'New Zealand Story' and added some more
	trace debug output.
	[eea4fb4bf961]

2008-12-21  Nicolas Pomarede

	* src/blitter.c, src/cycles.c, src/includes/m68000.h, src/m68000.c,
	src/spec512.c:
	Add a simple BusMode variable to store when the bus is owned by the
	blitter (for better cycle accuracy when the blitter accesses video
	registers).
	[8fd466ed996c]

	* src/includes/fdc.h:
	Update comment : hbl -> cpu cycles
	[84657579fd42]

	* src/includes/psg.h, src/ioMemTabFalcon.c, src/ioMemTabST.c,
	src/ioMemTabSTE.c, src/ioMemTabTT.c, src/psg.c:
	Better emulation of read/write accesses to $ff8801/03 (fixes music
	in the game X-Out).
	[f68f588beac1]

2008-12-20  Nicolas Pomarede

	* src/uae-cpu/newcpu.c:
	Typo in comment
	[abcfcd83ec66]

	* src/uae-cpu/newcpu.c:
	Faster evaluation for 'while' in m68k_run_1
	[d6c34d200823]

2008-12-20  Nicolas Pomarede

	* src/includes/log.h, src/log.c, src/psg.c:
	Change trace types for read/write access
	[2025b1a9ab2b]

2008-12-20  Thomas Huth

	* doc/compatibility.html, doc/manual.html, src/gui-osx/SDLMain.m:
	Changed the URL from hatari.sourceforge.net to hatari.berlios.de
	[ef8e17f0f47c]

	* doc/authors.txt, tools/hmsa/readme-hmsa.txt:
	Updated my e-mail address
	[de856335e45a]

2008-12-19  Thomas Huth

	* doc/fr/hatari.1, doc/hatari.1, readme.txt:
	Changed the URL from sourceforge.net to berlios.de
	[1ea96b7976f8]

2008-12-15  Nicolas Pomarede

	* src/fdc.c, src/includes/fdc.h:
	Add a dummy function for the type III command Read Address which set
	status as if the command succeeded (but does nothing in fact). Fix
	loader routines used in Pompey Pirates compilations (23, 27, ...)
	that uses Read Address only to update the status register.
	[92e123a23cb2]

	* src/mfp.c:
	Add trace when reading gpip in $fffa01
	[9303debc1250]

2008-12-14  Eero Tamminen

	* doc/compatibility.html:
	VGA slideshow works now (some issues are still there, but they could
	be bug in the program, not Hatari...)
	[6cc356cec16b]

2008-12-14  Nicolas Pomarede

	* src/spec512.c:
	Improve cycle position when writing to color registers (by comparing
	with a real STF). This should give less artefacts with multipalettes
	pictures (fix Froggies Over The Fence Main Menu).
	[410fe08cf34c]

	* src/video.c:
	Remove no more used variable.
	[f690fe8d7eef]

	* src/uae-cpu/newcpu.c:
	No need to check for pending interrupt in m68k_run_1 if the cpu is
	in STOP state, this will be handled in do_specialties() (else, the
	call to do_specialties_interrupt() could acknowledge the int too
	soon and prevent exiting the STOP state). Fix regression introduced
	in 2008/12/11 for Oh Crickey's hidden screen by ULM.
	[4670f94b1738]

2008-12-13  Nicolas Pomarede

	* src/blitter.c:
	Small change on NFSR by TobÃ©
	[c3feee8716db]

	* doc/compatibility.html:
	No more crash in Mindbomb's 3D Balls screen since Hatari 1.1.0
	[77f13249f224]

2008-12-13  Eero Tamminen

	* doc/compatibility.html, doc/emutos.txt:
	Wolf3D (even v0.8a) has started to work both with GEMDOS HD emu and
	EmuTOS
	[10f542325c1c]

2008-12-12  Eero Tamminen

	* doc/compatibility.html:
	- As far as I can see, Next:Illusion screen doesn't have issues
	anymore (due to latest Blitter updates I assume)
	- Utopos statusbar doesn't flicker anymore for v1.12 demo nor v1.61
	full version as it did earlier. I was able to get latter to flicker
	once, but couldn't repeat it and the v1.50 demo statusbar still
	flickers, but I assume those are bugs in the programs, not Hatari.
	[9bb9826cb2a4]

2008-12-12  Nicolas Pomarede

	* doc/compatibility.html:
	Suretrip 49% by Checkpoint and digi-sound in Swedish New Year's TCB
	screen are now OK.
	[6cc7aa2a1ccc]

2008-12-12  Thomas Huth

	* src/blitter.c, src/includes/blitter.h, src/ioMemTabFalcon.c,
	src/ioMemTabST.c, src/ioMemTabSTE.c:
	Improved blitter emulation from TobÃ©:

	This new code try to emulate the internal blitter processes as
	described in the official documentation. It does not perform any
	operation if it's not necessary, so it doesn't need a cycle table,
	the timings are accurate because the logic is accurate. The
	registers are kept up to date, the words-per-line never reach zero,
	and the source and destination registers are incremented as
	described in the docs. When started with 0 in either words-per-lines
	or lines-per-block, the value stored in these registers is set to
	65536.
	[ba8cbab3da98]

2008-12-11  Nicolas Pomarede

	* src/includes/mfp.h, src/mfp.c, src/uae-cpu/newcpu.c:
	Return TRUE of FALSE in MFP_CheckPendingInterrupts() instead of
	void. Create do_specialties_interrupt() to check only the special
	flags related to MFP/video interrupts and factorize some code. When
	testing for simultaneous interrupts, call do_specialties_interrupt()
	not do_specialties().
	[2fb5c83c8a8a]

	* src/includes/main.h:
	Change window's title from 1.1.0 to devel
	[0e81594ffcf5]

2008-12-10  Nicolas Pomarede

	* src/video.c:
	Add 4 cycles tolerance for the 60/50 switch used to produce a 0 byte
	line.
	[73b0becf4327]

	* src/memorySnapShot.c:
	Change version number. Latest snapshots are no more compatible with
	1.1.0
	[75d589785f53]

	* src/includes/video.h, src/uae-cpu/newcpu.c, src/video.c:
	Much more accurate behaviour for HBL/VBL : handle 8 cycles HBL/VBL
	jitter as on a real STF and allow VBL to interrupt HBL 312 at the
	same point as on STF too. Fix Fullscreen in Suretrip 49% by
	Checkpoint and digi sound in Swedish New Year's TCB screen.
	[cc80273b5fbc]

2008-12-01  Thomas Huth

	* Hatari.xcodeproj/project.pbxproj:
	Added missing files to OS X target
	[171b0a9a5f7f]

2008-11-29  Nicolas Pomarede

	* doc/compatibility.html:
	European Demos by Overlander won't run if HD emulation is ON
	[f9764c21b319]

2008-11-29 : *** Version 1.1.0 ***

2008-11-29 12:29  Thomas Huth

	* Info-Hatari.plist, configure.ac, hatari.spec,
	  doc/doxygen/Doxyfile, src/memorySnapShot.c,
	  src/gui-osx/English.lproj/InfoPlist.strings, src/includes/main.h:
	  Increased version number to 1.1.0

2008-11-29 12:21  Thomas Huth

	* readme.txt, doc/authors.txt, doc/release-notes.txt: Updated docs
	  for version 1.1.0

2008-11-28 22:26  Thomas Huth

	* etc/: README, win-ce.cfg: Added win-ce.cfg file for Hatari on
	  Windows Mobile devices

2008-11-28 22:02  Thomas Huth

	* doc/emutos.txt: Rearranged paragraphs and wordings a little bit,
	  and corrected debug section.

2008-11-28 18:54  Thomas Huth

	* src/floppy.c: Fixed the bug that floppy B: was not ejected and
	  saved at exit when floppy A: was also inserted.

2008-11-27 21:17  Eero Tamminen

	* doc/compatibility.html: latest DSP changes improved Bad Mood
	  graphics a lot, but made the game *much* slower (at least to
	  react to user input).

2008-11-26 21:26  Thomas Huth

	* src/falcon/dsp_cpu.c: Merged changes from Aranym repository: More
	  fixes from Laurent Sallafranque.  - Fix calculation of overflow
	  bit in add56/sub56.  - Fix registers S2,D2 for TCC instruction.

2008-11-25 22:25  Thomas Huth

	* src/falcon/dsp_cpu.c: Fixed dsp_div calculation. Thanks to
	  Laurent Sallafranque for the patch.

2008-11-25 22:17  Thomas Huth

	* src/falcon/dsp_cpu.c: Fixed SR calculation in LSL and LSR of the
	  DSP56k emulation. Thanks to Laurent Sallafranque for the patch.

2008-11-25 21:51  Thomas Huth

	* src/: configuration.c, joy.c, includes/configuration.h: Enable
	  the real joystick by default now instead of the
	  joystick-with-cursor-keys emulation.

2008-11-24 21:46  Eero Tamminen

	* doc/manual.html: minor tweaks

2008-11-23 20:21  Eero Tamminen

	* doc/manual.html: simplify/clarify the joyemu paragraphs

2008-11-23 16:09  Thomas Huth

	* doc/manual.html: Updated some more obsolte sections in the manual

2008-11-23 13:49  Eero Tamminen

	* doc/: manual.html, images/devices.png, images/discs.png,
	  images/sound.png, images/tos.png: - crop all screenshots to have
	  just the dialog content + update their   sizes accordingly.  make
	  them floats unless they're longer than   the associated text -
	  PNG screenshot support - minor platform list update - build
	  instructions updates - fix "--trace help" - re-order/clarify fsel
	  text a bit - improve frameskip explanation - be explicit about
	  the sound record file name extension effect - shortcut
	  explanations improvements + consistency - joy keys are
	  configurable - emphatize GEMDOS emu issue

2008-11-23 13:44  Eero Tamminen

	* doc/: compatibility.html, emutos.txt: - note about dynabusters+
	  screen flicker - add sudoku to emutos lists & sort ST program
	  names like others are

2008-11-23 13:13  Nicolas Pomarede

	* doc/release-notes.txt: Some improvements were made for STE video
	  registers

2008-11-23 12:49  Nicolas Pomarede

	* src/: sound.c, includes/sound.h: Bye bye old sound core :)

2008-11-23 12:43  Eero Tamminen

	* doc/images/memory.png: old memory screenshot missed autosave
	  checkbox, update

2008-11-23 12:36  Eero Tamminen

	* doc/hatari.1: fix: --trace help

2008-11-23 11:48  Thomas Huth

	* doc/manual.html: Updated the screen and keyboard dialog and the
	  GEMDOS HD sections.

2008-11-23 11:27  Thomas Huth

	* src/: main.c, control.c: Silenced debug output in normal log mode

2008-11-23 10:48  Thomas Huth

	* doc/compatibility.html: DMA sound is distorted in 'Systematic
	  error' demo

2008-11-22 19:21  Eero Tamminen

	* src/shortcut.c: - Boss key also pauses emulation (so that Hatari
	  CPU use and sound stop) - Pause&unpause emulation before&after
	  disk dialog as is done for options - Unpause emulation for
	  warn&cold reset

2008-11-22 18:04  Eero Tamminen

	* src/main.c: Not safe to ignore events.  Seems to stop also SDL
	  processing them internally, not just propagating them to the
	  application.	By default SDL enables all events execpt for
	  SYSWMEVENT, so setting the event states can be just removed.

2008-11-22 17:01  Thomas Huth

	* Hatari.xcodeproj/project.pbxproj: Cleaned up the Xcode project
	  file a little bit.

2008-11-22 16:59  Thomas Huth

	* src/gui-osx/: PrefsController.h, PrefsController.m,
	  SDLMain.nib/classes.nib, SDLMain.nib/info.nib,
	  SDLMain.nib/keyedobjects.nib: Fixed the 'Load config' and 'Save
	  Config' buttons and removed the non-working Spec512 Slider from
	  the OS X GUI.

2008-11-22 15:31  Thomas Huth

	* src/gui-osx/: PrefsController.m, Shared.m: Made the OS X GUI
	  compilable again.

2008-11-22 11:43  Thomas Huth

	* src/gui-osx/SDLMain.m: Removed the obsolete screen snapshot FPS
	  parameter also from the OS X GUI.

2008-11-21 22:27  Eero Tamminen

	* doc/compatibility.html: finetuning

2008-11-21 22:14  Eero Tamminen

	* doc/: compatibility.html, emutos.txt: more things found working

2008-11-21 19:28  Eero Tamminen

	* src/gui-sdl/sdlgui.c: dialog processing should ignore all motion
	  events

2008-11-20 22:46  Eero Tamminen

	* src/: main.c, screen.c: Move event selection from screen.c to
	  main.c and ignore unneeded events.  Fixes internal GUI
	  fileselector CPU usage with analog joysticks (that haven't been
	  properly centered) that caused it to constantly poll doDialog().

2008-11-20 22:34  Eero Tamminen

	* src/keymap.c: Ignore empty keymap file names (Keymap_Init() calls
	  Keymap_LoadRemapFile() unconditionally).

2008-11-19 00:17  Thomas Huth

	* src/dmaSnd.c: Decrement nMwTransferSteps _before_ writing the
	  registers in DmaSnd_InterruptHandler_Microwire(). If not the
	  shifting finished 8 cycles too late compared to a real STE.
	  (Thanks to David Savinkoff for the hint)

2008-11-18 22:14  Eero Tamminen

	* etc/: README, n810.cfg: Use directories that exist already and
	  are user visible in the normal 770/N8x0 UI.  Remove irrelevant
	  settings.

2008-11-18 21:12  Eero Tamminen

	* src/gui-sdl/dlgNewDisk.c: Fix the case when the configured disk
	  path doesn't end in slash.

2008-11-18 21:10  Eero Tamminen

	* src/gui-sdl/dlgFileSelect.c: * Use File_DirExists() instead of
	  statting directly.

	  * Handle existing path with non-existing file better. Earlier
	  File	 selector moved to CWD in this case, now it keeps in the
	  directory and   just suggest the given filename.

	    This doesn't change the normal Hatari behaviour as Hatari paths
	    default to CWD, but it helps packages providing Hatari config
	  files
	    with pre-defined file save paths.

2008-11-18 20:57  Eero Tamminen

	* src/: file.c, includes/file.h: add File_DirExists() function

2008-11-18 20:56  Eero Tamminen

	* src/keymap.c: Use more correct File_Exists() in
	  Keymap_LoadRemapFile() instead of File_DoesFileNameEndWithSlash()
	  and give warning &return also when that check fails & indent rest
	  of the function appropriately.

2008-11-18 20:53  Eero Tamminen

	* src/: shortcut.c, gui-sdl/dlgDisk.c: remove redundant
	  File_DoesFileNameEndWithSlash() calls as File_Exists() already
	  checks that the given thing isn't a directory.

2008-11-18 00:13  Nicolas Pomarede

	* src/uae-cpu/newcpu.c: Improve interrupts' precision when multiple
	  ints happened at the same time during the STOP instruction (HBL
	  could be wrongly delayed of 4 cycles)

2008-11-17 23:13  Nicolas Pomarede

	* doc/compatibility.html: Add the No Cooper demo to the STF list

2008-11-16 20:02  Eero Tamminen

	* doc/: release-notes.txt, todo.txt: More TODOs done by Thomas

2008-11-16 19:52  Eero Tamminen

	* doc/compatibility.html: - According to pouet.net Badger isn't STE
	  demo so remove it from list - Tribute to Rainbow Tos works now
	  fine

2008-11-16 19:01  Thomas Huth

	* doc/compatibility.html: Updated V8 music demo and Songs Of The
	  Unexpected

2008-11-16 17:27  Eero Tamminen

	* doc/compatibility.html, src/ikbd.c: - Thomas' Utopos fix fixed
	  also DB2000 - Added pouet.net links + some other minor updates

2008-11-16 16:48  Thomas Huth

	* src/gui-sdl/dlgFileSelect.c: Do not show hidden files by default

2008-11-16 15:56  Thomas Huth

	* gpl.txt: Updated license text to the latest version of the GPL 2
	  (from http://www.gnu.org/licenses/old-licenses/gpl-2.0.txt)

2008-11-16 15:51  Eero Tamminen

	* doc/: manual.html, images/fileselector.png, images/keyboard.png,
	  images/screen.png: update fileselector, screen and keyboard
	  screenshots

2008-11-16 15:21  Eero Tamminen

	* doc/: hatari.1, manual.html: Update command line options and
	  keyboard shortcuts.  Use hatari.1 HTML version of command line
	  options also for manual.html

2008-11-16 11:23  Thomas Huth

	* src/gui-sdl/dlgScreen.c: Removed unused FPS code in the screen
	  dialog

2008-11-16 11:19  Thomas Huth

	* src/: screen.c, video.c, falcon/videl.c, falcon/videl.h,
	  includes/screen.h: Recording an animation now also works in TT
	  and Falcon mode.

2008-11-16 10:42  Thomas Huth

	* src/: configuration.c, screenSnapShot.c, shortcut.c,
	  gui-sdl/dlgScreen.c, includes/configuration.h,
	  includes/screenSnapShot.h: Removed the obsolete nFramesPerSecond
	  setting - it is possible to use the frame-skip option instead.

2008-11-15 22:53  Thomas Huth

	* src/: configuration.c, shortcut.c, includes/configuration.h:
	  Added shortcut for inserting floppy disk A:

2008-11-15 22:02  Thomas Huth

	* src/ikbd.c: If both, joystick and mouse, are enabled, always
	  report button as mouse event. This is needed for the game 'Big
	  Run'

2008-11-15 21:41  Thomas Huth

	* doc/: hatari.1, fr/hatari.1: Replaced ~/.hatari.cfg with
	  ~/.hatari/hatari.cfg

2008-11-15 21:39  Thomas Huth

	* doc/compatibility.html: Added 'Death of the left border' and
	  'Swedish new year' demos

2008-11-15 21:03  Thomas Huth

	* src/gui-sdl/dlgKeyboard.c: The 'Disable key repeat in fast
	  forward mode' option can now be configured in the SDL GUI.

2008-11-15 20:04  Thomas Huth

	* src/change.c: When looking for a disk change, check also for a
	  change within a ZIP file

2008-11-15 19:55  Thomas Huth

	* src/: floppy.c, gui-sdl/dlgDisk.c, includes/floppy.h: Removed the
	  obsolete EmulationDrives[].szFileName since the floppy file name
	  is now stored in the ConfigureParams structure.

2008-11-15 16:37  Nicolas Pomarede

	* src/video.c: Fix regression introduced in rev 1.125 that affected
	  Braindamage Demo.

2008-11-15 15:17  Thomas Huth

	* src/: dmaSnd.c, int.c, includes/dmaSnd.h, includes/int.h:
	  Shift/rotate the microwire registers automatically within 16
	  usec. This fixes the hang at the end of the 2nd screen in the
	  Paradox XMAS 2004 demo.

2008-11-15 15:00  Nicolas Pomarede

	* src/: ioMemTabFalcon.c, ioMemTabSTE.c, ioMemTabTT.c: Add specific
	  handler for register $ff820d (video screen low)

2008-11-15 14:58  Nicolas Pomarede

	* src/video.c: More traces for STE registers

2008-11-15 11:00  Thomas Huth

	* src/blitter.c: Improved blitter timings (thanks to TobÃÂ© for the
	  patch)

2008-11-15 10:42  Thomas Huth

	* src/change.c: The emulator must be reset when the user changes
	  the size of the RAM

2008-11-13 23:57  Eero Tamminen

	* doc/compatibility.html: Utopos works with Thomas latest change

2008-11-13 23:14  Thomas Huth

	* src/ikbd.c: Hack for the he game Utopos (>= v1.5): It expects the
	  joystick data to be sent within a certain amount of time after
	  the IKBD_Cmd_ReturnJoystickAuto command, without checking the
	  ACIA control register first

2008-11-13 22:16  Thomas Huth

	* src/dmaSnd.c: Do not reset the microwire data register shifting
	  index when a program continuesly writes to the data register.
	  This fixes the initial problem with the X-Mas 2004 demo by
	  Paradox.

2008-11-12 23:46  Eero Tamminen

	* etc/: README, n810.cfg: add etc/ subdirectory for device specific
	  configuration files

2008-11-12 23:08  Eero Tamminen

	* src/gui-sdl/dlgFileSelect.c: If fileselector is given
	  non-existing path, use CWD instead of just not showing the file
	  select at all (user doesn't understand it, especially as there's
	  no warning/error about it).

2008-11-12 23:06  Eero Tamminen

	* src/configuration.c: User should be given warning if
	  configuration changes saving fails.

2008-11-12 21:36  Eero Tamminen

	* src/str.c: Thomas noted that indexed accesses are slower (I had
	  to check the assembler output to believe that GCC really cannot
	  better optimize indexed accesses in functions that don't call
	  other functions with pointers) and that without them he prefers
	  use of while loops so changing functions closer to what they were
	  earlier.  Sorry for the code churn.

2008-11-10 20:23  Nicolas Pomarede

	* src/mfp.c: Non important typo

2008-11-10 01:13  Thomas Huth

	* src/ikbd.c: Fix for Utopos: Reset internal joystick state so that
	  a new joystick packet is send each time the ReturnJoystickAuto
	  command is send to the IKBD

2008-11-10 00:25  Thomas Huth

	* src/main.c: Fixed crash that occured when pressing F12 in Falcon
	  mode: Statusbar tried to update the SDL surface with
	  Screen_Draw(), but this function can only be used in ST/STE mode.

2008-11-09 21:20  Eero Tamminen

	* src/main.c: take into account that options key might be
	  configured only with a modifier key or not at all.

2008-11-09 21:04  Eero Tamminen

	* src/main.c: User can configure options key (F12) to something
	  else, ask SDL for the key name (this uses the previous "str-funcs
	  return a string" change).

2008-11-09 21:02  Eero Tamminen

	* src/: str.c, includes/str.h: - Str_Trunc() doesn't need to zero
	  rest of string, ending it is enough - str functions return the
	  modified string.    This allows for nicer code in caller  - make
	  code more idiomatic C (for loops instead of whiles)...

2008-11-08 00:18  Eero Tamminen

	* doc/compatibility.html: oops, fix

2008-11-08 00:08  Eero Tamminen

	* doc/compatibility.html: comment updates + link to froggies demo

2008-11-07 23:30  Thomas Huth

	* src/: cartData.c, cart_asm.s: Check 0x601A program header magic
	  before trying to load and execute a program from the GEMDOS
	  harddisk. Hatari now no longer crashes when trying to Pexec a
	  file that was not a valid PRG.

2008-11-07 23:17  Nicolas Pomarede

	* doc/compatibility.html: More pouet.net links and sort STF demos

2008-11-06 22:35  Eero Tamminen

	* doc/compatibility.html: - Game updates from Matthias & Thomas &
	  my own testing - Demo status updates and new demos checked by
	  Nicolas - Started changing ST demos to be listed according to
	  group like STE ones - Added pouet.net links some STE demos and
	  demos Nicolas listed - Armada demos are actually Agression...

2008-11-05 19:23  Thomas Huth

	* src/joy.c: Left + Right (and Up + Down) can't be enabled at the
	  same time. This patch fixes the crashes in Robocop 2.

2008-11-04 22:05  Eero Tamminen

	* src/: configuration.c, screen.c, includes/configuration.h: Make
	  also top border configurable and add sanity checks for border
	  values.

2008-11-04 21:59  Eero Tamminen

	* doc/compatibility.html: - ST games to alphabetical order - next
	  release is 1.1 (1.? -> 1.1) - checked sound issues in noise
	  tracker / powerup

2008-11-04 21:39  Eero Tamminen

	* doc/: authors.txt, compatibility.html, release-notes.txt: -
	  compatibility list updates from Nicolas - draft list of changes
	  for release notes - update authors list

2008-11-03 23:29  Nicolas Pomarede

	* src/spec512.c: Removed unused modifications ; correct fix for the
	  palette problem on the 1st line is in video.c >= 1.127

2008-11-03 21:48  Thomas Huth

	* src/gemdos.c: Do not intercept GEMDOS trap calls to the printer
	  anymore. All printer data is now handled in hardware emulation.
	  Thanks to David Savinkoff for the patch.

2008-11-03 21:46  Thomas Huth

	* src/: mfp.c, psg.c, includes/mfp.h: Add Falcon Centronics ACK
	  interrupt capability (Thanks to David Savinkoff for the patch).

2008-11-03 21:24  Thomas Huth

	* src/: bios.c, xbios.c: Removed obsolete BIOS interception code.

2008-11-03 20:34  Thomas Huth

	* src/video.c: The first palette must be saved at the beginning of
	  the very first visible line, not at the end. This fixes the
	  graphical glitches that appear in the Coreflakes demo in the very
	  first visible line on the screen.

2008-11-02 23:18  Thomas Huth

	* src/uae-cpu/memory.c: Call SDL_Quit() before exit() to make sure
	  that the old video mode is restored properly

2008-11-02 17:27  Eero Tamminen

	* Makefile: install also "hmsa"

2008-11-02 17:06  Eero Tamminen

	* doc/compatibility.html: - More accurate list of Molz issues from
	  Anders - Some updates to current emulation state

2008-11-02 16:28  Thomas Huth

	* src/: configuration.c, includes/screen.h: Allow up to 47 lines in
	  the bottom border (but use only 45 by default since some demos
	  show garbage in the last 2 lines)

2008-11-02 16:19  Thomas Huth

	* src/screen.c: Fixed STScreenEndHorizLine initialization

2008-11-01 17:53  Nicolas Pomarede

	* src/spec512.c: Revert previous patch for now, not the correct
	  solution to this bug, more work needed

2008-11-01 16:25  Nicolas Pomarede

	* src/spec512.c: Fix a long standing bug : the 1st visible line of
	  the screen could have a wrong palette (fix Text Zoomer in Core
	  Flakes demo by New Core)

2008-10-30 21:25  Eero Tamminen

	* doc/: compatibility.html, emutos.txt: minor finetuning for EmuTOS
	  texts, add DHS "More or Less Zero" demo

2008-10-30 20:01  Eero Tamminen

	* src/includes/control.h: Control_CheckUpdates() returns now bool,
	  se define needs too

2008-10-29 21:41  Thomas Huth

	* src/includes/stMemory.h: Fixed crash that occured with GEMDOS HD
	  emulation when ENABLE_SMALL_MEM was set. The STRAM_ADDR macro did
	  not distinguish between ST-Ram and ROM/IO memory yet.

2008-10-29 21:12  Eero Tamminen

	* src/log.c: exit() -> return, trace options can nowadays changed
	  at run-time so exit() is wrong (and returning FALSE is handled
	  correctly by options.c calling this).

2008-10-28 21:43  Eero Tamminen

	* Makefile-default.cnf: add arch specific optimization flag
	  examples

2008-10-28 21:37  Eero Tamminen

	* src/dialog.c: forgot to commit this with other
	  Main_PauseEmulation() changes

2008-10-28 21:24  Eero Tamminen

	* src/Makefile: make ENABLE_DSP_EMU overridable with env variable +
	  update its comment

2008-10-27 22:44  Eero Tamminen

	* doc/: emutos.txt, todo.txt: split Hatari TODOs to emulation and
	  other todos and remove things that have already been done.

2008-10-26 23:39  Eero Tamminen

	* src/: change.c, control.c, main.c, screen.c, shortcut.c,
	  statusbar.c, includes/main.h, includes/statusbar.h: - don't show
	  paused message when switching between fullscreen/windowed mode
	  -> add option to PauseEmulation() for this - get rid of paused
	  message faster when unpausing   -> change AddMessage() timeout
	  from secs for msecs - some comment updates

2008-10-26 20:15  Eero Tamminen

	* src/: control.c, main.c, includes/control.h: Get back into
	  battery saving (remote) pause (not SDL one) if such had been
	  requested.

2008-10-26 12:06  Eero Tamminen

	* src/control.c: have link to actual bug in comment

2008-10-26 01:29  Eero Tamminen

	* src/statusbar.c: - more accurate name: <led>.timeout	->
	  <led>.expire - add .expire member to message to clear the code -
	  fix the message timeout when there are multiple messages

2008-10-26 00:34  Nicolas Pomarede

	* src/sound.c: Save/restore all variables used by the new sound
	  engine in Sound_MemorySnapShot_Capture

2008-10-26 00:32  Eero Tamminen

	* src/debugui.c: add missing newline

2008-10-26 00:31  Eero Tamminen

	* src/uae-cpu/newcpu.c: remove duplicate bEnableDebug check

2008-10-26 00:20  Eero Tamminen

	* src/statusbar.c: Cannot assert if screen size doesn't match
	  requested one as in fullscreen mode Hatari may not get the
	  requested size.  If available video mode is smaller, disable
	  statusbar; if larger, re-calculate variables.

2008-10-25 23:25  Nicolas Pomarede

	* src/sound.c: Use doxygen style comments for functions

2008-10-25 22:55  Eero Tamminen

	* src/control.c: - Use Main_Un/PauseEmulation() for stopping the
	  emulation more cleanly - Add Control_GetUISocket() and check the
	  X socket for events so that	Hatari window expose events can be
	  processed even when the remote UI   has asked Hatari/SDL to be
	  completely stopped (to save battery) - ControlSendEmbedInfo ->
	  bSendEmbedInfo

2008-10-25 22:31  Eero Tamminen

	* src/: main.c, shortcut.c: - Debug "UI" should do clean
	  pause/unpause too

2008-10-25 22:19  Eero Tamminen

	* src/: configuration.c, main.c, shortcut.c,
	  includes/configuration.h, includes/main.h: - Pause key acts as
	  "pause" unless --debug is used when it invokes   the Debug UI

2008-10-25 19:42  Nicolas Pomarede

	* src/: sound.c, includes/sound.h: Cosmetic changes in new engine :
	  remove unused code, indent, add more comments, ...

2008-10-24 00:16  Eero Tamminen

	* doc/emutos.txt: Checked/added Falcon games

2008-10-24 00:16  Eero Tamminen

	* doc/compatibility.html: - With latest DSP change, Bad Mood
	  actually draws something half sensible - Tank Blaster works

2008-10-23 18:50  Thomas Huth

	* src/falcon/dsp_cpu.c: Latest updates from Aranym: - Fixes in
	  L:xxx,register parallel move, both directions.  - Fixes in
	  register,L:xxx when limiting occurs.	-  Fixes for LSL,BCHG
	  instructions.

2008-10-22 22:55  Eero Tamminen

	* doc/: compatibility.html, emutos.txt: - correct state of couple
	  Falcon demos & apps	(some Whip! effects actually work) - list
	  some EmuTOS compatible Falcon demos and apps

2008-10-22 20:56  Thomas Huth

	* src/gemdos.c: Improved check for file attributes during
	  Fsfirst/Fsnext. This fixes FSELECT.PRG by M. Patzel. Thanks to
	  Thomas Schaerer for the hint.

2008-10-21 23:15  Eero Tamminen

	* src/: screen.c, statusbar.c, falcon/hostscreen.c,
	  gui-sdl/dlgScreen.c, includes/statusbar.h: - Statusbar shows also
	  in fullscreen - Statusbar height calculation needs to take into
	  account screen width	 because the the gui-sdl font selection
	  does - Toggling Statusbar from Display options doesn't toggle
	  overlay LED	(even when it's enabled, it's shown only when
	  statusbar isn't)

2008-10-21 21:04  Eero Tamminen

	* src/statusbar.c: all SDL_UpdateRect calls here have now debug
	  prints

2008-10-20 22:56  Eero Tamminen

	* doc/compatibility.html: Remove the exlamation marks now that I've
	  checked the required DSP modes.

2008-10-20 22:31  Thomas Huth

	* src/psg.c: Save LastStrobe to memory snapshots, too (just in
	  case...)

2008-10-20 22:23  Thomas Huth

	* src/: mfp.c, printer.c, psg.c, includes/mfp.h: These patches make
	  Hatari emulate printer port capture more accurately.

	  In psg.c : Centronics STROBE is used Exclusively, LastWriteToIOB
	  PORTB checking is Removed.

	  In mfp.c : MFP_EXCEPT_GPIP0 interrupt is added to
	  MFP_CheckPendingInterrupts() to create BUSY interrupt capability
	  in hatari.

	  In printer.c : All data presented to PORTB will now be passed
	  unfiltered to the printer, the same as Atari hardware would do
	  it. Thus, filtering, tab expanding, and associated code is
	  removed.

	  Thanks to David Savinkoff for the patch!

2008-10-20 22:15  Eero Tamminen

	* doc/compatibility.html: add Illusion 64 (one more demo that works
	  only when DSP emu is disabled)

2008-10-19 22:52  Eero Tamminen

	* doc/compatibility.html: add couple of New Beat demos (work fine)
	  and music applications (don't work) + few other demos

2008-10-19 15:06  Nicolas Pomarede

	* src/: sound.c, includes/sound.h: Remove unused float code.

2008-10-16 23:30  Nicolas Pomarede

	* src/psg.c: Register select in $ff8800 should not be masked with
	  0xf, but further read/write when register >= 16 should be
	  ignored.  (fix long standing bug in European Demo Intro)

2008-10-16 20:25  Nicolas Pomarede

	* src/sound.c: Remove gcc warning

2008-10-16 00:14  Nicolas Pomarede

	* src/mfp.c: Revert useless test when data reg for timer A/B is
	  decremented from a previous 0 value (as we use Uint8)

2008-10-15 23:06  Nicolas Pomarede

	* src/sound.c: Set sample to 0 instead of 0x9a when volume is 0
	  (this way the volume 0 of the ym is aligned with the sample 0
	  level)

2008-10-14 23:34  Nicolas Pomarede

	* src/sound.c: Full support for 5 bits volume when computing
	  envelopes. All internal volumes operations are made with 5 bits
	  for maximum accuracy (as on a real YM-2149)

2008-10-14 22:00  Eero Tamminen

	* doc/compatibility.html: Went through all games & demos marked as
	  none/dummy and checked whether they work with DSP emulation
	  enabled. Almost none did, added more info about that.  Updated a
	  couple of other games/demos.

2008-10-13 22:29  Eero Tamminen

	* doc/compatibility.html: Falcon updates: - Add Bad Mood & ChainZ
	  games (not working) - Add a few working and not working demos and
	  apps - Some things that worked earlier only when DSP emulation
	  is disabled, work now also when it's enabled

2008-10-13 22:26  Eero Tamminen

	* doc/emutos.txt: add more STE and debugging info

2008-10-11 00:10  Thomas Huth

	* src/gui-osx/: PrefsController.h, PrefsController.m,
	  SDLMain.nib/classes.nib, SDLMain.nib/info.nib,
	  SDLMain.nib/keyedobjects.nib, SDLMain.nib/objects.nib: Merged
	  some of the OS X GUI updates from Jerome Vernet

2008-10-11 00:01  Thomas Huth

	* Hatari.xcodeproj/project.pbxproj: Cleaned up the sources list in
	  the Mac OS X project file.

2008-10-10 20:21  Thomas Huth

	* src/falcon/: dsp_core.c, dsp_core.h, dsp_cpu.c: Merged dsp56k
	  changes from Aranym: - Recode sub/add on 56bits in a simpler way.
	  - BSET/BCLR were not clearing/setting A2/B2 when changing bit in
	  A/B	accumulator (from Laurent Sallafranque).  - try to fix
	  detection of end of loop for DO instruction.

2008-10-09 00:34  Nicolas Pomarede

	* src/uae-cpu/newcpu.c: Fix special case for MFP exception handling
	  with cpu >= 68020

2008-10-05 22:42  Nicolas Pomarede

	* src/ikbd.c: Remove double ';'

2008-10-05 22:41  Nicolas Pomarede

	* src/utils.c: Add rcsid

2008-10-05 22:31  Nicolas Pomarede

	* src/uae-cpu/newcpu.h: Add a parameter ExceptionSource to
	  Exception(). This allows to remove the possible ambiguity when
	  MFP vector base is changed in $fffa17 and the resulting exception
	  number could conflict with a 'normal' cpu exception.	Fix High
	  Fidelity Dreams by Aura which set MFP vector base to $c0 instead
	  of $100.

2008-10-05 21:55  Thomas Huth

	* src/configuration.c: Set bDisableKeyRepeat = FALSE by default.

2008-10-05 19:55  Nicolas Pomarede

	* src/: m68000.c, mfp.c, video.c, includes/m68000.h, uae-cpu/fpp.c,
	  uae-cpu/gencpu.c, uae-cpu/newcpu.c: Add a parameter
	  ExceptionSource to Exception(). This allows to remove the
	  possible ambiguity when MFP vector base is changed in $fffa17 and
	  the resulting exception number could conflict with a 'normal' cpu
	  exception.  Fix High Fidelity Dreams by Aura which set MFP vector
	  base to $c0 instead of $100.

2008-10-04 13:41  Nicolas Pomarede

	* src/mfp.c: Fix reading $fffa21 while timer B occurs in some rare
	  cases (Wolfenstein 3D intro)

2008-10-04 13:35  Nicolas Pomarede

	* src/includes/video.h: Fix reading $fffa21 while timer B occurs in
	  some rare cases (Wolfenstein 3D intro)

2008-10-03 10:27  Thomas Huth

	* src/falcon/dsp_disasm.c: Mark all instructions that may change
	  SR. (Code from Patrice Mandin)

2008-10-03 10:25  Thomas Huth

	* src/falcon/dsp_cpu.c: Try again to fix carry bit computation.
	  (Code from Patrice Mandin)

2008-10-03 00:01  Nicolas Pomarede

	* src/fdc.c: FDCTrackRegister, FDCSectorRegister and
	  FDCDataRegister are 8 bits registers. When writing to $ff8604,
	  only keep the lowest 8 bits.	(fix High Fidelity Dreams by Aura)

2008-09-29 22:44  Thomas Huth

	* src/falcon/dsp_cpu.c: dsp56k fixes: SUB/ADD/CMP: Simply set carry
	  bit if MSB changed, clear otherwise. (Thanks to Patrice Mandin
	  for this)

2008-09-29 22:15  Thomas Huth

	* src/: cartData.c, cart_asm.s: Fixed a bug in the 68k part of the
	  GEMDOS HD emulation: The stack got messed up when a program tried
	  to run pexec with a program name that did not existed on the
	  emulated GEMDOS HD.

2008-09-28 18:56  Eero Tamminen

	* doc/: compatibility.html, emutos.txt: minor updates

2008-09-28 16:13  Eero Tamminen

	* doc/hatari.1: Add documentation for missing command line options
	  and files + other improvements

2008-09-27 21:01  Thomas Huth

	* Hatari.xcodeproj/project.pbxproj: Added ym2149_fixed_vol.h to
	  Xcode project file.

2008-09-27 16:51  Thomas Huth

	* doc/fr/clavier-exemple.txt: No need to remap the function keys

2008-09-27 16:43  Thomas Huth

	* src/gemdos.c: Work-around for the file selector bug in TOS 1.02
	  (Bug #1648169)

2008-09-27 15:36  Thomas Huth

	* src/fdc.c: According to Volker Seebode, HDCCommand.byteCount must
	  not be reset during FDC_ResetDMAStatus(). (Bug #2130450)

2008-09-27 15:21  Thomas Huth

	* src/hdc.c: DMA counter wasn't updated after HDC commands (Bug
	  #2130480). Thanks to Volker Seebode for the patch

2008-09-27 13:09  Thomas Huth

	* src/falcon/dsp_cpu.c: MAC/MACR should not change Carry bit (from
	  Laurent Sallafranque)

2008-09-26 21:29  Eero Tamminen

	* doc/emutos.txt: Add separate section on how to debug EmuTOS
	  issues based on info from Thomas.

2008-09-26 18:39  Thomas Huth

	* src/falcon/hostscreen.c: Removed unused code.

2008-09-26 00:23  Nicolas Pomarede

	* src/video.c: On STE, allow to change video address, hw scroll and
	  linewidth when line >= nLastVisibleHbl (fix Power Rise / Xtrem D
	  demo)

2008-09-25 22:05  Thomas Huth

	* src/keymap.c: Added some more keycodes, this time for german Mac
	  keyboards.

2008-09-25 20:36  Nicolas Pomarede

	* src/sound.c: Correctly stop sound after a reset when using old
	  sound engine

2008-09-24 22:01  Eero Tamminen

	* doc/emutos.txt: added STE (enhanced) demos

2008-09-23 01:22  Eero Tamminen

	* doc/emutos.txt: - add STE programs working after Thomas' EmuTOS
	  DMA sound cookie fix - fine-tune the texts

2008-09-21 23:59  Thomas Huth

	* src/falcon/dsp_cpu.c: DSP56k cpu fix: DIV instruction calculation
	  (from Laurent Sallafranque)

2008-09-21 23:57  Thomas Huth

	* src/falcon/dsp_disasm.c: DSP56k disasm fix:  mask out address
	  bits to 32K, to read current instruction

2008-09-20 14:06  Thomas Huth

	* Makefile: Build hmsa from the main Makefile, too.

2008-09-20 14:05  Thomas Huth

	* tools/hmsa/Makefile: Added distclean target

2008-09-20 14:01  Thomas Huth

	* src/options.c: Fixed rcsid label

2008-09-20 13:33  Thomas Huth

	* doc/: hatari.1, fr/hatari.1: Fixed more unquoted dashes in
	  manpages

2008-09-20 13:28  Thomas Huth

	* src/main.c: Oops, reverted last change, didn't want to commit
	  that...

2008-09-20 13:25  Thomas Huth

	* doc/hatari.1, src/main.c: Fixed unquoted dashes in manpage (patch
	  taken from the Debian package, thanks to Teemu Hukkanen)

2008-09-19 20:55  Nicolas Pomarede

	* src/sound.c: Allow to mix volumes with a table (as measured on a
	  real ST) or with a linear mean of the 3 volumes.  Default to
	  linear mixing for now as it gives better results.  Don't center
	  the samples, keep them 16 bits signed but in the range [0,32767]
	  (suppress small sounds when pausing/resuming audio device)

2008-09-16 23:14  Eero Tamminen

	* doc/compatibility.html: - sort STE demos by group/author - add
	  one STE game and several STE demos

2008-09-16 22:31  Thomas Huth

	* src/falcon/dsp_cpu.c: Fixed lua with a Ny destination register,
	  and parallel move, fix B,A as it is not a full 56bit transfer
	  (Thanks to Patrice and Laurent for the patch)

2008-09-15 23:08  Thomas Huth

	* src/falcon/: dsp_cpu.c, dsp_disasm.c: Merged changes from Aranym
	  CVS: - dsp56k fixes:	 -LUA instruction must not change source
	  register.    -Parallel moves: disasm for dsp_pm_4, fixes in
	  dsp_pm_1.  (Thanks to Laurent Sallafranque for the patches)

2008-09-14 23:45  Eero Tamminen

	* doc/emutos.txt: add STE games and update notes

2008-09-14 21:33  Nicolas Pomarede

	* src/uae-cpu/newcpu.c: TRAP was returning 38 cycles instead of 34
	  (Phaleon/Illusion Demo by Next)

2008-09-14 19:53  Eero Tamminen

	* Makefile-MinGW.cnf, config-default.h, src/Makefile: Cygwin
	  improvements from Guillaume D: - src/Makefile: ALLOBJS was added
	  twice under Cygwin - config-default.h: Cygwin doesn't have the
	  "cfmakerow" function - Makefile-MinGW.cnf: overridable SDL_CFLAGS
	  & SDL_LIBS

2008-09-14 13:01  Nicolas Pomarede

	* src/mfp.c: Add more traces Apply Timer D patch only if ctrl reg
	  is != 0

2008-09-14 12:43  Nicolas Pomarede

	* src/uae-cpu/newcpu.c: Improve log

2008-09-13 00:27  Eero Tamminen

	* doc/: compatibility.html, emutos.txt: - Added Super Hang-On to
	  compatibility list - Added compatibility information to
	  emutos.txt along   with lots of other information I had in old
	  mails etc

2008-09-11 22:38  Thomas Huth

	* src/main.c: Removed unnecessary header file includes

2008-09-11 22:33  Thomas Huth

	* src/main.c: Fixed the problem that loading the global
	  configuration file only worked on UNIX-style operating systems
	  which use a '/' as path seperator.

2008-09-07 21:24  Eero Tamminen

	* src/statusbar.c: - Fix TOS version string - Move messages after
	  FS, that looks better in screen with borders

2008-09-07 00:18  Nicolas Pomarede

	* src/: sound.c, includes/ym2149_fixed_vol.h: Use a table to
	  convert the 3 voices' volume to a sample. New mixing for
	  tone/volume/enveloppe using this table.

2008-09-06 23:08  Eero Tamminen

	* src/statusbar.c: - Fix frameskip text Rect width - Add drawing of
	  recording led   - In overlay mode, this overrides the floppy led
	  (color)

2008-09-06 21:14  Eero Tamminen

	* src/statusbar.c: - center the text on drawing instead of
	  centering the string to char array - Add frameskip showing ("FS:
	  0")

2008-09-05 23:40  Eero Tamminen

	* src/statusbar.c: fix/improve docs

2008-09-05 23:29  Eero Tamminen

	* src/: change.c, main.c, statusbar.c, tos.c, includes/statusbar.h,
	  includes/tos.h: Statusbar improvements: - show by default RAM,
	  machine and TOS information - functionality to show other
	  messages (with timeout) - optional debug printf()s - all
	  variables static Other files: - tos.c: change info about etos
	  into extern - main.c: ask statusbar to update default info in
	  suitable   place (after TOS loaded) and show initial help text if
	  default shortcut is used for Options - change.c: ask statusbar
	  to update info when needed

2008-09-05 23:10  Eero Tamminen

	* src/int.c: fix compiler warnings on TRACE() calls for Sint64
	  changes

2008-09-05 20:39  Nicolas Pomarede

	* src/video.c: No need to test 60/50 Hz switch if display has not
	  started yet.

2008-09-04 23:26  Thomas Huth

	* src/mfp.c: Fixed mask for TX buffer empty interrupt.

2008-09-04 23:18  Thomas Huth

	* src/: blitter.c, mfp.c, includes/mfp.h: Added Blitter-done
	  interrupt

2008-09-04 19:52  Thomas Huth

	* src/: int.c, includes/int.h: Changed type of CycleTime back to
	  32-bit so that the 64 bits are only used internally. Also removed
	  the assert statements.

2008-09-04 12:53  Thomas Huth

	* src/int.c: Set cycle counters to INT_MAX during reset (just in
	  case...).

2008-09-04 12:41  Thomas Huth

	* src/: int.c, includes/int.h: Increased size of internal interrupt
	  cycle counter variables to 64 bit. This fixes Sedma's
	  Blittermania for example since the internal DMA sound cycle
	  counter does not overflow anymore.

2008-09-03 23:25  Eero Tamminen

	* doc/compatibility.html: add new demos + update info on some
	  others

2008-09-02 21:46  Nicolas Pomarede

	* src/hdc.c: Update HD led when processing a command

2008-09-02 21:26  Thomas Huth

	* Hatari.xcodeproj/project.pbxproj: Updated the Xcode project file

2008-09-02 20:56  Eero Tamminen

	* src/: gemdos.c, psg.c, statusbar.c, includes/statusbar.h: - add
	  timeout based HD led and separate function for enabling it
	  (floppy leds API remains ON/OFF toggling which is needed for
	  more accurate control that the PSG emulation can provide) -
	  gemdos.c enables HD led when HD emu calls are used - rename "C:"
	  to "HD:", one led is enough for all HDs

2008-09-02 13:10  Thomas Huth

	* src/int.c: Added some assertions to be able to detect overflows
	  in the Int_AddXXXInterrupt functions

2008-09-02 13:08  Thomas Huth

	* src/: ikbd.c, video.c: Decreased IKBD_RESET_CYCLES since the old
	  value caused an overflow in Int_AddRelativeInterrupt(). Now the
	  mouse in Barbarian (from Psygnosis) is working again.

2008-09-02 12:09  Thomas Huth

	* src/: blitter.c, dmaSnd.c, fdc.c, ikbd.c, int.c, mfp.c, video.c,
	  includes/int.h: Removed the offset parameter from
	  Int_AddRelativeInterrupt() since the function
	  Int_AddRelativeInterruptWithOffset() is already used for starting
	  a relative Int with offset

2008-09-02 11:53  Thomas Huth

	* src/: blitter.c, dmaSnd.c, fdc.c, ikbd.c, video.c: Cleaned up
	  superfluous white spaces

2008-08-21 18:05  Thomas Huth

	* src/ikbd.c: Added a workaround for a problem with the game USS
	  John Young / FOF54: It checks whether the transmit-buffer-empty
	  bit is cleared after writing a byte to the IKBD.

2008-08-20 20:01  Eero Tamminen

	* Makefile-default.cnf: - Add check for X11 - move CFLAGS check
	  inside ifneq to speedup non-matching case - use the expanded :=
	  notation so that shell commands are run only once

2008-08-19 22:53  Eero Tamminen

	* src/screenSnapShot.c: Invert RGB byte order for little endian
	  32-bits in PNG saving.

2008-08-19 22:36  Eero Tamminen

	* doc/alsa-midi.txt: minor update

2008-08-19 22:05  Eero Tamminen

	* src/: change.c, gui-sdl/dlgScreen.c: * Change screen options
	  "force 8-bpp" option to statusbar/led toggle	 - Checkbox value
	  taken just from statusbar state, but it sets both	statusbar
	  and led state * Support in change.c for toggling statusbar (+
	  comment improvements)

2008-08-19 21:47  Eero Tamminen

	* src/: configuration.c, options.c, screen.c, statusbar.c,
	  includes/configuration.h, includes/statusbar.h: * add support for
	  overlay drive led to statusbar.c   - and appropriate small update
	  to screen.c * config file and commandline option for
	  enabling/disabling it * enable statusbar & drive-led by default
	  so they get more testing

2008-08-19 21:43  Eero Tamminen

	* src/gui-sdl/dlgScreen.c: align VDI checkbox and texts
	  horizontally with other checkboxes and texts

2008-08-19 21:15  Eero Tamminen

	* src/: configuration.c, main.c, options.c, video.c,
	  gui-sdl/dlgScreen.c, includes/video.h: add support for automatic
	  frameskip and enable it by default

2008-08-19 02:09  Thomas Huth

	* src/: audio.c, dmaSnd.c, sound.c, wavFormat.c, includes/sound.h,
	  includes/wavFormat.h: Changed sound sample type from 8-bit mono
	  unsigned to 16-bit stereo signed.

2008-08-18 22:53  Thomas Huth

	* Makefile-default.cnf: Automatic libpng default configuration

2008-08-18 21:13  Eero Tamminen

	* src/screenSnapShot.c: fix include order and use if instead of
	  ifdef like other config.h checks do

2008-08-18 20:35  Eero Tamminen

	* src/screenSnapShot.c: add support for saving PNGs

2008-08-18 20:16  Thomas Huth

	* src/sound.c: Added workaround for a problem with the GCC 4.2
	  compiler.

2008-08-18 20:12  Thomas Huth

	* configure.ac: Added simple check for libpng

2008-08-18 19:39  Thomas Huth

	* doc/keymap-sample.txt: SDL headers are usually in
	  /usr/include/SDL, not in /usr/share/SDL

2008-08-18 19:35  Thomas Huth

	* doc/fr/clavier-exemple.txt: Added french keymapping file. Thanks
	  to Jerome Vernet for the mappings!

2008-08-16 17:49  Eero Tamminen

	* src/: screen.c, statusbar.c, falcon/hostscreen.c,
	  includes/statusbar.h: Simplify statusbar code by moving the SDL
	  update call to statusbar.c (which also fixes hostscreen.c
	  update).  SDL_UpdateRects() requires Statusbar_Update() to be
	  done outside screen locks, move that.

2008-08-15 19:08  Matthias Arndt

	* src/includes/sound.h: cleanup of sound.h - moved common definitions
	  for both cores out of the #ifdef OLD_SOUND block

2008-08-14 00:26  Nicolas Pomarede

	* src/sound.c: More cast changes

2008-08-14 00:01  Nicolas Pomarede

	* src/sound.c: Add more explicit casts, as reported by
	  -Wconversion. Might help with gcc 4.2 on OS X.

2008-08-13 20:44  Eero Tamminen

	* src/: psg.c, statusbar.c, includes/statusbar.h: - Set led on
	  drive B: access - Enums for different drives - Comment about
	  things that statusbar could also show

2008-08-13 00:14  Nicolas Pomarede

	* src/sound.c: Fix StSound to generate samples in the range -32768
	  - 32767 instead of 0 - 32767. Much better result.

2008-08-12 21:40  Eero Tamminen

	* src/: Makefile, configuration.c, leds.c, options.c, psg.c,
	  screen.c, statusbar.c, falcon/hostscreen.c,
	  includes/configuration.h, includes/leds.h, includes/statusbar.h:
	  - Replace leds (over Atari screen) with NoSTalgia style statusbar
	  - As statusbar increases the SDL screen size, change:   -
	  screen.c updates to use an SDL_Rect that doesn't contain the
	  statusbar   - hostscreen.c screen height variable to ignore
	  statusbar part

2008-08-12 21:36  Eero Tamminen

	* src/: gui-sdl/sdlgui.c, includes/sdlgui.h: Prepare SDL GUI
	  functions for statusbar support: - Add small SDLGui_GetFontSize()
	  function - Change SDLGui_Text() to extern - Allow calling
	  SDLGui_Init() multiple times

2008-08-12 21:00  Nicolas Pomarede

	* src/: includes/sound.h, sound.c: Frequency change between 44, 22
	  and 11 kHz was not correctly handled in new StSound method.

2008-08-10 16:32  Nicolas Pomarede

	* src/: sound.c, includes/sound.h: Import StSound 1.2 rendering
	  engine to replace the current method.

2008-08-10 12:39  Nicolas Pomarede

	* src/sound.c: Revert modif : don't set per=1 when per=0, this
	  cause sharp sound with some sample replay routines.

2008-08-07 23:19  Eero Tamminen

	* src/screen.c: - revert earlier 32->24 change and comment why the
	  surface   needs to be re-created - rename leds related variables
	  and add comments to clarify	how it works

2008-08-07 22:18  Eero Tamminen

	* src/: leds.c, includes/configuration.h: move main.h inclusion to
	  .c

2008-08-07 21:41  Eero Tamminen

	* src/: leds.c, screen.c: remove dummy led light blinking, fix
	  partial screen update for led

2008-08-07 20:39  Nicolas Pomarede

	* src/psg.c: Set drive light ON if drive A is selected

2008-08-07 20:16  Eero Tamminen

	* src/screen.c: - Add support for leds/indicators for ST/e screen
	  modes - Change unused bSwapScreen argument (for fullscreen) in
	  Screen_Blit()   to SDL_Rect * for led update area (in case only
	  leds are updated) - Instead of re-creating SDL screen surface as
	  32-bits when 24-bits	 is selected in Screen_SetResolution(),
	  just set 32-bits to 24

2008-08-07 20:07  Eero Tamminen

	* src/falcon/hostscreen.c: add led/indicator show/hide to render
	  begin/end for TT and Falcon video modes

2008-08-07 20:05  Eero Tamminen

	* src/: configuration.c, options.c: add configuration option for
	  leds/indicators like floppy light

2008-08-07 20:04  Eero Tamminen

	* src/: Makefile, leds.c, includes/leds.h: add gfx side of floppy
	  light support

2008-08-06 21:28  Eero Tamminen

	* src/includes/configuration.h: add include files needed by this

2008-08-06 01:42  Thomas Huth

	* src/falcon/: dsp_core.c, dsp_core.h, dsp_cpu.c: Merged changes
	  from Aranym repository: - Use proper SDL function to wait for
	  thread to finish - rewrite of dsp_core - Remove states - Simply
	  unlock semaphore on read/write - Defined stuff shared between cpu
	  and dsp thread as volatile - It seems most dsp programs always
	  handshake when reading from dsp host port

2008-08-06 01:26  Thomas Huth

	* src/falcon/: araglue.h, dsp_disasm.c, hostscreen.c, hostscreen.h,
	  nvram.c, videl.c: Replaced Aranym integer types with SDL integer
	  types

2008-08-05 21:23  Eero Tamminen

	* doc/compatibility.html: use CSS class instead of bgcolor
	  attribute for colors

2008-08-02 21:25  Eero Tamminen

	* doc/compatibility.html: sort ST games alphabetically similarly to
	  STE and Falcon games lists

2008-08-02 20:53  Eero Tamminen

	* doc/compatibility.html: mark issues with color instead of <em>.
	  Move Ray's TT/Falcon intros to TT section as that has less
	  entries.

2008-08-01 19:14  Thomas Huth

	* src/falcon/: dsp.c, dsp_core.c: Replaced old uint8 types

2008-08-01 01:31  Thomas Huth

	* src/falcon/: dsp_core.c, dsp_core.h, dsp_cpu.c: Merged Patrice's
	  latest changes: - Move around mutex lock/unlock - Replace uae
	  data type by SDL data types

2008-07-31 22:45  Thomas Huth

	* src/falcon/dsp_core.h: SDL_thread.h must be included, too,
	  because it is missing in SDL.h on older SDL versions like 1.2.7

2008-07-31 21:43  Thomas Huth

	* src/falcon/araglue.h: DSP code needs some functions from
	  string.h, so this header file must be included, too.

2008-07-31 21:23  Thomas Huth

	* doc/compatibility.html: Added V8 music system and Songs of the
	  Unexpected

2008-07-31 01:09  Eero Tamminen

	* doc/compatibility.html: update info

2008-07-30 18:48  Eero Tamminen

	* src/control.c: - add support for remotely:   - toggling devices
	  - setting paths - remove support for using "stdin" for control
	  socket.  hatari-console.py   is nicer and e.g. WinSock wouldn't
	  support select with stdin

2008-07-30 18:45  Eero Tamminen

	* doc/compatibility.html: update compatibility list as discussed on
	  hatari-devel

2008-07-30 00:12  Thomas Huth

	* src/falcon/dsp_cpu.c: Patch from Aranym: Calculate how many
	  instructions we executed per second, seem we are very far from
	  real hw

2008-07-30 00:10  Thomas Huth

	* src/falcon/: Makefile, dsp.c: Forgot to define DSP_EMULATION=1
	  when DSP was enabled.

2008-07-29 23:56  Thomas Huth

	* src/Makefile: Added the new file dsp_core.c to the main Makefile

2008-07-29 23:38  Eero Tamminen

	* src/screen.c: ; after CALL_VAR macro like elsewhere, fix
	  following code indenting

2008-07-29 23:32  Thomas Huth

	* src/falcon/: Makefile, araglue.h, dsp.c, dsp.h, dsp_core.c,
	  dsp_core.h, dsp_cpu.c, dsp_cpu.h, dsp_disasm.c, dsp_disasm.h:
	  Merged Patrice's latest changes to the DSP emulation code in
	  Aranym: Implementation of DSP emulation in plain C. Thanks a lot
	  Patrice!

2008-07-29 23:27  Eero Tamminen

	* src/options.c: shorter and more consistent option descriptions

2008-07-28 22:38  Thomas Huth

	* src/ikbd.c: Added missing IKBD commands for status inquiries.

2008-07-28 21:49  Thomas Huth

	* src/ikbd.c: Some IKBD commands like 0x0d, 0x16 and 0x1c need an
	  additional delay until the first byte is sent back from the IKBD.
	  The 'Unlimited bobs' screen from the Dragonnels demo is working
	  now.

2008-07-28 00:37  Thomas Huth

	* src/falcon/: dsp_cpu.c, dsp_disasm.c, dsp_disasm.h: Patches from
	  Aranym: Add function so we know when LC was decremented.

2008-07-27 23:44  Thomas Huth

	* src/falcon/: dsp.c, dsp.h, dsp_cpu.c: Reworked state change for
	  dsp thread, and always force execution of dsp when cpu read/write
	  from host port

2008-07-27 22:36  Thomas Huth

	* src/falcon/dsp_cpu.c: Patch from Aranym: Fixed wrong calculation
	  of E bit in SR and added missing masking of ZUE value for CC
	  calculation

2008-07-27 20:33  Nicolas Pomarede

	* src/includes/sound.h: Remove unnecessary 'extern' variables

2008-07-27 20:26  Nicolas Pomarede

	* src/: sound.c, ymFormat.c, includes/sound.h, psg.c: Better
	  separation between accesses to the YM hardware registers and the
	  sound rendering routines (to ease replacement by another sound
	  rendering module)

2008-07-25 20:15  Eero Tamminen

	* tools/hmsa/hmsa.c: fix build

2008-07-24 00:00  Thomas Huth

	* src/falcon/dsp_cpu.c: Merged some more changes from Aranym
	  repository

2008-07-23 23:20  Thomas Huth

	* src/falcon/dsp_cpu.c: Patch from Aranym: Change detection of
	  polling loop

2008-07-23 23:12  Thomas Huth

	* src/falcon/dsp_cpu.c: Patch from Aranym: Split write_memory in
	  disasm/non disasm version

2008-07-23 23:11  Thomas Huth

	* src/falcon/dsp_disasm.c: Patch from Aranym: Fix disasm to match
	  memory mapping changes

2008-07-23 00:26  Thomas Huth

	* src/falcon/: dsp.c, dsp_cpu.c: Sync'ed DSP sources with Aranym
	  repository: Change X, Y and P memory mapping to match what
	  happens on Falcon.

2008-07-22 23:45  Thomas Huth

	* src/falcon/: dsp.c, dsp.h, dsp_cpu.c, dsp_disasm.c: Put the DSP
	  variables in a struct and introduced the getDSP function for
	  Hatari, too, so that the code gets much closer to the original
	  Aranym sources again. This helps a lot when sync'ing the sources
	  with Aranym.

2008-07-22 22:55  Thomas Huth

	* src/: includes/ikbd.h, includes/int.h, ikbd.c, int.c: When a byte
	  arrives at our virtual ACIA, do not trigger the corresponding MFP
	  interrupt immediately but some cycles later. This fixes the V8
	  music system demo.

2008-07-22 22:34  Thomas Huth

	* src/control.c: Fixed compiler warning

2008-07-21 22:39  Thomas Huth

	* src/falcon/dsp_cpu.c: Copied new DSP update-Rn-modulo function
	  from the Aranym CVS repository.

2008-07-19 15:51  Nicolas Pomarede

	* src/video.c: If using an invalid resolution value 0x03 in
	  $ff8260, use 0x00 (low res) instead (fix Omegakul screen in Omega
	  Demo from 1988)

2008-07-19 00:15  Thomas Huth

	* src/falcon/: dsp_cpu.c, dsp_disasm.c: Synced DSP sources with
	  Aranym repository. This fixes the register encoding of the
	  following DSP instructions: Tcc, AND, EOR & OR (cheers to Patrice
	  Mandin for the changes)

2008-07-18 21:02  Thomas Huth

	* src/falcon/dsp.c: When using DSP_HOST_FORCEEXEC we've got delay a
	  little bit to free some CPU cycles for the DSP thread.

2008-07-16 23:12  Thomas Huth

	* src/: ikbd.c, log.c, includes/log.h: Introduced more IKBD trace
	  levels and replaced old WinSTon IKBD debug code with HATARI_TRACE
	  calls.

2008-07-15 00:52  Thomas Huth

	* src/falcon/dsp_disasm.c: Fixed the register encoding of the ADD,
	  SUB and TFR instructions of the DSP disassembler (Y0 and X1 were
	  swapped).

2008-07-14 19:42  Thomas Huth

	* src/main.c: Fixed bug: HostScreen_UnInit was only called when
	  also DSP emulation was enabled.

2008-07-14 17:03  Nicolas Pomarede

	* src/video.c: Left border removal in 60 Hz gives a total line size
	  of 184 bytes instead of 186.

2008-07-13 00:26  Nicolas Pomarede

	* doc/compatibility.html: All parts of the B.I.G. Demo are working
	  fine

2008-07-12 23:51  Nicolas Pomarede

	* src/ikbd.c: Faster mouse in Dragonnels and Froggies Over The
	  Fence

2008-07-12 17:55  Nicolas Pomarede

	* src/: ikbd.c, includes/ikbd.h, uae-cpu/hatari-glue.c: Add support
	  for custom 6301 programs. This is not a 6301 emulator, we're just
	  replacing the read/write functions with some customs one, based
	  on the CRC of the bytes sent to the 6301 RAM.  This fixes
	  'Froggies Over The Fence', 'Transbeauce 2' and 'Dragonnels'.

2008-07-12 15:17  Nicolas Pomarede

	* src/mfp.c: Correct a rare case when stopping a timer and the
	  internal data counter is already < 1 (fix Froggies Over The Fence
	  Menu)

2008-07-10 23:19  Nicolas Pomarede

	* src/: Makefile, utils.c, includes/utils.h: Add utils.c to store
	  various utility functions (crc32, ...)

2008-07-08 23:17  Thomas Huth

	* src/falcon/dsp_cpu.c: Ooops, DSP_DISASM should not be defined by
	  default.

2008-07-08 23:13  Thomas Huth

	* src/falcon/dsp_cpu.c: Fixed the DSP_CHECK_MEM_ACCESS defines
	  (#endifs were placed at the wrong lines).

2008-07-08 22:55  Eero Tamminen

	* doc/compatibility.html: updates to Falcon compatibility

2008-07-08 22:26  Nicolas Pomarede

	* src/m68000.c: Add pairing for LSL/ABCD (and all variants)
	  (Rainbow Wall part in Dragonnels Demo)

2008-07-08 00:14  Thomas Huth

	* Hatari.xcodeproj/project.pbxproj: Refreshed Xcode project file.
	  Thanks to Jerome Vernet for the update

2008-07-07 23:34  Thomas Huth

	* doc/authors.txt, src/Makefile, src/falcon/dsp_cpu.c: Fixed bug in
	  the DSP modulo addressing mode. The first two Falcon DSP programs
	  (SPHERE.PRG and Virtual City) are working now! Big thanks to
	  Laurent Sallafranque for the patch!

2008-07-07 23:22  Nicolas Pomarede

	* src/video.c: Better timer B position when right border is removed
	  (fix Oxygene screen in Transbeauce 2)

2008-06-29 23:33  Thomas Huth

	* src/blitter.c, doc/compatibility.html: During blitter operations,
	  check for pending interrupts even more often. This fixes the
	  Doughnut screen in Just Musix 2 and the the bouncing vector ball
	  screen in Braindamage demo.

2008-06-28 13:22  Nicolas Pomarede

	* src/: video.c, ioMemTabSTE.c, includes/video.h: On STE, add
	  support for $ff8264 (horizontal scrolling with no prefetch) and
	  refactor the scrolling routines in a more generic way (fix
	  Digiworld 2 by ICE)

2008-06-27 00:00  Thomas Huth

	* src/gui-osx/PrefsController.m: Restore ConfigureParams when the
	  user selected 'Cancel' in the emulator-must-be-reset alert
	  dialog.

2008-06-26 23:33  Thomas Huth

	* src/tos.c: Assert that we are using at least a 68020 CPU for TOS
	  versions > 3.00

2008-06-26 22:00  Eero Tamminen

	* src/options.c: - show --control-socket option only if it's
	  available - remove redundant "This is" from front of Hatari
	  name/version

2008-06-26 01:01  Thomas Huth

	* doc/compatibility.html: Added EPSS demo, and corrected Obsession
	  and Braindamage description.

2008-06-23 22:56  Eero Tamminen

	* src/: change.c, control.c, dialog.c, main.c, screen.c,
	  falcon/hostscreen.c, includes/control.h, includes/main.h: -
	  implicit reboot after settings change should be OKed from   user
	  even if alerts are shown only for warnings/errors - fix (reboot
	  requiring) configuration changes canceling   (broken by
	  configuration handling refactoring) - move Hatari window
	  embedding from main.c to control.c - external UI can now ask to
	  be notified about Hatari   SDL window size changes - support
	  window embedding also in Falcon/TT screen modes

2008-06-17 23:17  Eero Tamminen

	* src/: floppy.c, includes/floppy.h: support ejecting floppy from
	  command line

2008-06-17 08:10  Thomas Huth

	* src/gui-osx/PrefsController.m: Fixed comment

2008-06-16 22:24  Thomas Huth

	* src/gui-osx/: PrefsController.m, SDLMain.m: Fixed the OS X GUI so
	  that it is compilable again.

2008-06-16 21:34  Nicolas Pomarede

	* src/video.c: Ensure unused lines are cleared in 60 Hz when Hatari
	  is configured to display the screen's borders.

2008-06-16 21:22  Thomas Huth

	* src/rs232.c: Fixed RS232 baud rate setting (always use the by-16
	  prescaler)

2008-06-16 19:10  Thomas Huth

	* src/ioMem.c: Writing to IO space is not allowed in user mode.
	  Thanks to George Nakos for the hint!

2008-06-15 14:02  Eero Tamminen

	* src/shortcut.c: - add savemem shortcut parsing - remove parsing
	  for debug interface shortcut (debug commands can   be invoked
	  nowadays directly without the debug interface)

2008-06-13 23:43  Eero Tamminen

	* src/main.c: add note about the MinGW issue

2008-06-13 23:09  Eero Tamminen

	* src/: floppy.c, includes/floppy.h: - Change floppy eject alert to
	  printf (the alert wasn't triggered   earlier as bInformUser
	  wasn't used anywhere) - unsigned short (int) -> Uint16

2008-06-13 19:44  Thomas Huth

	* src/main.c: Fixed the prototype of main() so that Hatari compiles
	  on Windows and Mac OS X again. Also removed saving of the current
	  working directory in memory snap shots (it is not really
	  required).

2008-06-13 08:36  Thomas Huth

	* src/blitter.c: Blitter runs at 16 MHz in the Falcon

2008-06-12 23:16  Eero Tamminen

	* configure.ac: note about getting install-sh complained by
	  configure

2008-06-12 22:51  Eero Tamminen

	* src/options.c: use standard strchr() instead of BSD index()

2008-06-12 20:03  Thomas Huth

	* src/blitter.c: According to Cyprian's blitter test program, the
	  blitter starts 4 cycles earlier already.

2008-06-12 19:55  Thomas Huth

	* src/blitter.c: Fix for the game Obsession: Update the pending
	  interrupt functions regularly, also in blitter hog mode.

2008-06-11 22:01  Eero Tamminen

	* src/: main.c, options.c: fix compile warning

2008-06-10 21:53  Eero Tamminen

	* src/options.c: - add "--vdi <bool>" option - add support for
	  options postfixed with a digit - add "--joy<port> <type>" option
	  - remove "-a" shortcut for --disk-a (not really needed)

2008-06-08 22:09  Eero Tamminen

	* src/floppy.c: Should the filenames be absolute (in config file)?

2008-06-08 22:04  Eero Tamminen

	* src/: change.c, floppy.c, gui-sdl/dlgDisk.c, includes/floppy.h: -
	  dialog may not eject disk directly, just set the file name to
	  none,   otherwise ejecting doesn't work - remove unused
	  bInformUser from floppy eject - add bool return value on whether
	  there was a floppy that was ejected - 0 -> '\0' is a bit more
	  explicit (readable) for strings

2008-06-08 21:30  Eero Tamminen

	* src/: change.c, dialog.c, includes/change.h: change.c can apply
	  changes regardless of whether the new values are in
	  ConfigureParams or some other struct.  This makes it easier to
	  have configuration changes editing (or calling some that edits)
	  ConfigureParams directly.

2008-06-08 19:37  Eero Tamminen

	* src/: change.c, configuration.c, floppy.c, log.c, main.c,
	  options.c, paths.c, gui-sdl/dlgDisk.c, includes/configuration.h,
	  includes/floppy.h, includes/options.h: * Add floppy disk image
	  file names (and their zip paths)   to Hatari configuration *
	  Insert the floppies in Change_CopyChangedParamsToConfiguration()
	  based on changes in these * Separated in floppy.c setting disk
	  image names from actually   inserting them * Above three allow
	  fixing the gui-sdl/dlgDisk.c FIXMEs.	  Changes to floppy
	  settings are now cancellable like all other settings	* Remove
	  bootdisk stuff from Opt_ParseParameters() arguments,	 main.c and
	  change.c as it's now unnecessary * Add following options:
	  --disk-a <file>   Disk image in floppy drive A   --disk-b <file>
	  Disk image in floppy drive B * Fixed log level name in level
	  parsing * Cleaned up some old comments and how main.c handles
	  working dir  (latter still ugly) and added few more Log lines to
	  floppy.c

2008-06-08 18:07  Eero Tamminen

	* src/: dialog.c, gui-sdl/dlgDevice.c, includes/dialog.h,
	  gui-sdl/dlgDisk.c, gui-sdl/dlgJoystick.c, gui-sdl/dlgKeyboard.c,
	  gui-sdl/dlgMain.c, gui-sdl/dlgMemory.c, gui-sdl/dlgNewDisk.c,
	  gui-sdl/dlgRom.c, gui-sdl/dlgScreen.c, gui-sdl/dlgSound.c,
	  gui-sdl/dlgSystem.c: prepare for being able to cancel floppy
	  changes: - backup ConfigureParams before opening Hatari dialogs -
	  use ConfigureParams directly from the dialog Currently code needs
	  additional Params struct and copying it, I'll fix that after
	  fixing the floppy disk code.

2008-06-07 20:42  Nicolas Pomarede

	* src/: video.c, includes/screen.h, includes/video.h: Rename some
	  video constants to avoid confusion with the values used in
	  screen.h

2008-06-04 01:06  Thomas Huth

	* src/falcon/dsp_cpu.c: Return value was also wrong in JSCLR.
	  Thanks to Laurent Sallafranque for the patch.

2008-06-04 01:01  Thomas Huth

	* src/blitter.c: 1) Blitter uses the bus for 64 _bus_ cycles, not
	  64 CPU cycles. 2) Added cycle timings for FXSR and NFSR. Big
	  thanks to Cyprian Konador for the hints and his blitter test
	  programs!

2008-06-03 21:41  Eero Tamminen

	* src/: main.c, screen.c, includes/main.h: fix window embedding
	  when Hatari returns from the fullscreen mode

2008-06-03 20:10  Nicolas Pomarede

	* src/: blitter.c, log.c, includes/log.h: Add tracing options for
	  the blitter

2008-06-02 22:07  Eero Tamminen

	* src/: change.c, keymap.c, main.c, options.c, paths.c,
	  includes/options.h, includes/paths.h: add missing consts and
	  ctype.h includes

2008-06-01 23:38  Thomas Huth

	* src/falcon/dsp_cpu.c: Fixed bug in the DSP instruction JSSET: The
	  saved PC was 1 instruction wrong after the RTS (the next
	  instruction was jumped). Thanks to Laurent Sallafranque for the
	  patch.

2008-06-01 23:33  Thomas Huth

	* src/falcon/dsp.c: Fixed compilation bug when DSP_HOST_FORCEEXEC
	  was set to 1 (thanks to Laurent Sallafranque for the hint)

2008-06-01 12:26  Nicolas Pomarede

	* src/: screen.c, includes/screen.h: Display 45 lines instead of 47
	  in bottom overscan, else some demos will show garbages in the
	  last 2 lines.

2008-05-31 19:57  Nicolas Pomarede

	* src/video.c: Ignore consecutive writes of the same value to
	  freq/res register

2008-05-26 21:09  Thomas Huth

	* src/gui-osx/AlertHooks.h: useAlertHooks is now bool instead of
	  BOOL.

2008-05-25 21:58  Thomas Huth

	* src/: int.c, joy.c, keymap.c, m68000.c, memorySnapShot.c, mfp.c,
	  options.c, printer.c, psg.c, reset.c, rs232.c, rtc.c, screen.c,
	  screenSnapShot.c, shortcut.c, spec512.c, tos.c, video.c, xbios.c,
	  zip.c, gui-sdl/dlgAlert.c, gui-sdl/dlgDisk.c,
	  gui-sdl/dlgFileSelect.c, gui-sdl/dlgMain.c, includes/int.h,
	  includes/joy.h, includes/m68000.h, includes/main.h,
	  includes/memorySnapShot.h, includes/mfp.h, includes/options.h,
	  includes/printer.h, includes/psg.h, includes/rs232.h,
	  includes/screen.h, includes/screenSnapShot.h, includes/sdlgui.h,
	  includes/shortcut.h, includes/spec512.h, includes/tos.h,
	  includes/video.h, includes/xbios.h, includes/zip.h: BOOL ==> bool

2008-05-25 12:54  Eero Tamminen

	* src/: configuration.c, options.c: fix bFastForward config
	  variable type and improve -D option description

2008-05-25 11:18  Thomas Huth

	* src/blitter.c: Call IO mem handlers when the blitter writes to
	  the IO registers. This is required for Protracker STE (by
	  Equinox) for example.

2008-05-23 17:10  Thomas Huth

	* src/blitter.c: Ugly hack for the game Obsession: When the blitter
	  is running in HOG mode, it seems to have a lower priority than
	  DMA sound.

2008-05-23 16:44  Thomas Huth

	* src/main.c: Got to use RomMem instead of STRam for
	  ENABLE_SMALL_MEM

2008-05-23 16:18  Thomas Huth

	* src/cart.c: Got to use RomMem instead of STRam for
	  ENABLE_SMALL_MEM

2008-05-21 21:46  Eero Tamminen

	* doc/compatibility.html: re-test 20 years

2008-05-21 19:50  Eero Tamminen

	* doc/compatibility.html: Sierpinski overdose works

2008-05-20 20:31  Eero Tamminen

	* doc/compatibility.html: update for latest Blitter fixes

2008-05-20 00:35  Thomas Huth

	* src/blitter.c: The  Do_Blit function can now abort and resume
	  exactly after 64 cycles. Also changed the way the blitting is
	  started (not directly anymore when writing to the control
	  register - it is now started after some few CPU cycles like on
	  the real hardware)

2008-05-19 23:00  Thomas Huth

	* src/falcon/: hostscreen.c, hostscreen.h, nvram.c, videl.c:
	  Replaced 'BOOL' by 'bool'

2008-05-19 22:34  Thomas Huth

	* src/: bios.c, cfgopts.c, configuration.c, createBlankImage.c,
	  dialog.c, dim.c, dmaSnd.c, fdc.c, floppy.c, gemdos.c, hdc.c,
	  ikbd.c, includes/bios.h, includes/configuration.h,
	  includes/dialog.h, includes/dim.h, includes/dmaSnd.h,
	  includes/fdc.h, includes/floppy.h, includes/gemdos.h,
	  includes/hdc.h, includes/ikbd.h: Replaced 'BOOL' by 'bool'

2008-05-19 22:12  Thomas Huth

	* src/gui-osx/PrefsController.m: Made OS X GUI compilable again

2008-05-19 02:07  Thomas Huth

	* src/blitter.c: Enabled cycle accurate blitter emulation after
	  fixing two remaining bugs. The game 'Roger' from Tobe works now
	  with the right speed.

2008-05-19 01:33  Thomas Huth

	* src/: blitter.c, int.c, includes/blitter.h, includes/int.h: First
	  steps towards cycle accurate blitter emulation (not working yet)

2008-05-18 22:45  Thomas Huth

	* src/blitter.c: Some more source code simplifications

2008-05-10 19:42  Thomas Huth

	* src/includes/control.h: Fixing some problems that occured when
	  compiling Hatari with MinGW

2008-05-10 00:38  Eero Tamminen

	* src/control.c: improve remote control help + debugging

2008-05-10 00:37  Eero Tamminen

	* src/debugui.c: more places where flushing is needed

2008-05-09 22:57  Eero Tamminen

	* src/debugui.c: debug log needs to be flushed to get to file

2008-05-09 22:55  Thomas Huth

	* src/: blitter.c, ioMemTabFalcon.c, ioMemTabST.c, ioMemTabSTE.c,
	  includes/blitter.h: More blitter code clean-up

2008-05-09 21:11  Eero Tamminen

	* src/: debugui.c, options.c: Allow setting command line options
	  from the debugger with 'o' command.  If you still want to disable
	  debugger from within the debugger, use "o -D" instead of "o".

2008-05-09 20:25  Eero Tamminen

	* src/: Makefile, change.c, control.c, main.c, options.c,
	  includes/change.h, includes/control.h: control socket code
	  changes: - move control socket code to its own control.c file -
	  if sockets are not available, disable all control socket   socket
	  related code instead of just functions using socket/select - add
	  debugger remote control support - add support for stopping and
	  continuing Hatari emulation	(needed for remote debugging) - add
	  help also for top level remote commands (when   encountering
	  command that it doesn't recognize)

2008-05-09 20:19  Eero Tamminen

	* src/debugui.c: - make debug logging robust also when calling
	  input parser	 directly instead of through the debugger prompt

2008-05-08 22:41  Eero Tamminen

	* src/: debugui.c, includes/debugui.h: - BOOL -> bool - Prepare for
	  external debug UI:   - make log file handling more robust (also
	  renamed the variable)   - split command parsing out of the
	  function reading it from user

2008-05-07 22:53  Eero Tamminen

	* src/: change.c, keymap.c, includes/change.h, includes/keymap.h: -
	  support both ASCII chars and keycodes for key press/release
	  simulation - move ASCII->keycode key simulation to keymap.c -
	  change BOOL to bool in change.c

2008-05-06 23:09  Eero Tamminen

	* src/change.c: in the key press/release synthetizing: - ASCII
	  characters need to be converted to ST keycodes - Uppercase
	  characters need simulating also SHIFT press/release

2008-05-06 20:05  Eero Tamminen

	* configure.ac: - enable tracing by default - fix --disable-tracing
	  and --disable-small-mem

2008-05-05 21:39  Nicolas Pomarede

	* src/sound.c: When setting period to 0, the YM seems to produce
	  the same sound as if period was in fact set to 1 (fix ESwat buggy
	  replay)

2008-05-04 22:03  Thomas Huth

	* src/: change.c, mfp.c, scandir.c: Fixed compiler warnings

2008-05-04 21:21  Thomas Huth

	* src/: Makefile, bios.c, fdc.c, gemdos.c, ikbd.c, keymap.c,
	  main.c, misc.c, msa.c, reset.c, screen.c, sound.c, xbios.c,
	  includes/misc.h: Removed misc.c and misc.h

2008-05-04 21:08  Thomas Huth

	* src/blitter.c: Removed the macro-mania from blitter.c ... the new
	  code might be somewhat slower, but is hopefully much better
	  maintainable and extensible now

2008-05-04 19:43  Thomas Huth

	* src/: debugui.c, str.c, includes/str.h: Moved string functions to
	  str.c

2008-05-04 19:30  Thomas Huth

	* src/debugui.c: Fixed return value of function getRange()

2008-05-03 22:20  Nicolas Pomarede

	* src/fdc.c: More infos in the traces and add some 'FIXME' notes on
	  type II read sector with bit 'm' set

2008-05-03 21:09  Thomas Huth

	* src/options.c: Boot always from floppy if it is specified after
	  the hard disk directory

2008-05-03 20:58  Thomas Huth

	* src/: audio.c, blitter.c, file.c, log.c, main.c, msa.c, sound.c,
	  st.c, vdi.c, wavFormat.c, ymFormat.c, includes/audio.h,
	  includes/blitter.h, includes/file.h, includes/log.h,
	  includes/main.h, includes/msa.h, includes/sound.h, includes/st.h,
	  includes/vdi.h, includes/wavFormat.h, includes/ymFormat.h: The
	  BOOL typedef in main.h always clashed with the definintion
	  somewhere in windows.h - and something similar also happens on
	  Mac OS X ... instead of always fixing the header inclusion order,
	  it's maybe better to get rid of BOOL and use the defines from
	  stdbool.h instead. These are now the first steps into this
	  direction.

2008-05-03 20:29  Thomas Huth

	* config-default.h, configure.ac, src/change.c: Added autoconf
	  check for unix domain sockets

2008-04-28 23:26  Eero Tamminen

	* src/: change.c, shortcut.c, includes/change.h,
	  includes/shortcut.h: - disable control socket when WIN32 is
	  defined   (--no-cygwin would require Winsock use) - add support
	  for synthetizing rightclick/doubleclick/keyevent   through the
	  control socket - change related functions to return error (FALSE)
	  when they fail

2008-04-28 22:22  Nicolas Pomarede

	* src/fdc.c: Add more detailled traces for all commands

2008-04-27 13:22  Nicolas Pomarede

	* src/uae-cpu/: gencpu.c, readcpu.c: "strange" mode : Areg is
	  possible as a source in move.b, eg move.b a1,(a0) (dc.w $1089)
	  (Blood Money in Superior Compil 65)

2008-04-26 00:17  Eero Tamminen

	* src/change.c: - fix command debug output - read can include
	  several commands send by the other end.    use newline to
	  separate the commands

2008-04-26 00:15  Eero Tamminen

	* src/log.c: allow run-time disabling of all traces with 'none'

2008-04-23 22:55  Eero Tamminen

	* src/: Makefile, change.c, dialog.c, main.c, options.c,
	  shortcut.c, includes/change.h, includes/options.h,
	  includes/shortcut.h: - Move configuration change code from
	  dialog.c to new change.c file - Return FALSE instead of exiting
	  or errors in options.c option parsing - Exit in main.c if option
	  parsing returns FALSE - Add new --control-socket Hatari option to
	  options.c - call change.c socket/stdin checking function from
	  main.c event loop - Receive command line options through socket
	  or stdin in change.c	 and with help of option.c, change the co.
	  settings - Add function to do shortcut actions based on their
	  name to shortcut.c - call that from change.c

2008-04-23 19:59  Nicolas Pomarede

	* src/psg.c: Mask for noise period is 0x1f, not 0x3f ...

2008-04-21 22:49  Eero Tamminen

	* src/cfgopts.c: try fixing for Str_Trim() that really removes all
	  whitespace

2008-04-20 18:04  Eero Tamminen

	* src/str.c: trim all white space instead of just spaces and tabs

2008-04-20 15:11  Nicolas Pomarede

	* src/psg.c: Mask bit 0-5 of reg 6 (noise period) in case a program
	  would read it.

2008-04-20 14:16  Nicolas Pomarede

	* src/mfp.c: In TRACE call, replace get_long by STMemory_ReadLong,
	  else we could get bus error when restoring a gemdos snapshot and
	  --trace mfp_exception was used (because get_long checks we're in
	  supervisor mode, which is not necessarily the case)

2008-04-19 10:04  Nicolas Pomarede

	* src/uae-cpu/newcpu.c: Add wait states extra cycles before testing
	  pending interrupts

2008-04-18 22:35  Nicolas Pomarede

	* src/mfp.c: Handle read at $fffa21 occuring at the same time the
	  Timer B counter is decremented by the end of line interrupt (fix
	  flickering bottom border in B.I.G. Demo screen 1)

2008-04-18 22:31  Nicolas Pomarede

	* src/: cycles.c, video.c, includes/video.h: Handle read at $fffa21
	  occuring at the same time the Timer B counter is decremented by
	  the end of line interrupt (fix flickering bottom border in B.I.G.
	  Demo screen 1)

2008-04-18 19:02  Nicolas Pomarede

	* src/uae-cpu/table68k: extb.l (8 bits -> 32 bits) is only
	  available on CPUs >= 68020

2008-04-16 20:49  Nicolas Pomarede

	* src/m68000.c: Add pairing for LSR/ADD (and all variants) (Zoolook
	  part in ULM New Year Demo)

2008-04-15 23:51  Nicolas Pomarede

	* src/: m68000.c, includes/m68000.h: Add some pairing combinations
	  (verified on STF) : BTST/Bcc, MUL/DIV, MUL/MOVE, EXG/MOVE

2008-04-14 00:11  Thomas Huth

	* src/: Makefile, cfgopts.c, gemdos.c, keymap.c, misc.c, str.c,
	  includes/misc.h, includes/str.h: Moved string functions to new
	  file str.c

2008-04-13 20:08  Nicolas Pomarede

	* src/mfp.c: Add traces for Timer A/B in event count mode (ctrl=8)

2008-04-12 17:41  Nicolas Pomarede

	* src/video.c: Correct position of end of line / timer B interrupt
	  when detecting a 'right-2' line.

2008-04-11 22:24  Nicolas Pomarede

	* src/: video.c, includes/video.h: Cycle precise position for the
	  end of line / timer B interrupt, depending on the current freq
	  (50 or 60 Hz) (slightly improve bottom border in B.I.G. Demo
	  screen 1)

2008-04-09 21:55  Eero Tamminen

	* src/video.c: debug output to stderr if using printf

2008-04-09 00:11  Thomas Huth

	* src/gemdos.c: The emudrives structure is now saved into memory
	  snapshots, too, so that the memory snapshots should now work
	  better when GEMDOS HD emulation is turned on.

2008-04-08 00:08  Nicolas Pomarede

	* src/: video.c, includes/video.h: Use different values for
	  VblVideoCycleOffset if system is STF or STE (4 cycles
	  difference).	With the specific value of LineRemoveTopCycle on
	  STE, this fixes the end part of Pacemaker by Paradox (which
	  missed 8 cycles to work in STE mode)

2008-04-07 23:47  Thomas Huth

	* src/: gemdos.c, memorySnapShot.c: Added missing GEMDOS variable
	  to memory snapshots

2008-04-07 22:40  Eero Tamminen

	* src/: options.c, includes/options.h, uae-cpu/newcpu.c: add bios +
	  xbios interception debug option

2008-04-07 21:49  Thomas Huth

	* src/log.c: Fixed compiler warning

2008-04-07 21:43  Thomas Huth

	* src/: cart.c, includes/m68000.h, includes/main.h: Moved the 68k
	  related #defines from main.h to m68000.h

2008-04-07 21:04  Eero Tamminen

	* configure.ac: fix HATARI_TRACE_ACTIVATED define name

2008-04-06 21:20  Eero Tamminen

	* src/: ikbd.c, mfp.c, psg.c, spec512.c, video.c: - revert some
	  tracing changes, Nicolas likes the earlier way better   (when
	  HATARI_TRACE_PRINT is defined always to printf, compiler
	  warnings about unused variables go away)

2008-04-06 21:16  Eero Tamminen

	* src/includes/log.h: fix AHATARI_TRACE_PRINT issue

2008-04-06 20:38  Eero Tamminen

	* src/includes/log.h: add gcc format parameter checks for logging

2008-04-06 20:37  Eero Tamminen

	* src/includes/ikbd.h: remove protos for static functions

2008-04-06 14:57  Eero Tamminen

	* src/ikbd.c: declare locally used functions static

2008-04-06 14:39  Eero Tamminen

	* src/: ikbd.c, log.c, mfp.c, psg.c, spec512.c, video.c,
	  includes/log.h, uae-cpu/newcpu.c: - make sure nothing of tracing
	  is left in code when it's disabled - as tracing help code is
	  still there, allow seeing it when tracing   is otherwise disabled

2008-04-06 13:58  Eero Tamminen

	* src/includes/log.h: fix include

2008-04-06 13:20  Eero Tamminen

	* configure.ac, src/includes/log.h: Move HATARI_TRACE_ACTIVATED
	  from src/includes/log.h to top level config.h and add configure
	  option for enabling tracing to configure.ac.	By default tracing
	  is disabled, you need to use configure or enable tracing from
	  config.h now.

2008-04-06 12:33  Eero Tamminen

	* src/: log.c, vdi.c, includes/log.h: add VDI tracing

2008-04-06 11:07  Eero Tamminen

	* src/: bios.c, gemdos.c, log.c, options.c, xbios.c,
	  includes/log.h: - add tracing to bios, xbios and gemdos (what
	  functions are called) - better log option parsing function names
	  & returntype

2008-04-06 11:01  Eero Tamminen

	* src/shortcut.c: adding missing include

2008-04-04 23:18  Eero Tamminen

	* src/: configuration.c, keymap.c, shortcut.c,
	  includes/configuration.h: make debug interface shorcut
	  configurable

2008-04-04 22:57  Eero Tamminen

	* src/: configuration.c, log.c, main.c, options.c,
	  includes/configuration.h, includes/log.h: add options for: - text
	  and alert log levels - trace file (also new config option) if log
	  or trace file open fails, exit

2008-04-04 00:17  Nicolas Pomarede

	* src/: video.c, includes/video.h: Use different values for
	  RestartVideoCounterCycle if system is STF or STE.

2008-04-03 23:15  Eero Tamminen

	* src/gemdos.c: ERROR -> WARN (not serious enough to need a dialog)

2008-04-03 23:11  Eero Tamminen

	* src/: configuration.c, fdc.c, hdc.c, main.c, memorySnapShot.c,
	  tos.c, ymFormat.c, falcon/nvram.c, includes/log.h: - add LOG_TODO
	  log level for features that are not yet emulated   and convert
	  some LOG_DEBUGs to it - finetune log levels in preparation of
	  joining of Log_Printf()   and Log_AlertDlg()

2008-04-03 22:35  Eero Tamminen

	* src/: log.c, includes/log.h: HatariTraceLevel -> HatariTraceFlags
	  (more correct name)

2008-04-03 22:30  Eero Tamminen

	* src/: Makefile, fdc.c, ikbd.c, int.c, log.c, mfp.c, options.c,
	  psg.c, spec512.c, trace.c, video.c, includes/log.h,
	  includes/m68000.h, includes/trace.h, uae-cpu/newcpu.c: - join
	  trace.c/h to log.c/h - improve make depend

2008-04-03 22:27  Eero Tamminen

	* src/falcon/nvram.c: one more missing nMonitorType change

2008-04-03 22:19  Eero Tamminen

	* src/gui-sdl/dlgScreen.c: missed nFrameSkips & nMonitorType
	  changes

2008-04-03 19:42  Nicolas Pomarede

	* src/video.c: Remove fprintf used for debug

2008-04-02 22:55  Nicolas Pomarede

	* src/video.c: Correct a wrong value of nStartHBL when going 60Hz
	  between cycles 508 and 512 on line 33.

2008-04-02 20:02  Eero Tamminen

	* src/ymFormat.c: failure needs WARN, not INFO

2008-03-31 19:28  Eero Tamminen

	* src/: video.c, includes/configuration.h, configuration.c,
	  dialog.c, keymap.c, main.c, options.c, screen.c, shortcut.c,
	  stMemory.c: - add "n" (numeric) prefix to FrameSkips &
	  MonitorType for consistency - rename nMinMaxSpeed to more correct
	  bFastForward option and make it bool - add --fast-forward command
	  line option

2008-03-31 00:24  Nicolas Pomarede

	* src/int.c: ActiveInterrupt was not saved in the snapshot, which
	  randomly caused errors when restoring a snapshot doing video/cpu
	  synchronization.  Call Int_SetNewInterrupt() after loading the
	  snapshot to correctly set internal state.

2008-03-30 22:47  Eero Tamminen

	* src/log.c: if \n missing, add it like in the other function

2008-03-30 : *** Version 1.0.1 ***

2008-03-30 12:38  Thomas Huth

	* Info-Hatari.plist, configure.ac, hatari.spec, readme.txt,
	  doc/release-notes.txt, doc/doxygen/Doxyfile,
	  src/gui-osx/English.lproj/InfoPlist.strings, src/includes/main.h:
	  Changes for bug-fixed version 1.0.1

2008-03-30 12:08  Thomas Huth

	* src/trace.c: Print an error message when trace code has not been
	  compiled in, but the user still wants to use it.

2008-03-30 00:03  Thomas Huth

	* src/uae-cpu/add_cycles.pl: add_cycles.pl is not required anymore
	  (it's done in gencpu.c already).

2008-03-30 00:01  Thomas Huth

	* src/memorySnapShot.c: Video_SetSystemTimings is already done
	  during reset, no need to do it here again.

2008-03-29 21:33  Thomas Huth

	* src/convert/: macros.h, spec320x16.c, spec320x32.c, spec640x16.c,
	  spec640x32.c: The spec512 conversion routines did not work on
	  little endian ARM CPUs yet due to an unaligned memory access.
	  Introduced GET_SPEC512_OFFSET_PIXELS macro to fix this problem.

2008-03-29 17:59  Thomas Huth

	* src/rs232.c: Replaced STRam with IoMem

2008-03-29 12:05  Nicolas Pomarede

	* src/: video.c, memorySnapShot.c, includes/video.h: Use different
	  video timings depending on the machine type. For example on STE,
	  top/bottom border removal can occur at cycle 500 instead of 504
	  on STF (fix bottom border in the game 'Skulls')

2008-03-28 23:33  Eero Tamminen

	* src/main.c: for some reason (race condition?) destroying SDL
	  wmwindow can cause an X error when the actual SDL window is
	  reparented.  It works better if the wmwindow is just unmapped.

2008-03-28 18:48  Eero Tamminen

	* src/trace.c: stdlib.h needed for free()

2008-03-26 23:31  Thomas Huth

	* doc/authors.txt: Added Fredrik Noring

2008-03-26 23:15  Thomas Huth

	* src/: ioMem.c, psg.c: Rewrote the PSG mirror register code to
	  handle the case when a program writes a long-word to 0xff8802
	  (MOVE.L #xyz,$ffff8802). Before this change the PSG shadow
	  register at 0xff8804 was not used yet (happens e.g. in sampling
	  screens in the Lost Boys "Ooh Crikey Wot A Scorcher"). Big thanks
	  to Fredrik Noring for the hint!

2008-03-26 21:16  Eero Tamminen

	* src/screen.c: Thomas noted that windowed mode used SW_SURFACE
	  whereas fullscreen uses HW_SURFACE.  On my machine it didn't make
	  any difference...  I suspect SDL just doesn't use HW_SURFACE if
	  one isn't available (on my machine & SDL version?), but I'll
	  revert the this part to be sure it doesn't break anything.

2008-03-26 20:19  Eero Tamminen

	* src/screen.c: remove rendundant check, clearer fullscreen check

2008-03-26 20:17  Nicolas Pomarede

	* src/video.c: Clear unused pixels for border tricks left+2, left+8
	  and right-106

2008-03-26 19:45  Thomas Huth

	* src/screen.c: Use the right rendering functions when the SDL
	  suggests bit depth = 8.

2008-03-25 22:50  Eero Tamminen

	* src/options.c: restore 15-bit support option

2008-03-25 20:26  Nicolas Pomarede

	* src/video.c: On STE, add 16 pixels to the left border instead of
	  the right one when doing move.w #1,$ffff8264 / clr.b $ffff8264
	  (Just Musix 2 Menu by DHS)

2008-03-25 19:06  Thomas Huth

	* src/blitter.c: Do not increment source address when using Blitter
	  operation mode 0 or 15. This fixes the Grotesque demo by Omega.
	  Thanks to Fredrik Noring for the hint!

2008-03-19 01:24  Thomas Huth

	* src/spec512.c: Make sure that scan line count does not get higher
	  than max amount of allowed scanlines. (This fix is needed for Dan
	  Dare 3, for example)

2008-03-19 00:56  Thomas Huth

	* src/uae-cpu/: .cvsignore, Makefile: Automatic dependencies for
	  the UAE CPU core Makefile

2008-03-18 01:56  Thomas Huth

	* Makefile-MinGW.cnf, src/file.c, src/paths.c,
	  src/gui-sdl/dlgDisk.c: Fixing some problems that occured when
	  compiling Hatari with MinGW

2008-03-17 17:27  Thomas Huth

	* src/main.c: Full screen resolution is already set correctly
	  during screen init, there is no need anymore to do it here again.

2008-03-17 : *** Version 1.0.0 ***

2008-03-17 15:15  Thomas Huth

	* configure.ac, src/main.c: Fixed X11 window reparenting checks

2008-03-17 12:40  Thomas Huth

	* Info-Hatari.plist, readme.txt, doc/release-notes.txt,
	  doc/doxygen/Doxyfile, src/includes/main.h: Update for version
	  1.0.0

2008-03-14 21:13  Nicolas Pomarede

	* src/video.c: Handle writes to ff8205/07/09, linewidth and hw
	  scroll that overlaps the end of the line.  Apply linewidth before
	  changing video address.  (bump mapping part in Pacemaker by
	  Paradox and maze part in Braindamage by Agression)

2008-03-14 10:42  Thomas Huth

	* doc/: hatari.1, manual.html, fr/hatari.1: Updated the command
	  line options to match the current executable again.

2008-03-14 00:17  Thomas Huth

	* src/: fdc.c, reset.c: Slightly improved FDC update interrupt
	  handling. This fixes the NO COOPER demo loader problem.

2008-03-13 23:08  Thomas Huth

	* configure.ac: Added comment about autoreconf

2008-03-13 21:32  Eero Tamminen

	* Makefile.cnf.in, configure.ac, src/main.c: * Makefile.cnf.in,
	  configure.ac: add optional X11 support for embedding * main.c: if
	  PARENT_WIN_ID environment variable is set,   embed Hatari SDL
	  window inside the indicated window

2008-03-13 20:26  Thomas Huth

	* Hatari.xcodeproj/project.pbxproj: Building Hatari without
	  optimization is a _very_ bad idea... enabled -O2 for XCode builds
	  now.

2008-03-13 13:32  Thomas Huth

	* src/options.c: --debug is only used for turning debugging on,
	  since there is no need to turn this off (it's not saved in the
	  config file)

2008-03-11 21:11  Eero Tamminen

	* src/: configuration.c, options.c, spec512.c,
	  includes/configuration.h: * Add --spec512 option controlling the
	  compromize between color   display accuracy with spec512 tricks
	  and (huge) performance   penalty.  * remove redundant check from
	  --bpp option

2008-03-11 15:31  Thomas Huth

	* src/screen.c: Screen must be updated completely when switching
	  back from Spec512 rendering to normal mode. This fixes some gfx
	  glitches in Paul Simoes Overscan demo for example.

2008-03-11 14:50  Thomas Huth

	* src/: includes/m68000.h, uae-cpu/newcpu.c: Cycle pairing is now
	  only taken into consideration in the function m68k_run, between
	  two opcodes.

2008-03-10 23:36  Thomas Huth

	* src/: options.c, screen.c: Allow to use the 32 bpp screen
	  rendering functions

2008-03-10 22:57  Thomas Huth

	* src/convert/: macros.h, routines.h, spec320x32.c, spec640x32.c:
	  Added 32 bpp screen conversion functions for Spec512 screens

2008-03-10 19:53  Thomas Huth

	* src/convert/: low320x32.c, low640x32.c, macros.h, med640x32.c:
	  Added 32 bpp screen conversion functions for low and medium
	  resolution

2008-03-09 13:53  Nicolas Pomarede

	* src/: mfp.c, m68000.c, video.c, includes/m68000.h: Fix exception
	  processing when MFP vector base $fffa17 is changed to $10 ('Toki'
	  end part fullscreen)

2008-03-09 02:42  clafou

	* Hatari.xcodeproj/project.pbxproj: Updated XCode Project file

2008-03-08 14:12  Nicolas Pomarede

	* src/: mfp.c, trace.c, includes/trace.h: Add trace when writing to
	  MFP registers

2008-03-07 01:41  Thomas Huth

	* src/reset.c: Start FDC 'update interrupt' after reset.

2008-03-03 22:08  Thomas Huth

	* src/gui-osx/PrefsController.m: Made the OS X preferences dialog
	  compilable again

2008-03-03 21:01  Thomas Huth

	* src/gui-osx/SDLMain.m: Updated calls to
	  Floppy_InsertDiskIntoDrive and MemorSnapShot_Capture/Restore
	  (they have additional parameters now)

2008-03-02 21:14  Eero Tamminen

	* doc/hatari.1, src/options.c: move TOS under memory options

2008-03-02 21:09  Eero Tamminen

	* doc/hatari.1: split system options to further memory and CPU
	  options, and otherwise re-order options according to Hatari help

2008-03-02 21:03  Eero Tamminen

	* src/options.c: * -m is still useful, we're not going to remove it
	  for v1.0 * split system options to:	- memory options   - cpu
	  options   - misc system options * reorder sections a bit so that
	  more commonly used items are first

2008-03-02 20:45  Eero Tamminen

	* src/options.c: - fix the option ID given to help/exit function -
	  don't assume things, exit on all parsing issues (joystick &
	  memsize)

2008-03-01 23:56  Eero Tamminen

	* doc/hatari.1, src/options.c: separate section for VDI options

2008-03-01 23:40  Eero Tamminen

	* doc/hatari.1: update options

2008-03-01 23:37  Eero Tamminen

	* src/: configuration.c, dialog.c, options.c, screen.c,
	  gui-sdl/dlgScreen.c, includes/configuration.h: As discussed on
	  the devel list: * convert --force8bpp (boolean) to --bpp
	  (integer) option * --sound supports now off/low/mid/hi for
	  enabling/disabling   sound and setting it's quality * added
	  --cpuclock option

2008-03-01 22:49  Eero Tamminen

	* src/options.c: move --slowfdc to disk options

2008-03-01 22:13  Eero Tamminen

	* doc/hatari.1: split options to categories, similarly as in hatari
	  -h add missing options and capitalize option descriptions

2008-03-01 21:54  Eero Tamminen

	* src/options.c: add true/false to bool alternatives

2008-03-01 21:47  Eero Tamminen

	* src/options.c: - "none" can be used as filename to disable
	  devices and HDs - fix to sound bool

2008-03-01 21:00  Eero Tamminen

	* src/options.c: set the order of options in the parsing fuction to
	  same as in the option output sections

2008-03-01 20:33  Eero Tamminen

	* src/: Makefile, main.c: Oops... Revert embed testing code

2008-03-01 20:27  Eero Tamminen

	* src/: Makefile, main.c, options.c: * These were now converted to
	  take a <bool> argument so that they	can also be disabled:
	  --borders <y/n>   --force8bpp <y/n>	--compatible <y/n>
	  --blitter <y/n>   --slowfdc <y/n>   --sound <y/n>   (was earlier
	  --nosound) * If floppy is given, but no HD (dir), disable booting
	  from HD

2008-03-01 18:59  Eero Tamminen

	* src/options.c: add support for option sections and split options
	  to sections

2008-02-29 23:42  Thomas Huth

	* doc/manual.html: Some minor improvements

2008-02-29 22:12  Thomas Huth

	* doc/todo.txt: Updated the TODO list

2008-02-29 22:11  Thomas Huth

	* src/: fdc.c, int.c, video.c, includes/fdc.h, includes/int.h: The
	  FDC update is now done with a dedicated 'interrupt' function
	  instead of using the HBL (which is no longer hardwired to 512
	  cycles, so this was quite a way to update the FDC nowadays).

2008-02-29 21:24  Thomas Huth

	* src/: gui-sdl/dlgAlert.c, gui-sdl/dlgFileSelect.c,
	  gui-sdl/dlgMain.c, gui-sdl/sdlgui.c, includes/sdlgui.h: Cancel
	  buttons can now be activated by pressing the ESC key.

2008-02-29 20:22  Thomas Huth

	* src/convert/: spec320x16.c, spec640x16.c: Fixed Spec512 plotting
	  on big endian machines.

2008-02-26 21:50  Eero Tamminen

	* src/options.c: fix -j description, fit --trace description to 80
	  chars

2008-02-24 23:34  Thomas Huth

	* src/configuration.c: Use compatible CPU and high sound quality as
	  default settings

2008-02-24 23:28  Thomas Huth

	* src/configuration.c: Disable auto-save by default

2008-02-24 21:56  Eero Tamminen

	* doc/manual.html: Minor updates for 1.0 and couple of typo fixes

2008-02-24 21:45  Thomas Huth

	* doc/hatari.1, src/m68000.c, src/options.c,
	  src/includes/options.h: Added --memstate command line option.

2008-02-24 21:10  Thomas Huth

	* src/: configuration.c, m68000.c, main.c, memorySnapShot.c,
	  shortcut.c, gui-sdl/dlgMemory.c, includes/configuration.h,
	  includes/m68000.h, includes/memorySnapShot.h,
	  uae-cpu/hatari-glue.c, uae-cpu/hatari-glue.h: It is now possible
	  to automatically load/save memory snap-shots at start/exit

2008-02-23 23:16  Thomas Huth

	* src/gui-sdl/: dlgKeyboard.c, dlgMain.c, dlgMemory.c, dlgScreen.c,
	  dlgSound.c, sdlgui.c: Sourcecode beautification

2008-02-23 23:14  Thomas Huth

	* src/: Makefile, gui-sdl/Makefile, gui-sdl/dlgDisc.c,
	  gui-sdl/dlgDisk.c, gui-sdl/dlgNewDisc.c, gui-sdl/dlgNewDisk.c:
	  Renamed dlg*Disc.c into dlg*Disk.c

2008-02-23 22:15  Thomas Huth

	* src/falcon/nvram.c: Fix compiler warning

2008-02-23 22:15  Thomas Huth

	* src/convert/: high640x8.c, low320x16.c, low320x8.c, low640x16.c,
	  low640x8.c, med640x16.c, med640x8.c, spec320x16.c, spec640x16.c,
	  vdi16.c, vdi2.c, vdi4.c: Sourcecode beautification

2008-02-23 17:51  Thomas Huth

	* src/: configuration.c, paths.c, printer.c, falcon/nvram.c:
	  Introduced ~/.hatari directory. Configuration file, hatari.nvram
	  and some other files are now loaded from this directory instead
	  of $HOME.

2008-02-23 16:30  Thomas Huth

	* src/: configuration.c, screen.c, includes/configuration.h,
	  includes/screen.h: The size of the left and right border can now
	  be configured in the configuration file of Hatari.

2008-02-21 23:34  Thomas Huth

	* src/: Makefile, screen.c, convert/high640x1.c,
	  convert/routines.h, convert/vdi2.c: Removed unused convert
	  functions

2008-02-21 23:24  Thomas Huth

	* doc/todo.txt: Added some more TODO items

2008-02-20 23:47  Thomas Huth

	* src/: Makefile, configuration.c, main.c, paths.c, screen.c,
	  screenSnapShot.c, includes/main.h, includes/paths.h: Moved path
	  handling to a separate file, paths.c

2008-02-20 22:03  Eero Tamminen

	* doc/compatibility.html: update

2008-02-20 21:31  Nicolas Pomarede

	* src/video.c: Fix typo.

2008-02-20 21:07  Nicolas Pomarede

	* src/: ioMem.c, video.c, includes/ioMem.h, includes/video.h:
	  Better support for writing to ff8205/07/09 on STE.

2008-02-19 22:19  Eero Tamminen

	* doc/compatibility.html: major improvements on Coreflakes and
	  minor one on Braindamage demo

2008-02-19 19:51  Eero Tamminen

	* src/memorySnapShot.c: Add missing include for FPU save/restore
	  functions

2008-02-19 00:24  Nicolas Pomarede

	* src/: ioMemTabFalcon.c, ioMemTabST.c, ioMemTabSTE.c,
	  ioMemTabTT.c, video.c: Improve reading/writing video counter and
	  apply LineWidth in the correct order on STE.

2008-02-17 17:40  Eero Tamminen

	* doc/compatibility.html: E605 demo works now

2008-02-16 19:05  Nicolas Pomarede

	* src/m68000.c: FPU save/restore was removed by mistake

2008-02-16 15:04  Nicolas Pomarede

	* src/m68000.c: Add pairing for MULS/DIVS (needs to be checked on a
	  real ST)

2008-02-15 23:31  Eero Tamminen

	* doc/compatibility.html: update 2 ST demos

2008-02-12 23:05  Nicolas Pomarede

	* src/m68000.c: Add pairing for LSR/MOVEA (and all other bit
	  shifting instructions)

2008-02-11 23:35  Nicolas Pomarede

	* src/m68000.c: Add pairing for MULS/MOVEA

2008-02-11 00:22  Thomas Huth

	* src/gui-osx/English.lproj/InfoPlist.strings: Increased version
	  number

2008-02-10 20:42  Thomas Huth

	* doc/fr/hatari.1: Updated the french translation of the man page
	  (thanks to Tudori Benoit for the update)

2008-02-09 22:39  Thomas Huth

	* doc/todo.txt, src/includes/screen.h: Set SCREENBYTES_LEFT again
	  to 16 so that the Hatari screen fits into a 800x600 fullscreen
	  resolution again. This really should be made more flexible one
	  day...

2008-02-09 12:15  Thomas Huth

	* src/: m68000.c, memorySnapShot.c, uae-cpu/fpp.c,
	  uae-cpu/savestate.h: Save FPU register in memory snapshots, too

2008-02-09 11:42  Thomas Huth

	* src/video.c: Silenced compiler warning

2008-02-09 09:35  Thomas Huth

	* src/video.c: Fixed STE hw scrolling of last pixels in a line when
	  the right border has been opened (Mind Rewind and E605 demos).

2008-02-08 21:15  Nicolas Pomarede

	* src/video.c: Handle overscan lines combined with horizontal
	  scroll on STE

2008-02-08 20:02  Nicolas Pomarede

	* src/m68000.c: Add pairing for LSL/LEA (and all other bit shifting
	  instructions)

2008-02-07 00:15  Nicolas Pomarede

	* src/mfp.c: Handle "fast" MFP timer, no more need to patch the
	  TOS's timer D

2008-02-06 23:14  Thomas Huth

	* doc/images/screen.png: Updated screenshot of screen dialog

2008-02-06 22:35  Eero Tamminen

	* doc/compatibility.html: - update compatibility notes for few of
	  the programs - add generic status notes for ST & STE
	  compatibility

2008-02-06 01:05  Thomas Huth

	* doc/compatibility.html: Added Pirates, some HTML cleanup

2008-02-05 23:31  Thomas Huth

	* Makefile, Makefile-default.cnf: 'make install' must fail if the
	  user did not configured the Makefile.cnf properly

2008-02-04 23:09  Nicolas Pomarede

	* src/video.c: Better handling of writes to hwscroll on STE

2008-02-04 22:41  Thomas Huth

	* src/uae-cpu/: Makefile, gencpu.c: Found a nice way to patch-in
	  the CurrentInstructionCycles without using the perl script (so
	  there is one dependency less for building Hatari)

2008-02-04 22:01  Eero Tamminen

	* doc/compatibility.html: update

2008-02-04 19:11  Thomas Huth

	* src/gui-sdl/sdlgui.c: When editing a text field in a dialog,
	  enable the SDL unicode translation to be able to also get the
	  non-alphanumerical characters from the keyboard

2008-02-04 00:36  Thomas Huth

	* src/video.c: Do not set pNewVideoRaster before first visible line
	  on the screen

2008-02-03 23:52  Thomas Huth

	* src/options.c: --vdi-planes takes a parameter, so show this in
	  the help text

2008-02-03 23:00  Nicolas Pomarede

	* src/video.c: Better handling of writes to video counter addr on
	  STE

2008-02-03 20:29  Thomas Huth

	* doc/emutos.txt: Added a short note about the tos.img that is
	  shipped with the official releases of Hatari. (text is based on
	  the README.tos file which is part of the Fedora RPM of Hatari)

2008-02-03 19:31  Eero Tamminen

	* doc/compatibility.html: - add compatibility notes section - note
	  which items need Hatari v1.0 and/or TOS 1.2

2008-02-03 15:33  Thomas Huth

	* doc/hatari.1: Updated the man-page

2008-02-03 15:04  Thomas Huth

	* doc/: authors.txt, compatibility.html: Updated the documentation

2008-02-02 19:18  Nicolas Pomarede

	* src/: trace.c, includes/trace.h: Add a trace option for STE video
	  registers (video_ste)

2008-02-02 18:33  Nicolas Pomarede

	* src/: video.c, includes/video.h: Improve detection of left border
	  removal and 0 byte line by switching res

2008-02-02 18:30  Nicolas Pomarede

	* src/m68000.c: Add pairing for CMP/Bcc

2008-02-02 18:20  Nicolas Pomarede

	* src/uae-cpu/add_cycles.pl: Change comments

2008-02-01 23:08  Thomas Huth

	* doc/: compatibility.html, todo.txt: Updated the compatibility
	  list a little bit

2008-02-01 07:03  Thomas Huth

	* src/uae-cpu/newcpu.c: Run all pending interrupt functions after
	  each instruction to avoid starvation of lesser frequent functions
	  (this fixes the problems that occured recently when 'patch
	  timer-d' was disabled)

2008-01-31 16:49  Eero Tamminen

	* doc/todo.txt: put disk image format todos under one heading

2008-01-28 23:20  Thomas Huth

	* doc/release-notes.txt, doc/todo.txt, src/dmaSnd.c, src/ikbd.c,
	  src/int.c, src/memorySnapShot.c, src/mfp.c, src/screen.c,
	  src/spec512.c, src/video.c, src/includes/ikbd.h,
	  src/includes/int.h, src/includes/m68000.h, src/includes/screen.h:
	  Merged the remaining patches from Nicolas Pomarede: Improved MFP
	  emulation, better support for sync-scrolling and other video
	  tricks, ACIA reset emulation, and improved Int_* functions

2008-01-28 08:46  Thomas Huth

	* src/uae-cpu/gencpu.c: More cycle fixes from Nicolas (BCLR timings
	  and d8(An,Xn) address mode timings, fixes Anomaly demo)

2008-01-28 08:40  Thomas Huth

	* src/m68000.c: Add pairing for LSR/MOVE (and all other bit
	  shifting instructions). Thanks to Nicolas for the patch

2008-01-26 21:29  Thomas Huth

	* src/: m68000.c, includes/m68000.h: The next set of Nicolas'
	  patches: Support for CPU instruction cycles pairing

2008-01-26 17:44  Thomas Huth

	* src/cart.c: Initialize Hatari's illegal opcodes only if really
	  necessary (thanks to Nicolas Pomarede for this patch)

2008-01-25 23:43  Thomas Huth

	* src/uae-cpu/: Makefile, add_cycles.pl, gencpu.c, hatari-glue.h,
	  newcpu.c, newcpu.h, readcpu.h: Added Nicolas Pomarede's CPU
	  patches: Improved cycles emulation, exception stack frames,
	  illegal opcodes, etc.

2008-01-25 23:36  Thomas Huth

	* src/uae-cpu/table68k: chk.l is only available on CPUs >= 68020
	  (thanks to Nicolas Pomarede for the patch)

2008-01-24 22:41  Thomas Huth

	* src/: cycles.c, video.c, includes/cycles.h, includes/video.h:
	  Some more of Nicolas Pomarede's patches: Preparation for CPU
	  cycles and video updates

2008-01-24 22:21  Thomas Huth

	* src/: ioMemTabFalcon.c, ioMemTabST.c, ioMemTabSTE.c,
	  ioMemTabTT.c, psg.c, includes/psg.h: Added Nicolas Pomarede's
	  patch for improved PSG wait state cycles emulation

2008-01-24 19:53  Thomas Huth

	* src/: Makefile, fdc.c, options.c, trace.c, includes/fdc.h,
	  includes/trace.h: Added Nicolas Pomarede's trace code (required
	  for his upcoming other patches)

2008-01-23 20:32  Thomas Huth

	* src/xbios.c: Use the new M68000_GetPC() wrapper instead of
	  m68k_getpc()

2008-01-12 20:14  Eero Tamminen

	* src/: file.c, gui-sdl/dlgDisc.c, gui-sdl/dlgFileSelect.c,
	  gui-sdl/dlgNewDisc.c, includes/file.h, includes/sdlgui.h:
	  Bugfixes to: - DlgFileSelect_HandleSdlEvents() caused invalid
	  memory access - dlgNewDisc.c:Dialog_BrowseDisk() used the new
	  filename even   when inserting the co. disk image failed

	  Refactor SDLGui_FileSelect() completely: - make path arguments
	  const and return the path instead of modifying   the arguments
	  (making assumptions of their size)   - Modify dlgNewDisc.c
	  functions and SDLGui_FileConfSelect() accordingly - split four
	  functions out of it, two to file.c

2008-01-12 19:22  Eero Tamminen

	* src/zip.c: add missing newlines to Log_Printf()s

2008-01-12 18:44  Eero Tamminen

	* src/: zip.c, includes/zip.h: - fix string length assumption -
	  const ZIP_GetFilesDir() args

2008-01-12 03:04  Thomas Huth

	* src/keymap.c: Added some more keymaps, useful on the MacBook
	  (Thanks to Desty for the keymap list on atari-forum.com)

2008-01-10 00:34  Thomas Huth

	* src/: file.c, gemdos.c, includes/file.h: Fcreate must return
	  PATH-NOT-FOUND when a program like ST-Zip 2.6 tries to create a
	  file in a directory that does not exist yet.

2008-01-07 22:54  Eero Tamminen

	* src/floppy.c: return in correct place, otherwise you get disk
	  inserted regardless of whether it actually succeeded or not (+
	  zero/-1 malloc for driveB)

2008-01-06 22:27  Eero Tamminen

	* src/: screen.c, video.c, includes/screen.h: use defines for TT
	  resolutions similarly to ST resolutions

2008-01-06 21:43  Thomas Huth

	* src/: screen.c, video.c, includes/screen.h, includes/video.h:
	  Initialize the TTRes variable during reset. Also moved the STRes
	  variable to video.c (it suits better to that file).

2008-01-06 19:31  Eero Tamminen

	* src/main.c: > The readlink function does not append a zero to the
	  string, so we have
	  > to zero the whole string memory before using readlink...

	  It returns the number of bytes written, so just set terminator
	  (still, a bad/ugly/inconsistent API)

2008-01-06 17:42  Thomas Huth

	* src/main.c: The readlink function does not append a zero to the
	  string, so we have to zero the whole string memory before using
	  readlink... (Thanks to Eero for the hint)

2008-01-05 21:26  Thomas Huth

	* src/video.c: Moved code that updates the TT palette into a new
	  function. Also added special handling for monochrome TT video
	  modes (palette seems to be hardwired to black and white there).

2008-01-04 20:28  Thomas Huth

	* src/main.c: The GetModuleFileName stuff does not work as
	  expected... disabled it again.

2008-01-04 12:13  Thomas Huth

	* src/main.c: Some small improvements to the new datadir
	  determination code.

2008-01-03 20:32  Thomas Huth

	* hatari.spec: Added 'Prefix:' line to create a relocatable RPM
	  package.

2008-01-03 20:13  Thomas Huth

	* tools/hmsa/: Makefile, hmsa.c: hmsa is now compilable again.

2008-01-03 13:09  Thomas Huth

	* src/: includes/main.h, Makefile, configuration.c, main.c,
	  scandir.c, screen.c, falcon/Makefile, gui-sdl/Makefile: Determine
	  the locatation of the executable at runtime. The datadir is then
	  calculated relative the the path of the executable. This way the
	  Hatari package gets relocatable since there are no more absolute
	  path names in the executable.

2008-01-03 13:04  Thomas Huth

	* .cvsignore: Added hatari.1.gz to cvsignore file.

2008-01-02 22:48  Thomas Huth

	* src/gemdos.c: Added missing defines for compiling with MinGW

2008-01-02 21:55  Thomas Huth

	* src/configuration.c: Fixed bug in config file handling: keyboard
	  shortcuts without modifiers for loading and saving memory
	  snapshots have been mapped to the wrong configuration variable.

2008-01-02 21:33  Thomas Huth

	* hatari.spec: Updated the RPM spec file to suit the latest version
	  of the Makefiles.

2008-01-02 21:30  Thomas Huth

	* configure.ac: The @docdir@ autoconf variable is only available
	  since autoconf 2.60. So this version is now the minimum
	  prerequisite for the configure script of Hatari.

2008-01-02 21:01  Thomas Huth

	* src/rs232.c: Silenced 'uninitialized variable' warning that only
	  occured when compiling with -O3 on GCC 4.1

2008-01-02 13:51  Thomas Huth

	* src/configuration.c: Removed special configuration for CeGCC
	  again - this can be handled with a proper configuration file, so
	  there is no need for this in the source code.

2007-12-31 15:54  Thomas Huth

	* src/joy.c: No need to include dialog.h in joy.c

2007-12-31 15:23  Thomas Huth

	* src/scandir.c: The scandir() function now also works with CeGCC.

2007-12-31 14:05  Thomas Huth

	* src/screen.c: Correctly set up bInFullScreen before setting the
	  very first screen resolution.

2007-12-31 13:21  Thomas Huth

	* src/: ikbd.c, printer.c: Cleaned up #includes

2007-12-30 21:43  Thomas Huth

	* src/configuration.c: Added special configuration for Windows
	  Mobile / CeGCC

2007-12-30 21:02  Thomas Huth

	* config-default.h, configure.ac, src/stMemory.c,
	  src/falcon/Makefile, src/includes/ioMem.h,
	  src/includes/stMemory.h, src/uae-cpu/Makefile,
	  src/uae-cpu/memory.c: Added ENABLE_SMALL_MEM hack to force Hatari
	  to use less memory (this is required for Windows Mobile / CeGCC
	  which does not like things like the 16 MiB STRam array, causing a
	  really huge BSS segment)

2007-12-24 16:56  Thomas Huth

	* config-default.h, configure.ac, src/main.c: Added proper check
	  for setenv() function (required for Solaris)

2007-12-23 19:54  Thomas Huth

	* src/: debugui.c, uae-cpu/build68k.c, uae-cpu/readcpu.c:
	  Parameters for functions from ctype.h should be unsigned (this is
	  required for Solaris where the functions from ctype.h are
	  implemented as macros which directly use the parameter as index
	  into an array)

2007-12-23 18:30  Thomas Huth

	* src/scandir.c: Need to include stdlib.h for proper prototype of
	  malloc when compiling for Solaris

2007-12-21 22:41  Eero Tamminen

	* Makefile: check for the case when Makefile-default.cnf or
	  config-default.h file is newer than the user's own configuration
	  and complain

2007-12-20 13:12  Thomas Huth

	* src/gemdos.c: Use HAVE_GLOB_H define instead of WIN32 define for
	  testing for the availability of glob.h

2007-12-20 13:11  Thomas Huth

	* acsite.m4, config-default.h, configure.ac: Added BIN2DATADIR
	  macro to be able to determine the datadir from the bindir (this
	  is needed for relocatable RPMs etc.)

2007-12-20 13:01  Thomas Huth

	* src/file.c: Also handle a '.' when it is located at the very end
	  of the path string (without trailing slash)

2007-12-20 12:41  Thomas Huth

	* src/file.c: Handle a '..' also when it is located at the very end
	  of the path string (without trailing slash)

2007-12-20 12:39  Thomas Huth

	* config-MinGW.h, config-default.h: Merging the settings from
	  config-MinGW.h into config-default.h, so that config-MinGW.h is
	  not needed any longer.

2007-12-20 01:37  Thomas Huth

	* src/: vdi.c, video.c: More sourcecode beautification...

2007-12-20 01:15  Thomas Huth

	* src/: screen.c, shortcut.c, sound.c: More sourcecode
	  beautification...

2007-12-19 12:54  Thomas Huth

	* src/: reset.c, rtc.c, screenSnapShot.c, xbios.c: Sourcecode
	  beautification

2007-12-19 12:13  Thomas Huth

	* src/: mfp.c, misc.c, msa.c: Sourcecode beatification + clean-up

2007-12-18 21:55  Thomas Huth

	* config-default.h, configure.ac, src/rs232.c: Added checks for
	  cfmakeraw and strings.h

2007-12-18 21:35  Thomas Huth

	* src/falcon/videl.c: videl.c uses STRam ... let's include
	  stMemory.h

2007-12-18 21:35  Thomas Huth

	* src/: cfgopts.c, file.c, gemdos.c, memorySnapShot.c, scandir.c,
	  unzip.c, zip.c: Put some pre-processor tests for strings.h into
	  the include sections since some systems like CeGCC do not have
	  strings.h.

2007-12-18 19:56  Thomas Huth

	* src/: cart.c, tos.c, includes/stMemory.h: Introduced RomMem
	  'variable' to be able to separate the ROM accesses from the STRam
	  accesses (sometimes in the future).

2007-12-18 19:36  Thomas Huth

	* src/rtc.c: Replaced STRam by IoMem

2007-12-18 18:24  Thomas Huth

	* src/dmaSnd.c: dmaSnd.c uses STRam, so let's include stMemory.h

2007-12-18 18:09  Thomas Huth

	* src/: reset.c, stMemory.c, tos.c: Moved memory init code to tos.c
	  - we really should not touch the STRam before we've called
	  memory_init().

2007-12-18 00:42  Thomas Huth

	* src/: m68000.c, main.c: Sourcecode beautification

2007-12-18 00:03  Thomas Huth

	* src/: ikbd.c, int.c, keymap.c: Sourcecode beautification

2007-12-16 23:09  Eero Tamminen

	* src/: file.c, floppy.c, main.c, gui-sdl/dlgFileSelect.c,
	  includes/file.h, includes/floppy.h: next self-conttained set of
	  patches that get rid of the assumption that all file strings are
	  FILE_MAX sized: * Rename file.c functions to CamelCaps for
	  consistency	* File_splitpath -> File_SplitPath   *
	  File_makepath -> File_MakePath * File_MakePath() and
	  File_FindPossibleExtFileName() return   an allocated path instead
	  of modifying their arguments * Adopt floppy.c and dlgFileSelect.c
	  to file.c changes * make Floppy_CreateDiskBFileName() and
	  Floppy_ZipInsertDiskIntoDrive()   args const and to return the
	  result instead of modifying the args *
	  Floppy_InsertDiskIntoDrive() takes size arg for the argument it
	  modifies -> Give that arg in main.c

2007-12-16 22:47  Eero Tamminen

	* doc/compatibility.html: update to latest CVS: addsub works,
	  cavemania partially

2007-12-14 03:09  Thomas Huth

	* doc/compatibility.html: Added 'Stretch' STE screen  extender. And
	  the Bird demo seems to be working again.

2007-12-11 20:02  Eero Tamminen

	* src/: gui-sdl/dlgDevice.c, gui-sdl/dlgDisc.c,
	  gui-sdl/dlgFileSelect.c, gui-sdl/dlgKeyboard.c,
	  gui-sdl/dlgMemory.c, gui-sdl/dlgRom.c, gui-sdl/dlgSound.c,
	  includes/sdlgui.h: Clean up the SDL GUI code by adding a new
	  function for file selection and removing the corresponding
	  (slightly differing) codes from the other SDL GUI files. Refactor
	  the large dlgDisc.c function at the same time.

2007-12-11 01:41  Thomas Huth

	* src/zip.c: Fixed off-by-one malloc bug (thanks to Eero for the
	  hint!)

2007-12-09 22:25  Eero Tamminen

	* src/: video.c, includes/video.h: Add defines for mono/71Hz

2007-12-04 00:56  Thomas Huth

	* Makefile, Makefile.cnf.in: Also install the documentation files
	  during a 'make install'

2007-12-03 23:11  Thomas Huth

	* src/: dialog.c, includes/dialog.h: Dialog_DoNeedReset is required
	  for the Mac OS X GUI, too, so this function must not be static.

2007-11-29 12:29  Thomas Huth

	* src/stMemory.c: memtop and phystop must _always_ be dividable by
	  512 or certain TOS versions might crash during boot.

2007-11-29 12:13  Thomas Huth

	* src/: vdi.c, includes/vdi.h, gui-sdl/dlgScreen.c: Allow a more
	  fine granular stepping in the VDI screen resolution dialog.

2007-11-25 16:14  Thomas Huth

	* src/: gemdos.c, vdi.c, includes/gemdos.h: Check destination
	  buffer length in GemDOS_CreateHardDriveFileName

2007-11-25 15:31  Thomas Huth

	* src/: configuration.c, dialog.c, memorySnapShot.c, options.c,
	  vdi.c, gui-sdl/dlgScreen.c, includes/configuration.h,
	  includes/vdi.h: Getting rid of the inflexible fixed-size VDI
	  screen resolutions.

2007-11-25 15:23  Thomas Huth

	* src/stMemory.c: Screen size must _always_ be at least 32 kiB

2007-11-25 15:05  Thomas Huth

	* src/gui-sdl/dlgAlert.c: Fixed off-by-one bug in alert dialog
	  formatting function

2007-11-24 20:45  Thomas Huth

	* src/stMemory.c: The VDI resolution screen size is now calculated
	  in a more flexible way.

2007-11-20 23:11  Thomas Huth

	* src/gui-sdl/dlgAlert.c: Cosmetic changes for the source code and
	  the alert dialog

2007-11-19 22:20  Thomas Huth

	* src/file.c: Fixed another bug: File_SplitPath did not work right
	  anymore (path string was too short).

2007-11-19 22:19  Thomas Huth

	* src/: ikbd.c, memorySnapShot.c: Some IKBD variables were not
	  saved in the memory snapshot file (caused problems with Airball)
	  - this has been fixed now.

2007-11-01 13:51  Thomas Huth

	* src/options.c: Improved options parsing functions (nicer
	  printout, and all strings are now copied with the new Opt_StrCpy
	  function to simplify the code and to always avoid buffer
	  overflows)

2007-11-01 12:03  Thomas Huth

	* src/zip.c: Set pointers to NULL after free'ing memory (to avoid
	  the possibility of dangling pointers)

2007-10-31 22:43  Eero Tamminen

	* src/: file.c, includes/file.h: ...and File_Save() gets Uint8*
	  too...

2007-10-31 22:31  Eero Tamminen

	* src/: cart.c, dim.c, file.c, main.c, msa.c, reset.c, st.c, tos.c,
	  vdi.c, ymFormat.c, zip.c, includes/file.h, includes/ymFormat.h,
	  includes/zip.h: * Add missing checks to file.c function   (and
	  remove irrelevant "security lenght check" in Clean function) * In
	  File_QueryOverwrite() alloc suitable sized buffer instead   of
	  using FILENAME_MAX stack array * Const things that can be consted
	  in file.c and zip.c	(and change one elseif construction to
	  switch-case there too) * Remove the dangerous and unused pAddress
	  argument from File_Read()   (it didn't have corresponding buffer
	  size argument) * Remove casts in several files by setting
	  File_Read() and File_Save   buffers to Uint8* and change unsigned
	  int/char in msa.c to Uint8 & Uint16 * Set ymFormat.c global
	  variables as static * Calling YMFormat_EndRecording() called
	  YMFormat_FreeRecording(), so	 "inlined" latter (in main.c it's
	  already called through Sound_EndRecording()) * ymFormat already
	  gets filename in YMFormat_BeginRecording(),	so use that instead
	  of getting it again from config in EndRecording.
	  (Dialog_CopyDialogParamsToConfiguration() calls EndRecording()
	  if recording is enabled so it cannot change in middle)

2007-10-31 22:01  Eero Tamminen

	* src/gui-sdl/dlgAlert.c: fix dialog text centering when there's
	  only one line of text

2007-10-31 00:33  Thomas Huth

	* src/cfgopts.c: Add a newline after each section when creating new
	  hatari.cfg files.

2007-10-31 00:22  Thomas Huth

	* src/configuration.c: Only convert keyboard MappingFileName string
	  to absolute path if it really contains a valid string

2007-10-30 02:13  Thomas Huth

	* src/spec512.c: Fixed buffer overflow in ST high so that this mode
	  now works stable again.

2007-10-25 01:19  Thomas Huth

	* src/video.c: Use 224 cycles per line in monochrome mode - seems
	  to be a more reasonable value than 226 cycles.

2007-10-23 23:02  Thomas Huth

	* src/video.c: Monochrome mode now runs in 71 Hz, and 60 Hz color
	  mode now also really runs with 60 Hz refresh rate

2007-10-23 22:00  Thomas Huth

	* src/: configuration.c, main.c, options.c,
	  includes/configuration.h: Moved bConfirmQuit from System to Log
	  section

2007-10-21 16:50  Eero Tamminen

	* src/: video.c, includes/video.h: more global variables that can
	  be static

2007-10-21 14:21  Eero Tamminen

	* src/: includes/vdi.h, vdi.c: - min VDI size 320x200 - align up
	  from min limit, down from max limit

2007-10-20 21:01  Eero Tamminen

	* src/gui-sdl/dlgAlert.c: center query dialog text horizontally

2007-10-19 23:56  Eero Tamminen

	* src/: sound.c, wavFormat.c, ymFormat.c, includes/ymFormat.h: -
	  convertStreams in ymformat can be static - calls to wav recording
	  function show up in profiler (ARM, frameskip 8)   although
	  recording is not enabled so check the bRecordWav before calling
	  that function (it would be nice if GCC could already do whole
	  program   optimization instead of just object level ones)

2007-10-19 21:54  Eero Tamminen

	* src/: main.c, options.c: fix compiler warning, better quit
	  message

2007-10-16 22:41  Eero Tamminen

	* doc/manual.html: document --confirm-quit

2007-10-16 22:39  Eero Tamminen

	* src/: configuration.c, dialog.c, main.c, options.c, shortcut.c,
	  gui-sdl/dlgAlert.c, includes/configuration.h, includes/dialog.h,
	  includes/main.h: Show user a confirmation dialog when Hatari is
	  quit through: - the window close button, - the options dialog
	  quit button, or - quit shortcut key.	It's enabled by default
	  (except when quit is invoked from the internal debugger).

	  There's also a --confirm-quit command line option and
	  corresponding configuration option for disabling (and
	  re-enabling) this query dialog.

2007-10-16 00:00  Thomas Huth

	* src/: includes/fdc.h, fdc.c, ioMemTabFalcon.c: The register
	  0xff860f is now emulated in Falcon mode. Writing to floppy disk
	  images works now also with TOS 4.0x.

2007-10-11 23:37  Thomas Huth

	* src/uae-cpu/fpp-unknown.h: Now using the conversion functions
	  from Aranym in the FPU core to convert between integer and
	  single/double floats. This fixes for example some rendering bugs
	  in NeoN Grafix. Thanks to Ole Dittmann for the hint!

2007-10-07 16:21  Thomas Huth

	* Makefile-MinGW.cnf, Makefile-default.cnf, Makefile.cnf.in,
	  configure.ac, src/uae-cpu/Makefile: Support for ranlib

2007-10-07 16:09  Thomas Huth

	* src/: rs232.c, scandir.c, includes/scandir.h: Hack for compiling
	  Hatari with cegcc

2007-10-07 16:07  Thomas Huth

	* src/: gemdos.c, uae-cpu/sysdeps.h: Do not include errno.h by
	  default in sysdeps.h

2007-10-04 22:22  Thomas Huth

	* src/uae-cpu/hatari-glue.c: Added missing call to
	  build_cpufunctbl()

2007-10-04 22:08  Thomas Huth

	* src/dialog.c: Query user if it is OK to reset the emulator after
	  changing certain options in the setup dialog.

2007-09-29 23:54  Thomas Huth

	* src/m68000.c: Fixed stupid typo: SPCFLAG_STOP must be cleared of
	  course when an interrupt happened.

2007-09-26 23:42  Thomas Huth

	* src/: m68000.c, uae-cpu/newcpu.c, uae-cpu/newcpu.h: Renamed
	  reg_caar and reg_cacr back to caar and cacr (like in the original
	  UAE CPU core)

2007-09-22 11:30  Thomas Huth

	* src/uae-cpu/fpp.c: Use the IEEE big endian header file where
	  possible

2007-09-17 22:32  Thomas Huth

	* src/: gemdos.c, m68000.c, uae-cpu/fpp.c, uae-cpu/hatari-glue.c,
	  uae-cpu/hatari-glue.h, uae-cpu/memory.c, uae-cpu/newcpu.c,
	  uae-cpu/options_cpu.h: To be closer to the original CPU core
	  sources again, the variables address_space_24, cpu_level and
	  cpu_compatible are now everywhere handled like in UAE again.

2007-09-09 22:49  Thomas Huth

	* Makefile-MinGW.cnf, Makefile-default.cnf, src/Makefile,
	  src/configuration.c, src/debugui.c, src/dialog.c, src/gemdos.c,
	  src/ide.c, src/ioMem.c, src/m68000.c, src/main.c, src/mfp.c,
	  src/msa.c, src/options.c, src/shortcut.c, src/stMemory.c,
	  src/tos.c, src/vdi.c, src/video.c, src/falcon/Makefile,
	  src/includes/m68000.h, src/includes/main.h, src/uae-cpu/Makefile:
	  Merged common changes from WINUAE_CPU_BRANCH back to HEAD.

2007-09-07 13:31  Eero Tamminen

	* doc/manual.html, src/configuration.c, src/options.c, src/vdi.c,
	  src/includes/configuration.h, src/includes/vdi.h: - fix: VDI
	  screen alignment is dependent on width in bytes, not pixels -
	  fix: fixed-sized VDI resolutions need to be constrained in
	  monochrome - add --vdi-planes command line argument - rename
	  --vdix & --vdiy arguments to --vdi-x and --vdi-y -
	  KeyLoadMem/keySaveMem are configurable like other shortcuts -
	  have configuration values in .cfg file in same order as they
	  are in Hatari structs (makes cross-checking them easier) - give
	  all VDI settings to VDI_SetResolution() as arguments

2007-08-26 21:54  Eero Tamminen

	* src/: gemdos.c, includes/gemdos_defines.h: Fix GemDOS Open, it
	  shouldn't truncate like it did with "wb" mode (write only).  Use
	  "rb+" mode instead (read/write), that's the best we can using
	  fopen(). (only open() would allow open write-only without
	  truncating).

	  Use chmod() in GemDOS Fattrib function so that it can set files
	  read-only.

	  Complain in Create and Fattrib if volume label attrib is used and
	  add some FIXMEs for rest of attribs.

	  (Change also these functions to bail out on errors instead of
	  using else clauses, this way they don't need to be indented as
	  much and it's easier to see the function exit point.)

2007-08-26 19:56  Eero Tamminen

	* doc/manual.html: describe --vdix and --vdiy options

2007-08-26 19:16  Eero Tamminen

	* src/: configuration.c, options.c, vdi.c,
	  includes/configuration.h, includes/vdi.h, uae-cpu/hatari-glue.c:
	  Add support for specifying VDI mode width and height from command
	  line (makes memory earlier snapshots incompatible).

	  Make a couple of variables in vdi.c static (required changing
	  hatari-glue.c slightly).

2007-08-22 01:28  Thomas Huth

	* src/: configuration.c, m68000.c, tos.c, includes/m68000.h: Added
	  wrapper function for checking cpu_level and cpu_compatible
	  variables.

2007-08-15 01:18  Thomas Huth

	* src/: gemdos.c, m68000.c: Adapted gemdos.c and m68000.c for the
	  new CPU core

2007-08-15 00:38  Thomas Huth

	* Makefile-MinGW.cnf, Makefile-default.cnf: Disabled -Wshadow since
	  the WinUAE CPU core heavily (ab)uses shadowed variables

2007-08-09 23:17  Thomas Huth

	* src/: includes/main.h, dialog.c, main.c, mfp.c, shortcut.c,
	  video.c, includes/m68000.h, debugui.c: Added wrappers for
	  m68k_getpc, m68k_setpc, MakeSR, MakeFromSR, set_special and
	  unset_special

2007-08-09 23:05  Thomas Huth

	* src/: ide.c, ioMem.c, msa.c, options.c, stMemory.c, vdi.c: CPU
	  headers are not hard-coded to the uae-cpu folder anymore.

2007-08-07 02:39  Thomas Huth

	* src/: Makefile, falcon/Makefile, uae-cpu/Makefile: Now it is
	  easier to choose the CPU core in the Makefiles

2007-07-29 23:17  Eero Tamminen

	* src/cfgopts.c: refactor and cleanup configuration update a bit

2007-06-29 22:01  Thomas Huth

	* src/gui-sdl/dlgScreen.c: The 'Frame Skip 8' option could not be
	  selected - fixed now.

2007-06-29 21:54  Thomas Huth

	* src/cfgopts.c: Do not abort with an error if the end of the file
	  has been reached.

2007-05-18 19:53  Thomas Huth

	* src/screen.c: Do not scale mouse in VDI screen mode

2007-05-14 22:25  Eero Tamminen

	* doc/manual.html: fix typos

2007-05-14 22:07  Eero Tamminen

	* doc/alsa-midi.txt: add link to wikipedia/midimaze

2007-05-14 13:25  clafou

	* Hatari.xcodeproj/project.pbxproj: XCode project: Updated nvram
	  file references

2007-05-13 11:23  Thomas Huth

	* configure.ac: Handling of datadir variable has changed in
	  autoconf 2.60.

2007-05-12 14:12  Thomas Huth

	* src/unzip.c: Fixed some 'variable might be used uninitialized'
	  warnings

2007-05-12 14:04  Thomas Huth

	* Makefile.cnf.in: Added datarootdir to make autoconf 2.60 happy

2007-05-12 : *** Version 0.95 ***

2007-05-12 13:29  Thomas Huth

	* doc/release-notes.txt: Added hmsa tool

2007-05-12 13:22  Thomas Huth

	* doc/release-notes.txt: Added release notes for version 0.95

2007-05-12 13:16  Thomas Huth

	* doc/: hatari.1, manual.html: Added keyboard shortcuts for loading
	  and saving memory snapshots into the documentation files

2007-05-12 13:08  Thomas Huth

	* src/memorySnapShot.c: Bumped version number to 0.95

2007-05-12 12:46  Thomas Huth

	* Makefile-default.cnf: CC seems always to be predefined by make -
	  so don't use the '?=' operator to assign this variable in
	  Makefile.cnf

2007-05-12 12:17  Thomas Huth

	* Info-Hatari.plist, configure.ac, readme.txt,
	  doc/doxygen/Doxyfile, src/includes/main.h: Bumped version number
	  to 0.95

2007-05-12 12:06  Thomas Huth

	* doc/: compatibility.html, manual.html: Updated documentation

2007-05-12 11:24  Thomas Huth

	* src/cfgopts.c: tmpfile() does not work on some exotic systems.
	  Added a workaround for this situation.

2007-05-06 16:11  Thomas Huth

	* hatari.spec: Added spec file for building RPMs

2007-04-16 21:42  Thomas Huth

	* src/ioMemTabTT.c: Re-ordered VME / SCC entries

2007-04-04 17:23  Thomas Huth

	* src/falcon/: hostscreen.c, videl.c: Disable videl debug output by
	  default.

2007-04-03 19:31  Thomas Huth

	* doc/: manual.html, images/screen.png: Updated the screen setup
	  dialog

2007-04-03 00:35  Thomas Huth

	* src/ioMemTabFalcon.c: Falcon IO memory table is now much closer
	  to the original Falcon than before.

2007-04-02 22:26  Thomas Huth

	* doc/: manual.html, images/system.png: Updated the system dialog
	  documentation.

2007-04-02 21:46  Thomas Huth

	* src/falcon/: hostscreen.c, videl.c: Workarounds for old C
	  compilers

2007-04-02 20:42  Thomas Huth

	* src/includes/main.h: Use build date as version number for CVS
	  builds.

2007-03-10 18:49  Thomas Huth

	* src/options.c: Added (very) short description what Hatari is all
	  about.

2007-03-10 18:46  Thomas Huth

	* doc/authors.txt, src/gui-sdl/dlgAbout.c: Updated authors
	  information.

2007-03-05 23:19  Thomas Huth

	* src/keymap.c: Improved error handling

2007-02-27 21:53  Eero Tamminen

	* src/: configuration.c, file.c: - add absolute file naming to
	  other paths requiring it   (and remove special handling from
	  rs232 as it doesn't use File_Open() - add stdin special handling
	  to File_Open() just in case somebody in   the future wants to
	  give some configuration from stdin ;-)

2007-02-25 23:14  Eero Tamminen

	* src/: file.c, options.c, printer.c: - fix stupid bugs from file.c
	  - move trivial printer.c functions so that ancient compilers know
	  to inline them too + fix comment typo

2007-02-25 22:34  Eero Tamminen

	* src/file.c: typo

2007-02-25 22:33  Eero Tamminen

	* doc/: alsa-midi.txt, manual.html: alsa-midi.txt: midi networking
	  example manual.html:	 update options

2007-02-25 22:20  Eero Tamminen

	* src/: configuration.c, file.c, log.c, midi.c, options.c,
	  printer.c, includes/file.h, includes/printer.h: allow setting the
	  output file for log, midi and printer and special-case
	  stdout/stderr: - move file open / close with stdout/stderr
	  checking from log.c to file.c - wrapper function which
	  shortcircuits absolute path function when   filename is
	  stdout/stderr - use the new File_Open() and File_Close()
	  functions in log.c, midi.c   and printer.c Cleanup printer.c a
	  bit: - change functions to static - replace "unsigned char" with
	  Uint8 - remove redundant code

2007-02-22 22:25  Thomas Huth

	* src/ioMemTabFalcon.c: There is no TT palette in Falcon mode

2007-02-19 00:55  Thomas Huth

	* doc/compatibility.html: Added Humans, TT-Wars and Oxyd-TT.

2007-02-17 23:19  Eero Tamminen

	* doc/compatibility.html: - replace "no" with "-" as that makes
	  tables more readable - check which programs really require dummy
	  and which none emu

2007-02-17 23:14  Eero Tamminen

	* src/: dmaSnd.c, includes/dmaSnd.h: make casts to double
	  unnecessary + add one more define

2007-02-17 19:43  Thomas Huth

	* src/dmaSnd.c: Initial support for Falcon DMA sample sound
	  frequencies.

2007-02-16 20:31  Eero Tamminen

	* doc/alsa-midi.txt: link to one more nice article

2007-02-13 21:44  Matthias Arndt

	* src/falcon/: nvram.c, nvram.h: added symbolic labels for NVRAM
	  cells

2007-02-13 20:32  Thomas Huth

	* src/: Makefile, nvram.c, falcon/nvram.c, falcon/nvram.h,
	  includes/nvram.h, falcon/Makefile: Moved nvram.c and nvram.h to
	  falcon folder.

2007-02-12 00:04  Thomas Huth

	* tools/hmsa/.cvsignore: Added cvsignore file

2007-02-12 00:00  Thomas Huth

	* src/tos.c: Don't check the machine type when running with EmuTOS
	  (since it can handle all types)

2007-02-10 00:55  Eero Tamminen

	* doc/compatibility.html: added some more demos and gfx programs

2007-02-07 22:50  Thomas Huth

	* doc/todo.txt: Updated TODO list

2007-02-07 19:25  Thomas Huth

	* tools/hmsa/hmsa.c: Added missing #include <stdarg.h>

2007-02-07 01:54  Thomas Huth

	* src/nvram.c: Cleaned up NVRAM emulation a little bit.

2007-02-04 22:38  Eero Tamminen

	* doc/: compatibility.html, todo.txt: LS2 Roland-MT32 midi driver
	  works just fine with ALSA

2007-02-04 21:41  Eero Tamminen

	* doc/: alsa-midi.txt, compatibility.html: Add instructions how to
	  setup MIDI output on Linux with ALSA

2007-02-04 15:10  Eero Tamminen

	* doc/manual.html: add "usage" to command line options

2007-02-02 00:23  Thomas Huth

	* tools/hmsa/: Makefile, floppy.c, floppy.h, hmsa.c, hmsa.h,
	  readme-hmsa.txt: New tool: MSA disk image converter.

2007-02-01 23:03  Eero Tamminen

	* doc/compatibility.html: added STE highresmode demo

2007-02-01 22:37  Eero Tamminen

	* doc/compatibility.html: added all falcon apps, games and demos
	  from the ASCII list

2007-01-30 22:45  Eero Tamminen

	* doc/: compatibility.html, manual.html: - split the software
	  compatibility list to a separate HTML page from   the Hatari
	  manual, the list was getting pretty long - some updates to
	  emulated HW support cli options

2007-01-30 21:33  Eero Tamminen

	* src/: Makefile, configuration.c, dialog.c, ioMem.c,
	  ioMemTabFalcon.c, main.c, options.c, psg.c, falcon/Makefile,
	  includes/configuration.h, includes/ioMemTables.h: - user can now
	  specify one of none/dummy/emu DSP emulation types - changed
	  ENABLE_DSP to ENABLE_DSP_EMU define - fix Makefile
	  CPPFLAGS/CFLAGS usage

2007-01-29 21:50  Eero Tamminen

	* src/falcon/videl.c: add missing SDL_endian.h include

2007-01-29 00:05  Thomas Huth

	* src/video.c: Variable bUseSTShifter must be stored in memory
	  snapshots, too.

2007-01-28 23:59  Thomas Huth

	* src/tos.c: Added TOS version check to prevent the user from
	  running TOS 1.0x in TT or Falcon mode (which is an invalid
	  combination)

2007-01-28 23:41  Thomas Huth

	* src/: configuration.c, m68000.c, memorySnapShot.c,
	  includes/configuration.h, includes/main.h: Hatari now saves
	  system configuration to memory snapshots, too.

2007-01-23 21:34  Eero Tamminen

	* src/: video.c, falcon/videl.c, includes/video.h: Fix Falcon/Videl
	  code ST/E palette handling.  ST/E palette is used if ST shifter
	  register is written after Falcon one (which should be set to
	  4-bit color mode).

2007-01-19 00:37  Thomas Huth

	* src/video.c: Must also set TT resolution when writing to ST
	  shifter mode register.

2007-01-19 00:21  Thomas Huth

	* src/: dialog.c, gui-sdl/dlgSystem.c: Changing the machine type
	  now works as expected (thanks to Sebastien Molines for the hint)

2007-01-18 10:27  Eero Tamminen

	* src/: ioMemTabTT.c, video.c, includes/video.h: commit yesterdays
	  work: - ST palette accesses on TT are diverted to another
	  callback - overwrite part of TT palette with ST-palette as
	  required The TT palette support should now be complete.

2007-01-18 10:24  Eero Tamminen

	* src/: Makefile, dialog.c, dmaSnd.c, ioMem.c, ioMemTabFalcon.c,
	  main.c, options.c, psg.c, reset.c, screen.c, video.c,
	  falcon/Makefile, includes/ioMemTables.h: commit yesterdays work:
	  - remove ENABLE_FALCON (Falcon support works well enough) - add
	  ENABLE_DSP instead (by default disabled)

2007-01-16 22:14  Eero Tamminen

	* src/: ioMemTabTT.c, video.c, includes/video.h: Added support for
	  the TT-palette handling on top of Thomas' Videl usage for TT
	  resolutions. TT-support for ST-palette setting is still to do.

2007-01-16 20:00  clafou

	* Hatari.xcodeproj/project.pbxproj, src/gui-osx/PrefsController.h,
	  src/gui-osx/PrefsController.m,
	  src/gui-osx/SDLMain.nib/classes.nib,
	  src/gui-osx/SDLMain.nib/info.nib,
	  src/gui-osx/SDLMain.nib/objects.nib: Updated Cocoa UI to match
	  changes to the SDL UI

2007-01-16 19:42  Thomas Huth

	* doc/doxygen/Doxyfile, src/audio.c, src/bios.c, src/blitter.c,
	  src/cart.c, src/cfgopts.c, src/configuration.c,
	  src/createBlankImage.c, src/cycles.c, src/debugui.c,
	  src/dialog.c, src/dim.c, src/dmaSnd.c, src/fdc.c, src/file.c,
	  src/floppy.c, src/gemdos.c, src/hdc.c, src/ide.c, src/ikbd.c,
	  src/int.c, src/ioMem.c, src/ioMemTabFalcon.c, src/joy.c,
	  src/keymap.c, src/log.c, src/m68000.c, src/main.c,
	  src/memorySnapShot.c, src/mfp.c, src/midi.c, src/misc.c,
	  src/msa.c, src/nvram.c, src/options.c, src/printer.c, src/psg.c,
	  src/reset.c, src/rs232.c, src/rtc.c, src/scandir.c, src/screen.c,
	  src/screenSnapShot.c, src/shortcut.c, src/sound.c, src/spec512.c,
	  src/st.c, src/stMemory.c, src/tos.c, src/unzip.c, src/vdi.c,
	  src/video.c, src/wavFormat.c, src/xbios.c, src/ymFormat.c,
	  src/zip.c: The source code now features comments that can be
	  parsed with Doxygen to generate a nice source code documentation.
	  (Thanks to Tuduri Benoit for the patch)

2007-01-15 18:42  Thomas Huth

	* src/: memorySnapShot.c, video.c, includes/main.h: TT resolution
	  must be saved in memory snapshot files, too. (Also increased
	  version number now that snapshot file layout has been changed)

2007-01-15 14:50  Thomas Huth

	* src/falcon/videl.c: Implemented horizontal fine scrolling for
	  Videl emulation in 8bpp mode.

2007-01-13 12:57  Thomas Huth

	* src/: gui-sdl/dlgAbout.c, gui-sdl/dlgAlert.c,
	  gui-sdl/dlgDevice.c, gui-sdl/dlgDisc.c, gui-sdl/dlgFileSelect.c,
	  gui-sdl/dlgJoystick.c, gui-sdl/dlgKeyboard.c, gui-sdl/dlgMain.c,
	  gui-sdl/dlgMemory.c, gui-sdl/dlgRom.c, gui-sdl/dlgScreen.c,
	  gui-sdl/dlgSound.c, gui-sdl/dlgSystem.c, gui-sdl/sdlgui.c,
	  includes/sdlgui.h: Default button can now be selected by pressing
	  RETURN

2007-01-13 11:00  Thomas Huth

	* src/: reset.c, screen.c, video.c: Take also care of VDI extended
	  resolution mode when emulator is running in TT or Falcon mode.

2007-01-12 00:01  Thomas Huth

	* src/spec512.c: Lowered threshold for detecting a spec512 screen

2007-01-09 18:26  ggnkua

	* src/Makefile: My first test commit! Modified Makefile and
	  src/makefile slightly to allow compilation under Cygwin

2007-01-09 01:07  Thomas Huth

	* src/: screen.c, video.c, falcon/videl.c, falcon/videl.h,
	  includes/video.h: Low-res zooming now works in TT mode, too.

2007-01-08 21:25  Thomas Huth

	* Makefile-default.cnf: libreadline disabled by default.

2007-01-07 22:42  Eero Tamminen

	* src/: options.c, gui-sdl/dlgScreen.c: - sync frameskips in
	  options.c and dlgScreen.c code, the max. framesync   is now 8
	  everywhere - GUI supports now frameskips of 0,1,2,4,8 and won't
	  crash   if the frameskips variable has some other value - trivial
	  cleanup for --monitor option

2007-01-07 12:06  Thomas Huth

	* doc/fr/hatari.1: Added french man-page (thanks to Benoit Tuduri)

2007-01-06 12:15  Thomas Huth

	* src/dialog.c: When changing the monitor type, only reset if
	  emulator is in Falcon mode or if the user changes between color
	  and mono monitor.

2007-01-06 11:47  Thomas Huth

	* src/: configuration.c, options.c, screen.c, video.c,
	  gui-sdl/dlgScreen.c, includes/configuration.h: The frames that
	  should be skipped after each displayed frame can now be set up in
	  the GUI, too. Also removed the 'interleave' option in the GUI, it
	  has now been replaced by the monitor settings (TV or RGB)

2007-01-02 23:20  Thomas Huth

	* src/: gui-win/opencon.c, gui-win/opencon.h, Makefile, main.c,
	  gui-win/Makefile: The debugger now also works when Hatari is
	  built on MinGW

2007-01-02 22:11  Thomas Huth

	* Makefile-MinGW.cnf, config-MinGW.h, src/Makefile: Improved MinGW
	  build system

2007-01-02 22:05  Thomas Huth

	* src/gui-win/: Makefile, hatari-winicon.ico, hatari-winicon.rc:
	  Icon for Windows build. (Thanks to ggn for the icon and .rc file)

2007-01-02 21:27  Thomas Huth

	* src/main.c: setenv is not available on MinGW

2006-12-29 16:22  Thomas Huth

	* src/debugui.c: Debugger now uses config.h to check if readline is
	  available

2006-12-29 15:20  Thomas Huth

	* .cvsignore, Makefile, config-default.h, configure.ac,
	  src/Makefile, src/rs232.c: Introduced config.h file

2006-12-28 22:28  Thomas Huth

	* Makefile: Also delete Makefile.cnf when doing a distclean

2006-12-28 22:25  Thomas Huth

	* acsite.m4, configure.ac, src/debugui.c: The built-in debugger now
	  supports readline() for a higher convenience.

2006-12-28 22:22  Thomas Huth

	* .cvsignore: Ignore variable Makefile.cnf

2006-12-28 21:48  Thomas Huth

	* Makefile, Makefile-default.cnf, Makefile.cnf: Introduced
	  Makefile-default.cnf

2006-12-28 20:07  Thomas Huth

	* src/gemdos.c: Changed some functions to use FILENAME_MAX instead
	  of MAX_GEMDOS_PATH.

2006-12-28 19:33  Thomas Huth

	* src/debugui.c: Changed debugger commands: 'q' now quits the
	  emulator, 'c' can be used to continue the current program

2006-12-27 22:28  Thomas Huth

	* src/: configuration.c, shortcut.c, includes/configuration.h:
	  Added keyboard shortcuts for saving and restoring memory
	  snapshots

2006-12-23 20:45  Thomas Huth

	* src/: configuration.c, vdi.c: Set up the VDI emulation variables
	  and DESKTOP.INF file only when VDI resolution emulation is really
	  enabled.

2006-12-21 00:27  Thomas Huth

	* src/rs232.c: By default, there is no termios.h on Windows

2006-12-20 15:14  Thomas Huth

	* src/: main.c, screen.c, falcon/hostscreen.c, includes/screen.h:
	  Improved mouse movement scaling so that the ST mouse cursor
	  movements are now always in sync with the host mouse (also when
	  the zoomed Videl emulation is being used).

2006-12-19 22:54  Thomas Huth

	* src/: nvram.c, zip.c: Fixed compiler warnings from GCC 4.1

2006-12-19 12:00  Thomas Huth

	* src/gui-sdl/dlgFileSelect.c: Fixed typo

2006-12-19 11:56  Thomas Huth

	* src/falcon/hostscreen.c: Improved Videl screen zooming a little
	  bit

2006-12-19 11:55  Thomas Huth

	* src/gui-sdl/: dlgDevice.c, dlgDisc.c, dlgFileSelect.c,
	  dlgJoystick.c, dlgKeyboard.c, dlgMain.c, dlgMemory.c,
	  dlgNewDisc.c, dlgRom.c, dlgScreen.c, dlgSound.c, sdlgui.c: The
	  SDL GUI now tests if the screen size is big enough to display the
	  dialogs

2006-12-18 22:27  Eero Tamminen

	* src/: dialog.c, main.c, screen.c, vdi.c, includes/screen.h: -
	  cleaned up screen.c functions by changing then to return (med)
	  rez	mode instead of messing with global STRes variable -
	  removed separate mixed low/med rez mode, the rest of code handles
	  mixed low/med fine without it - added Sreen_ModeChange() i.e.
	  explicit screen size change function - removed PrevSTRes global
	  (it was redundant with above)

2006-12-18 21:19  Thomas Huth

	* src/spec512.c: Changed the way how spec512 pictures are detected
	  - now also screens with less than 32 changes per line can be
	  detected as color cycling screens.

2006-12-18 11:57  Thomas Huth

	* src/uae-cpu/newcpu.c: Copied movec_illg function from WinUAE

2006-12-18 11:22  Thomas Huth

	* src/gemdos.c: Added error message when permissions for reading a
	  file are missing

2006-12-17 11:21  Eero Tamminen

	* src/: Makefile, configuration.c, dialog.c, ioMem.c,
	  ioMemTabFalcon.c, main.c, options.c, psg.c, falcon/Makefile,
	  includes/configuration.h, includes/ioMemTables.h: - Build DSP
	  emulation if ENABLE_FALCON is set - add configuration and command
	  line option for enabling the DSP   (overwrites some
	  IoMemTable_Falcon[] entries with suitable values)

2006-12-11 21:17  Eero Tamminen

	* doc/manual.html: - add new command line options - update other
	  options - --slowfdc isn't anymore needed with demos nor games -
	  Thomas' latest updates fixed scrolling in a couple of:   -
	  overscan ST demos   - STE game demos

2006-12-11 19:06  Eero Tamminen

	* src/: configuration.c, dialog.c, main.c, options.c, screen.c,
	  video.c, falcon/hostscreen.c, falcon/videl.c,
	  gui-sdl/dlgScreen.c, includes/configuration.h: - Removes usage of
	  the now redundant Configuration.Screen.bUseHighRes - Separates
	  the confusing ChosenDisplayMode configuration to   more explicit
	  bForce8Bpp and bZoomLowRes variables everywhere   -> This makes
	  the related ifs in screen.c, videl.c, main.c etc. clearer   - Now
	  furher changing the zoom boolean to zoom factor integer would be
	  much easier especially as Videl supports more than just
	  doubling - Changes bFrameSkip boolean to FrameSkips integer	->
	  Videl code is slow, with e.g. "--frameskips 4" the Falcon
	  emulation	 with zoomed screen takes much less CPU   -> Could
	  be better supported in Hatari screen dialog, currently      I've
	  mapped the checkbox to frameskip 1 and 2 - Added command line
	  options for --borders, --force8bpp, --zoom, --frameskips - Move
	  cpu_level and cpu_compatible variable settings from
	  Opt_ParseParameters(), Dialog_CopyDialogParamsToConfiguration()
	  and	Configuration_Load() to Configuration_WorkOnDetail() as all
	  those   first three functions were anyway calling the last one.
	  (TOS loading still does CPU settings by itself)  - Move STRes
	  setting from Opt_ParseParameters() to
	  Configuration_WorkOnDetail() - Rename
	  Configuration_WorkOnDetails() to more clear/appropriate
	  Configuration_Apply() and call it explicitly from main.c and
	  dialog.c   instead of also from Configuration_Load() as loading
	  and applying config	are different actions.	I also removed call
	  to it from option parsing,   it's IMHO cleaner to have it in
	  main.c - Fix doing zoom on, low -> med-res, zoom off, med ->
	  low-res   (previously screen size didn't get smaller in last
	  step) - Set --slow-fdc and mono option deprecated (monitor should
	  be used instead   of mono) and remove "experimental" from blitter
	  option descriptions.	- use setenv() instead of putenv() in
	  main() as I was mailed that nowadays	 former is more standard
	  (despite Linux manual page...) - Indentation fixes

2006-12-10 22:00  Thomas Huth

	* src/: reset.c, video.c, includes/video.h: Cleaned up the
	  HBL/Timer B interrupt code a little bit.

2006-12-07 21:23  Thomas Huth

	* src/video.c: Disabled debug output

2006-12-05 22:58  Thomas Huth

	* src/psg.c: Silenced debug output

2006-12-04 00:33  Thomas Huth

	* src/: reset.c, video.c, includes/video.h, uae-cpu/newcpu.c:
	  Changed horizontal screen timings to be much closer to the
	  original shifter

2006-12-03 16:35  Thomas Huth

	* src/gemdos.c: Check for valid return values when calling
	  localtime()

2006-12-01 20:42  Eero Tamminen

	* src/falcon/videl.c: - fix compiler warning about local variable
	  shadowing global one - replace some shifts with SDL_SwapBE16()
	  calls and remove related   BYTEORDER ifdefs as SDL_SwapBE16()
	  already handles that

2006-12-01 20:39  Eero Tamminen

	* src/falcon/Makefile: Add CPPFLAGS like into other Makefiles

2006-11-26 18:50  Thomas Huth

	* src/: screen.c, video.c: Moved printer check from screen.c to
	  video.c.

2006-11-25 12:26  Thomas Huth

	* src/: ioMemTabTT.c, video.c, falcon/videl.c, falcon/videl.h,
	  includes/video.h: The TT shifter modes are now handled, too.

2006-11-21 23:40  Thomas Huth

	* src/falcon/videl.c: Adjust line length when register FF8265 is
	  set.

2006-11-20 22:43  Thomas Huth

	* src/screenSnapShot.c: Added missing closedir() - leaving the
	  directory handles open caused problems after a while when
	  recording animations.

2006-11-20 01:21  Thomas Huth

	* src/ioMemTabFalcon.c: Registers 0xff820e and 0xff8264 are present
	  on the Falcon so do not do a 'void read' there.

2006-11-20 01:20  Thomas Huth

	* src/falcon/videl.c: Size of register ff8260 is only byte, not
	  word.

2006-11-17 19:08  Matthias Arndt

	* src/: dmaSnd.c, psg.c: * added some minor Falcon specifics to PSG
	  and DMA Audio code

2006-11-15 20:34  Eero Tamminen

	* src/gemdos.c: make glob/globfree static so that MinGW GCC doesn't
	  complain on Windows

2006-11-14 22:08  Eero Tamminen

	* src/: hatari-icon.bmp, screen.c: - convert icon to 8-bit so that
	  color keying can make it transparent - free the icon after use so
	  that it doesn't leak

2006-11-13 23:25  Thomas Huth

	* src/hatari-icon.bmp, Makefile, src/screen.c: Added icon.

2006-11-13 21:41  Eero Tamminen

	* Makefile.cnf, src/Makefile, src/gui-sdl/Makefile,
	  src/uae-cpu/Makefile: handle CPPFLAGS (consistently) in Makefiles
	  and make it overridable

2006-11-13 00:34  Thomas Huth

	* src/: Makefile, gemdos.c: Patches for MinGW (GEMDOS HD emu now
	  does not crash the emulator anymore)

2006-11-12 19:48  Eero Tamminen

	* src/: reset.c, includes/reset.h: Reset_ST is called only from
	  reset.c, so make it static

2006-11-12 16:09  Eero Tamminen

	* doc/manual.html: Add "20 years" demo to the list

2006-11-01 21:29  Eero Tamminen

	* src/nvram.c: make global nvram array static

2006-11-01 12:05  Thomas Huth

	* src/gui-sdl/dlgScreen.c: Screen dialog now shows all Falcon
	  monitor types.

2006-10-29 12:00  Thomas Huth

	* src/ioMemTabTT.c: Enabled NVRAM/RTC emulation for TT mode, too.

2006-10-29 10:25  Thomas Huth

	* src/: Makefile, ioMemTabFalcon.c, main.c, nvram.c, tos.c,
	  includes/nvram.h: Added NVRAM/RTC emulation for the Falcon mode.

2006-10-28 21:13  Eero Tamminen

	* src/main.c: set SDL_VIDEO_X11_WMCLASS to help (X11) window
	  managers in window grouping

2006-10-28 21:07  Eero Tamminen

	* Makefile: note about DESTDIR

2006-10-25 21:00  Eero Tamminen

	* src/: configuration.c, options.c, stMemory.c,
	  includes/configuration.h: Add monitor type command line option
	  and support for all Falcon monitor types.

2006-10-23 19:56  Eero Tamminen

	* src/video.c: include missing videl.h

2006-10-22 22:51  Eero Tamminen

	* src/options.c: machine: st/ste -> 8Mhz

2006-10-20 22:12  Eero Tamminen

	* doc/manual.html: Add STE STrEet Fighter 2 from Patrice Mandin

2006-10-20 13:49  Eero Tamminen

	* src/options.c: Fix st/ste command line setting in case user had
	  saved tt/falcon setting

2006-10-19 22:09  Eero Tamminen

	* src/falcon/: hostscreen.c, hostscreen.h, videl.c, videl.h: makes
	  some thing static that are not called from outside the object
	  file and remove their prototypes from header

2006-10-19 22:08  Eero Tamminen

	* src/reset.c: #include "falcon/videl.h"

2006-10-18 02:08  Thomas Huth

	* src/tos.c: Added support for TOS 4.00 and 4.01.

2006-10-15 23:35  Thomas Huth

	* src/falcon/hostscreen.c: Fixed problem with the SDL-GUI using the
	  wrong screen surface when the Videl emulation was active (Thanks
	  to Emmanuel Anne for the hint).

2006-10-15 23:24  Thomas Huth

	* src/tos.c: Added support for TOS 4.02 and 4.92.

2006-10-15 23:21  Thomas Huth

	* src/: stMemory.c, includes/tos.h: Do not erase RAM TOS images
	  during memory initialization.

2006-10-15 23:20  Thomas Huth

	* src/uae-cpu/newcpu.c: Jump to debug interface when encountering
	  an uninitialized exception handler.

2006-10-12 22:56  Thomas Huth

	* src/ioMemTabFalcon.c: Some programs poll the DSP registers for a
	  change. Simulate some action there to get these programs running.

2006-10-10 22:14  Thomas Huth

	* src/gemdos.c: Improved error output in the GEMDOS HD emulation a
	  little bit.

2006-10-10 22:13  Thomas Huth

	* src/: screen.c, falcon/hostscreen.c, falcon/hostscreen.h:
	  Toggling between fullscreen and window mode now also works with
	  the Videl emulation.

2006-10-09 19:41  Thomas Huth

	* doc/todo.txt: Updated the TODO file.

2006-10-08 14:11  Thomas Huth

	* src/falcon/hostscreen.h: hostscreen.h now also uses araglue.h

2006-10-08 14:10  Thomas Huth

	* src/: ioMemTabFalcon.c, main.c, psg.c, falcon/.cvsignore,
	  falcon/araglue.h, falcon/dsp.c, falcon/dsp.h, falcon/dsp_cpu.c,
	  falcon/dsp_cpu.h, falcon/dsp_disasm.c, falcon/dsp_disasm.h: Made
	  the DSP code compilable for Hatari

2006-10-08 13:53  Thomas Huth

	* src/falcon/: dsp.c, dsp.h, dsp_cpu.c, dsp_cpu.h, dsp_disasm.c,
	  dsp_disasm.h: Copied DSP emulation code from Aranym to Hatari.
	  (Thanks to the Aranym developers, especially Patrice Mandin, for
	  this code)

2006-10-07 15:32  Thomas Huth

	* src/: dialog.c, falcon/hostscreen.c, falcon/videl.c,
	  falcon/videl.h: Enabled zooming function of the Videl emulation
	  code.

2006-10-07 14:22  Thomas Huth

	* src/screen.c: Disabled resolution switching in screen.c when
	  Videl emulation is running.

2006-10-07 13:41  Thomas Huth

	* src/falcon/: hostscreen.c, hostscreen.h, videl.c, videl.h:
	  Cleaned up the videl code a little bit (thanks to Eero for the
	  patch).

2006-10-07 13:01  Thomas Huth

	* src/options.c: Slightly improved text output strings.

2006-10-06 01:31  Thomas Huth

	* src/falcon/hostscreen.c: Fixed Videl palette color problem and
	  cleaned up a little bit (removed backgroundSurf)

2006-10-04 22:34  Thomas Huth

	* src/: Makefile, ioMemTabFalcon.c, main.c, reset.c, video.c,
	  falcon/Makefile, falcon/hostscreen.c, falcon/hostscreen.h,
	  falcon/videl.c, falcon/videl.h: Integrated the Videl emulation
	  into Hatari.

2006-10-04 20:39  Thomas Huth

	* src/falcon/: hostscreen.c, videl.c: Copied Falcon Videl emulation
	  code from Aranym 0.9.4. Many thanks to the Aranym authors for
	  their code!

2006-10-03 12:38  Thomas Huth

	* src/: configuration.c, file.c: Some more changes for Amiga OS.
	  Thanks to Ventzislav Tzvetkov for the patches!

2006-10-03 12:07  Thomas Huth

	* src/: memorySnapShot.c, includes/main.h: Increased version number
	  to 0.91

2006-10-03 11:59  Thomas Huth

	* src/gui-sdl/dlgSystem.c: Added TT and Falcon checkbox to the
	  system dialog

2006-09-29 13:20  Thomas Huth

	* src/stMemory.c: The Falcon memory (and monitor) configuration
	  register is now initialized to make TOS 4.04 happy.

2006-09-29 12:45  Thomas Huth

	* src/tos.c: Disabled ROM CRC check for TOS 4.04

2006-09-29 03:07  Thomas Huth

	* src/: ioMemTabFalcon.c, tos.c: Some more patches to get TOS 4.04
	  finally booting :-).

2006-09-29 00:58  Thomas Huth

	* src/ioMem.c: Added missing break statement

2006-09-28 20:27  Eero Tamminen

	* src/: main.c, misc.c, sound.c, includes/misc.h: Random is only
	  used when generating the noise sound channel, so move all random
	  stuff to sound.c

2006-09-28 17:21  Thomas Huth

	* src/st.c: Added flag for RISC OS to prevent it from interfering
	  with the .ST disk image files (Thanks to James Lampard for the
	  patch).

2006-09-27 10:58  Thomas Huth

	* src/: Makefile, configuration.c, ide.c, options.c, tos.c,
	  includes/configuration.h, includes/ide.h, uae-cpu/memory.c:
	  Infrastructure for intercepting read/write accesses to IDE IO
	  memory region.

2006-09-27 00:01  Thomas Huth

	* src/file.c: Slightly improved Files_Exists(): The function now
	  works with block/character devices again.

2006-09-26 21:12  Eero Tamminen

	* src/: int.c, m68000.c, mfp.c, video.c, includes/int.h,
	  includes/m68000.h, uae-cpu/newcpu.c: - move the
	  PendingInterruptFunction & PendingInterruptCount   from m68000.c
	  to int.c, this allows making some functions static   (used only
	  by memory snapshot though and it makes the memory   snapshots
	  from earlier version uncompatible) - add new
	  Int_AddRelativeInterruptNoOffset() and use it in mfp.c   so that
	  nCyclesOver variable can be static - typedef the interrupt types
	  enum and use that type in the public	 interrupt functions - use
	  interrupt define in video.c call instead of "magic NULL" - remove
	  redundant type casts and initial zero values for static variables
	  - return is not a function...

2006-09-26 21:04  Eero Tamminen

	* src/convert/: high640x8.c, low320x16.c, low320x8.c, low640x16.c,
	  low640x8.c, macros.h, med640x16.c, med640x8.c, spec640x16.c,
	  vdi16.c, vdi2.c, vdi4.c: Optimize by calculating some values
	  before loop: - Screen4BytesPerLine = PCScreenBytesPerLine/4 -
	  Screen2BytesPerLine = PCScreenBytesPerLine/2 - update =
	  ScrUpdateFlag & PALETTEMASK_UPDATEMASK

2006-09-26 17:16  Thomas Huth

	* doc/authors.txt: Added James Lampard to the list of contributors

2006-09-26 17:13  Thomas Huth

	* src/rs232.c: cfmakeraw was missing on RiscOS, too. Thanks to
	  James Lampard for the hint.

2006-09-26 15:52  Thomas Huth

	* src/rs232.c: tcgetattr, tcsetattr, cfsetospeed and cfsetispeed
	  need to be defined on AmigaOS

2006-09-13 22:21  Eero Tamminen

	* src/: mfp.c, includes/mfp.h: - optimize:   - MFP timer lookup
	  table; integer fraction calculation is faster     than use of
	  floats   - one more function can be static and MFP_StartTimer_*
	  args fit into Uint16 - cleanup: return is not a function

2006-09-12 23:43  Thomas Huth

	* src/tos.c: Since we have to patch TOS 3.06 for Hatari, the
	  useless ROM CRC code in TOS 3.06 is now ignored, too.

2006-09-12 23:21  Thomas Huth

	* src/: Makefile, ioMem.c, ioMemTabFalcon.c, options.c, tos.c,
	  includes/configuration.h, includes/ioMemTables.h: Added some
	  experimental code (not working yet)

2006-09-12 19:55  Eero Tamminen

	* src/file.c: fix to infinite loop when Hatari cmdline option
	  taking a file is given a directory instead

2006-09-12 19:22  Thomas Huth

	* doc/manual.html: Some minor improvements to the manual

2006-09-02 15:13  Eero Tamminen

	* Makefile.cnf: Allow user to override following Makefile variables
	  with environment variables: CC, HOSTCC, BINDIR, DATADIR, CONFDIR

2006-08-31 21:24  Thomas Huth

	* src/: Makefile, ioMemTabST.c, ioMemTabSTE.c, ioMemTabTT.c,
	  ioMemTables.c: ioMemTables.c has been split up into smaller,
	  better maintainable parts.

2006-08-30 21:54  Thomas Huth

	* src/: spec512.c, ymFormat.c: Sourcecode beautification

2006-08-27 19:20  clafou

	* Hatari.xcodeproj/project.pbxproj,
	  src/gui-osx/SDLMain.nib/objects.nib: For v.0.90 OSX version:
	  Xcode project file updated (added new files scandir.h and
	  scandir.c), prefs window edited to make the 1st tab open first

2006-08-22 : *** Version 0.90 ***

2006-08-24 19:34  Thomas Huth

	* doc/release-notes.txt: Forgot to mention some items

2006-08-22 20:39  Thomas Huth

	* configure.ac, readme.txt, src/memorySnapShot.c,
	  src/includes/main.h: Increased version number to 0.90

2006-08-22 20:37  Thomas Huth

	* doc/: hatari.1, release-notes.txt, todo.txt: Updated the docs for
	  the new public version.

2006-08-16 22:14  Thomas Huth

	* doc/: authors.txt, manual.html: Updated the documentation files.

2006-08-14 20:32  Thomas Huth

	* src/gui-sdl/dlgDevice.c: Printer file browse button now works
	  again.

2006-08-14 01:33  Thomas Huth

	* src/: fdc.c, hdc.c, includes/hdc.h: Debugged and improved the
	  ACSI emulation code. Creating (formating and partitioning) new
	  hard disk images with AHDI v5.0 should be working fine now.

2006-08-11 11:25  Eero Tamminen

	* src/hdc.c: - add more info on the hd root sector partition table
	  - in GetInfo, get only the data for partition table	(reading 64
	  bytes did go unnecessarily to 2d sector in the image)

2006-08-10 21:10  Thomas Huth

	* src/: hdc.c, includes/hdc.h: Added 'MODE SENSE' and 'FORMAT
	  DRIVE' commands to make HDX from AHDI 5.0 happy. Also had to set
	  the FDC/HDC GPIP bit for non-existing controllers when HDX scans
	  for available hard disks.

2006-08-10 19:26  Thomas Huth

	* src/: fdc.c, hdc.c, includes/hdc.h: Removed annoying check for
	  existing partitions and added stub for 'REQUEST SENSE' ACSI
	  command.

2006-08-10 14:14  Eero Tamminen

	* doc/memory-usage.txt: updated/fixed the analysis

2006-08-09 10:16  Eero Tamminen

	* doc/manual.html: minor updates for: - configurable shortcut keys
	  - change in how joystick cursor key emu works - keymap handling

2006-08-09 10:14  Eero Tamminen

	* src/: configuration.c, keymap.c, shortcut.c, video.c,
	  includes/configuration.h, includes/shortcut.h: Shortcut keys can
	  now be configured from the Hatari configuration file.  There are
	  separate sections for shortcut keybindings with and without a
	  modifier key.  Same shortcut action can be bound both to a key
	  with and without a modifier (e.g. F12 & Modifier+o are bound for
	  the the options dialog by default).

2006-08-09 10:11  Eero Tamminen

	* doc/keymap-sample.txt: improved comments

2006-08-09 10:10  Eero Tamminen

	* src/: joy.c, options.c, includes/joy.h: Joystick shortcut
	  (Altgr+j): - toggles cursor emu between port 0, port 1 and being
	  disabled from those, - it doesn't disable cursor emu from any
	  other port, and - it restores the previous joystick value
	  (disabled/real) to the port when   the cursor emu is toggled off
	  from the port I.e. it affects only cursor emulation and only in
	  ports 0 & 1.	The -j <port> option doesn't disable the cursor emu
	  from other ports anymore either (like it did with the patch I had
	  commited earlier).

2006-08-08 09:19  Thomas Huth

	* src/: file.c, floppy.c, hdc.c: Source code beautification

2006-08-05 22:56  Eero Tamminen

	* doc/manual.html: add name of the keymap example file

2006-08-05 10:33  Thomas Huth

	* src/: hdc.c, includes/hdc.h: Improved HDC debugging output.

2006-08-02 22:09  Eero Tamminen

	* doc/manual.html, src/options.c: - added option -k/--keymap for
	  setting the keyboard mapping file - documented this and the
	  updated -j option in manual

2006-08-02 13:51  Eero Tamminen

	* src/: configuration.c, joy.c, options.c, gui-sdl/dlgJoystick.c,
	  includes/configuration.h: add port parameter to the -j option +
	  use JOYSTICK_COUNT where appropriate

2006-08-02 12:54  Eero Tamminen

	* src/file.c: add 'else' missing from previous change to
	  File_makepath()

2006-08-02 11:53  Eero Tamminen

	* doc/manual.html: updated STE right border stuff

2006-08-02 09:45  Thomas Huth

	* src/main.c: Improved mouse handling in ST-Medium and zoomed
	  ST-Low resolutions: The ST mouse cursor is now better in sync
	  with the mouse cursor of the host system.

2006-08-01 22:18  Thomas Huth

	* src/gui-sdl/dlgFileSelect.c: The user can now choose wether
	  hidden files should be displayed in the file selector or not.

2006-08-01 11:23  Thomas Huth

	* src/: audio.c, sound.c, includes/sound.h: Fixed problems with
	  sound buffer synchronization in fast-forward mode

2006-08-01 11:19  Thomas Huth

	* src/zip.c: Header file sys/dir.h is only needed on QNX

2006-07-31 00:49  Thomas Huth

	* src/gui-sdl/: dlgFileSelect.c, font10x16.bmp, font10x16.h,
	  font5x8.bmp, font5x8.h: In the SDL-GUI file selector, a button
	  for the home folder has been added.

2006-07-30 22:42  Thomas Huth

	* Makefile, src/Makefile, src/gui-sdl/Makefile,
	  src/uae-cpu/Makefile: Added 'distclean' target to Makefiles and
	  improved creation of Makefile.dep

2006-07-30 22:17  Thomas Huth

	* src/uae-cpu/: Makefile, sysdeps.h: The host compiler should not
	  use the SDL_CFLAGS from the target system. So the UAE variables
	  types are now mapped to the types from stdint.h instead of
	  SDL_types.h

2006-07-27 22:00  Thomas Huth

	* src/zip.c: Patch for compiling on QNX

2006-07-27 21:57  Thomas Huth

	* src/rs232.c: 230400 are not supported on all systems

2006-07-23 17:44  Thomas Huth

	* Makefile-MinGW.cnf: Added Makefile configuration for MinGW

2006-07-23 17:32  Thomas Huth

	* src/: configuration.c, file.c, gui-sdl/dlgFileSelect.c,
	  includes/main.h: Better support for MingW: Hatari now basically
	  supports backslashes as path separators, too.

2006-07-22 18:25  Thomas Huth

	* src/: Makefile, gui-sdl/Makefile, uae-cpu/Makefile: Updated
	  Makefiles so that they work better with MinGW

2006-07-22 17:49  Thomas Huth

	* src/: gemdos.c, scandir.c: Made Hatari really compilable with
	  MinGW

2006-07-20 23:43  Thomas Huth

	* src/: Makefile, file.c, gemdos.c, scandir.c,
	  gui-sdl/dlgFileSelect.c, includes/file.h, includes/scandir.h:
	  Moved scandir code to a separate file and also added scandir for
	  Windows (Thanks to Mark Keates for the scandir code for Windows).

2006-07-20 23:00  Thomas Huth

	* src/keymap.c: Now using proper SDLKey type.

2006-07-15 12:41  clafou

	* Hatari.xcodeproj/project.pbxproj,
	  src/gui-osx/CreateFloppyController.m,
	  src/gui-osx/PrefsController.h, src/gui-osx/PrefsController.m,
	  src/gui-osx/SDLMain.h, src/gui-osx/SDLMain.m,
	  src/gui-osx/SDLMain.nib/classes.nib,
	  src/gui-osx/SDLMain.nib/info.nib,
	  src/gui-osx/SDLMain.nib/objects.nib: Fullscreen now a menu item,
	  Create Floppy window bug fixed

2006-07-12 23:12  clafou

	* Info-Hatari.plist, Hatari.xcodeproj/project.pbxproj: Added
	  Universal Binary compilation for MacOS X

2006-07-11 20:52  Thomas Huth

	* src/: cfgopts.c, file.c, gemdos.c, memorySnapShot.c, unzip.c,
	  zip.c: strcasecmp is defined in strings.h, not in string.h!
	  (Thanks to Anatol for the hint)

2006-07-05 20:08  clafou

	* Hatari.xcodeproj/project.pbxproj, src/gui-osx/hatari.x32: Removed
	  obsolete file

2006-07-03 23:00  clafou

	* Hatari.xcodeproj/project.pbxproj: Added Cocoa UI for MacOSX

2006-07-03 22:54  clafou

	* src/gui-osx/: AlertHooks.h, AlertHooks.m,
	  CreateFloppyController.h, CreateFloppyController.m, Hatari.icns,
	  PrefsController.h, PrefsController.m, SDLMain.h, SDLMain.m,
	  Shared.h, Shared.m, hatari.x32, English.lproj/InfoPlist.strings,
	  SDLMain.nib/classes.nib, SDLMain.nib/info.nib,
	  SDLMain.nib/objects.nib: Added Cocoa UI for MacOSX

2006-07-03 22:36  clafou

	* src/: dialog.c, gui-sdl/dlgAlert.c, gui-sdl/dlgMain.c,
	  includes/dialog.h, includes/main.h: Added Cocoa UI for MacOSX

2006-06-27 01:03  Thomas Huth

	* src/: int.c, m68000.c, screen.c, includes/ikbd.h, includes/int.h,
	  includes/ioMemTables.h, includes/m68000.h: Now using correct
	  variable types for variables that store a pointer to a function
	  (Thanks to Mark Keates for the patch)

2006-06-22 22:03  Eero Tamminen

	* doc/manual.html: fix typo

2006-06-13 22:26  Thomas Huth

	* src/main.c: Slightly improved the wait-on-vbl function. Should
	  now result in a better tradeoff between speed accuracy and CPU
	  time consumption on Mac OS X.

2006-06-13 22:22  Thomas Huth

	* src/sound.c: Added additional check to avoid the creation of too
	  many new samples (e.g. when running in max. speed mode)

2006-05-21 11:13  Eero Tamminen

	* doc/manual.html: updated the command line options in regards to
	  memory and TT support, updated the STE demo list, added new table
	  for 68030 software compatibility and added note about the
	  scrollwheel to the mouse section.

2006-05-20 10:05  Thomas Huth

	* src/: gemdos.c, includes/gemdos.h: Fixed GEMDOS-HD Dsetpath
	  emulation: No more buffer overruns and crashes when a program
	  does a lot Dsetpath("..") calls.

2006-05-04 21:36  Thomas Huth

	* src/gemdos.c: Renamed variable name 'Char' to 'c' since 'Char' is
	  a pre-defined name on AmigaOS (Thanks to Ventzislav Tzvetkov for
	  the hint).

2006-04-19 23:46  Thomas Huth

	* src/: includes/joy.h, joy.c, main.c: Joysticks are now closed at
	  exit.

2006-04-05 17:34  Thomas Huth

	* src/: ioMemTables.c, memorySnapShot.c, video.c, includes/main.h,
	  includes/video.h: Hatari can now emulate the STE shifter bug that
	  is used in some games like Obsession to enhance the resolution to
	  336x200.

2006-03-23 23:03  Thomas Huth

	* src/ioMemTables.c: Moved wrongly placed entry in IO-mem-table to
	  correct location.

2006-03-23 21:56  Eero Tamminen

	* src/includes/main.h: Remove obsolete variable definition from
	  main.h (produced error with gcc v4)

2006-03-03 00:17  Thomas Huth

	* src/video.c: Added basic support for shortening a screen line by
	  2 bytes: Some few sync-scrolling screens are now working.

2006-03-02 23:20  Thomas Huth

	* src/: video.c, includes/video.h: Fixed byte size of left and
	  right border: Programs that only open one of these two borders
	  should be working fine now (e.g. the overscan screen in the
	  'Amiga demo' from TEX)

2006-03-02 10:17  Thomas Huth

	* src/cart.c: Forgot to free allocated memory in case of an error.

2006-03-02 10:06  Thomas Huth

	* src/: cart.c, configuration.c, gui-sdl/dlgRom.c: Slightly
	  improved cartridge loading (now checking correctly for illegal
	  file names etc.).

2006-03-02 09:42  Thomas Huth

	* src/file.c: File_Read now returns the correct number of bytes
	  that have been read.

2006-03-01 21:54  Thomas Huth

	* src/unzip.c: Fixed typo.

2006-03-01 21:46  Thomas Huth

	* src/: tos.c, unzip.c: Sourcecode beautification.

2006-03-01 17:31  Thomas Huth

	* src/includes/video.h: Removed unused legacy defines.

2006-02-27 12:07  Thomas Huth

	* src/: cart_asm.s, cart_mus.x32, hatari.x32: Renamed hatari.x32 to
	  cart_mus.x32

2006-02-23 22:00  Thomas Huth

	* src/spec512.c: Improved Spectrum512 picture generation - many
	  Spec512 pictures look now much better! (Thanks to Emmanuel Anne
	  for this patch)

2006-02-21 22:45  Thomas Huth

	* src/uae-cpu/memory.c: Speed optimization: Use STRam array
	  directly instead of using it indirectly via a pointer
	  (*STmemory).

2006-02-21 20:09  Eero Tamminen

	* src/keymap.c: use Log_Printf() instead of fprintf(stderr...)

2006-02-21 15:15  Thomas Huth

	* src/: reset.c, stMemory.c, tos.c, includes/stMemory.h: Moved
	  memory initialization to stMemory.c. The memory is now also
	  cleared up to STRamEnd, not only up to 4MiB.

2006-02-21 14:47  Thomas Huth

	* Makefile.cnf: Disabled -Wcast-align again

2006-02-21 14:41  Thomas Huth

	* src/gemdos.c: Fixed GCC compiler warnings.

2006-02-19 22:48  Eero Tamminen

	* src/options.c: improved comments

2006-02-17 22:01  Eero Tamminen

	* src/keymap.c: - bugfix: keycode variables need to be signed for
	  check about undefined   key (value < 0) to work - tell use if
	  keycode opening failed

2006-02-17 22:00  Eero Tamminen

	* src/options.c: add missing array initializer

2006-02-17 21:59  Eero Tamminen

	* src/blitter.c: remove unused skew argument

2006-02-16 23:19  Eero Tamminen

	* src/gemdos.c: use ferror(), fwrite() doesn't return an error code

2006-02-16 23:07  Eero Tamminen

	* src/dim.c: fix cast warning

2006-02-16 22:51  Eero Tamminen

	* doc/memory-usage.txt: added document on Hatari memory usage

2006-02-15 20:16  Thomas Huth

	* src/screen.c: STE color table can be used for both modes, ST and
	  STE. This change fixes a problem when running Hatari with
	  '--machine st --tos tos106.rom'

2006-02-13 22:18  Eero Tamminen

	* src/: fdc.c, includes/m68000.h: added defines for two magic
	  values

2006-02-13 22:18  Eero Tamminen

	* src/: ikbd.c, gemdos.c, ioMem.c, spec512.c, vdi.c,
	  includes/ikbd.h, includes/ioMem.h, includes/spec512.h: -
	  "unsigned char" -> Uint8 - "unsigned short" -> Uint16 - Made some
	  global variables static - Moved CYCLEPALETTE definition to
	  spec512.c as it's not used elsewhere

2006-02-12 22:35  Eero Tamminen

	* src/misc.c: typo fixes for comments

2006-02-12 22:28  Eero Tamminen

	* src/: audio.c, blitter.c, cart.c, cartData.c, dmaSnd.c, file.c,
	  floppy.c, ikbd.c, int.c, ioMem.c, ioMemTables.c, keymap.c,
	  rs232.c, screen.c, sound.c, tos.c, vdi.c, xbios.c, zip.c,
	  convert/macros.h, includes/audio.h, includes/file.h,
	  includes/ioMemTables.h, includes/zip.h: Make some predefined
	  arrays into const.  This required adding consts to some other
	  places too (e.g. few public file.h functions)

2006-02-12 22:24  Eero Tamminen

	* src/Makefile: add options.c

2006-02-12 22:23  Eero Tamminen

	* src/: gemdos.c, includes/gemdos.h, includes/gemdos_defines.h: -
	  minor cleanup in gemdos.h:   - move defines and structs used only
	  in gemdos.c, to there   - move error and file attribute defines
	  to internal gemdos_define.h - renamed badly/misleadingly named
	  defines:   - MAX_PATH -> MAX_GEMDOS_PATH     (was used wrong in
	  main.c option parsing) - make some gemdos.c variables static /
	  const

2006-02-12 19:53  Eero Tamminen

	* src/: main.c, options.c, includes/options.h: - Move the Hatari
	  option parsing from main.c to its own options.c file	 and
	  rewrite it to be more automatic (at the same time fixes a few
	  bugs	 in sizeof<->strlen comparison strncpy usage).	- Add const
	  and static keywords where appropiate

2006-02-09 23:02  Eero Tamminen

	* src/uae-cpu/: build68k.c, fpp.c, gencpu.c, newcpu.c, newcpu.h,
	  readcpu.c, readcpu.h: make the large opcode tables const, also
	  some other array

2006-02-09 22:55  Eero Tamminen

	* src/gui-sdl/: font10x16.h, font5x8.h, sdlgui.c: Make font data
	  const

2006-02-08 23:51  Eero Tamminen

	* src/memorySnapShot.c: const all rscids

2006-02-08 23:49  Eero Tamminen

	* src/: audio.c, bios.c, blitter.c, cart.c, cartData.c, cfgopts.c,
	  configuration.c, createBlankImage.c, cycles.c, debugui.c,
	  dialog.c, dim.c, dmaSnd.c, fdc.c, file.c, floppy.c, hdc.c,
	  ikbd.c, int.c, ioMem.c, ioMemTables.c, joy.c, keymap.c, log.c,
	  m68000.c, mfp.c, midi.c, misc.c, msa.c, printer.c, psg.c,
	  reset.c, rs232.c, rtc.c, screen.c, screenSnapShot.c, shortcut.c,
	  sound.c, spec512.c, st.c, stMemory.c, tos.c, unzip.c, vdi.c,
	  video.c, wavFormat.c, xbios.c, ymFormat.c, zip.c: const all
	  rscids + MFP float table

2006-02-08 23:46  Eero Tamminen

	* src/: gui-sdl/dlgAbout.c, gui-sdl/dlgAlert.c,
	  gui-sdl/dlgDevice.c, gui-sdl/dlgDisc.c, gui-sdl/dlgFileSelect.c,
	  gui-sdl/dlgJoystick.c, gui-sdl/dlgKeyboard.c, gui-sdl/dlgMain.c,
	  gui-sdl/dlgMemory.c, gui-sdl/dlgNewDisc.c, gui-sdl/dlgRom.c,
	  gui-sdl/dlgScreen.c, gui-sdl/dlgSound.c, gui-sdl/dlgSystem.c,
	  gui-sdl/sdlgui.c, uae-cpu/build68k.c, uae-cpu/fpp.c,
	  uae-cpu/gencpu.c, uae-cpu/hatari-glue.c, uae-cpu/memory.c,
	  uae-cpu/newcpu.c, uae-cpu/readcpu.c: const all rscid's

2006-02-08 10:17  Thomas Huth

	* src/: memorySnapShot.c, includes/main.h: Increased version number
	  to 0.82.

2006-02-08 10:17  Thomas Huth

	* src/video.c: Improved overscan emulation - e.g. the Level 16
	  fullscreen in the union demo is working now.

2006-02-08 10:16  Thomas Huth

	* src/includes/screen.h: Increased the size of the bottom border.

2006-02-07 17:32  Thomas Huth

	* src/: video.c, includes/screen.h, includes/video.h: Added support
	  for 60 Hz screen timings. Spectrum512 pictures that require 60 Hz
	  are now working.

2006-02-04 22:34  Eero Tamminen

	* src/: cycles.c, includes/cycles.h: make Cycles_UpdateCounters
	  static

2006-02-04 17:44  Eero Tamminen

	* src/: rs232.c, includes/rs232.h: - Made global funcs and
	  variables that could be into static - This required moving the
	  static function earlier in the code	(made the diff much larger)

2006-01-30 23:26  Thomas Huth

	* src/convert/: low320x16.c, low320x8.c, low640x16.c, low640x8.c,
	  med640x16.c, med640x8.c, spec320x16.c, spec640x16.c, vdi16.c,
	  vdi2.c, vdi4.c: Removed unnecessary casts to (void *).

2006-01-30 23:06  Thomas Huth

	* src/: cart.c, cartData.c: Rewrote the comments at the top of the
	  file a little bit.

2006-01-30 22:53  Thomas Huth

	* doc/todo.txt: Added new items to the TODO list.

2006-01-29 20:54  Eero Tamminen

	* src/: mfp.c, includes/mfp.h: made several MFP variables and
	  functions static

2006-01-29 20:07  Eero Tamminen

	* src/dmaSnd.c: make DmaSoundMode static

2006-01-29 18:44  Eero Tamminen

	* src/video.c: fix typo in comment

2006-01-26 22:52  Thomas Huth

	* src/: Makefile, cycles.c, int.c, memorySnapShot.c, sound.c,
	  spec512.c, video.c, includes/cycles.h, includes/int.h,
	  includes/m68000.h, includes/sound.h: Started new framework for
	  better cycle counting.

2006-01-23 22:08  Thomas Huth

	* src/: reset.c, spec512.c, video.c, includes/main.h,
	  includes/screen.h, includes/video.h: First steps towards 60 Hz
	  video timing: cycles-per-line and scanlines-per-frame values are
	  now stored in a variable instead of a fix define.

2006-01-23 21:54  Eero Tamminen

	* src/fdc.c: () -> (void)

2006-01-23 20:47  Thomas Huth

	* src/uae-cpu/gencpu.c: Improved PEA and LEA cycles again (thanks
	  to Ijor for the explanation)

2006-01-20 18:42  Thomas Huth

	* src/: fdc.c, mfp.c, includes/fdc.h: Smarter FDC timings: Delay is
	  aborted when a program reads the FDC interrupt bit in the GPIP
	  register. (Thanks to Emmanuel Anne for the idea)

2006-01-12 21:35  Thomas Huth

	* src/convert/: low640x16.c, low640x8.c: Removed redundant
	  AdjustLinePaletteRemap() function calls (Thanks to Emmanuel Anne
	  for the patch).

2006-01-02 21:55  Thomas Huth

	* src/: cart.c, reset.c, includes/cart.h: Improved cartridge image
	  loading: Hatari now supports ZIPed cartridges and .STC
	  cartridges.

2005-12-25 20:59  Thomas Huth

	* src/screen.c: Added additional check if a resolution change is
	  really necessary.

2005-12-25 19:30  Thomas Huth

	* src/uae-cpu/gencpu.c: Corrected cycles for LEA and PEA
	  instructions (e.g. this is needed for the Level-16 fullscreen in
	  the 'Union demo')

2005-12-19 00:20  Thomas Huth

	* src/: file.c, tos.c, zip.c, includes/file.h, includes/zip.h:
	  Improved ZIP file reading: E.g. Hatari can now also load ROM
	  images from a ZIP file.

2005-12-18 19:50  Thomas Huth

	* src/zip.c: Sourcecode beautification.

2005-12-18 19:02  Thomas Huth

	* src/: fdc.c, ikbd.c, m68000.c, mfp.c, midi.c, psg.c, rs232.c,
	  includes/m68000.h, uae-cpu/newcpu.c: Improved the emulation of
	  wait state cycles for certain IO memory registers.

2005-12-17 11:22  Thomas Huth

	* src/joy.c: Made some variables static.

2005-12-02 22:08  Eero Tamminen

	* src/: int.c, includes/int.h: Set a few variables and
	  Int_SetNewInterrupt() function static.

	  Hopefully this helps to make faster the UpdateInterrupt and
	  SetNewInterrupt functions which are in top 10 slowest functions
	  when profiling Posh demo with valgrind+callgrind.

2005-11-30 21:50  Eero Tamminen

	* doc/manual.html: added popstars and overdose demos

2005-11-30 21:18  Eero Tamminen

	* doc/manual.html: add hallucinations demo, pooz game and update
	  info on wolf3d v0.8

2005-11-30 18:01  Matthias Arndt

	* doc/manual.html: small corrections in manual.html

2005-11-23 20:08  Thomas Huth

	* src/main.c: Added mouse wheel support by simulating a curser
	  keypress.

2005-11-23 18:43  Thomas Huth

	* src/gemdos.c: The Pexec function now detects hard drive file
	  names in a better way. Now you can drag and drop a file from a
	  floppy to an application on the hard drive, or launch an
	  associated application by clicking on a data file on a floppy.
	  Thanks to Emmanuel Anne for the patch!

2005-11-23 18:20  Thomas Huth

	* src/dim.c: Updated comment about the .DIM headers.

2005-11-15 13:24  Thomas Huth

	* src/: main.c, video.c, includes/main.h: Improved the delay loop
	  for systems where SDL_Delay is very inaccurate.

2005-11-07 20:22  Thomas Huth

	* doc/todo.txt: Added some more items to the TODO list

2005-11-03 21:46  Eero Tamminen

	* doc/manual.html: update on Pacemaker demo

2005-11-01 22:16  Eero Tamminen

	* doc/manual.html: minor updates, added chaos engine

2005-11-01 21:21  Thomas Huth

	* src/blitter.c: In smudge mode, the halftone offset is now
	  determined before _each_ halftone access, not only once before
	  the blitting operations starts. This fixes some screens in the
	  Pacemaker demo by Paradox.

2005-10-29 12:37  Eero Tamminen

	* doc/manual.html: add ZX Spectrum emu

2005-10-28 17:40  Matthias Arndt

	* doc/manual.html: added Badger Badger by MjjProd to working STE
	  demos

2005-10-24 22:42  Eero Tamminen

	* doc/manual.html: - added a few more apps - noted which of the
	  tested apps/games were demos

2005-10-22 00:00  Eero Tamminen

	* src/blitter.c: oops, disable debug output

2005-10-21 23:58  Eero Tamminen

	* src/: blitter.c, ioMemTables.c, includes/blitter.h: Do changes to
	  the blitter.c code: - LineNum -> Control register name change
	  (line number is just low nibble of the control register) -
	  Convert types and helper functions to SDL and Hatari ones - Add
	  defines for register addresses (IMHO nicer) - Fix (one) bug with
	  Smudge mode - Add documentation comments

2005-10-21 11:23  Thomas Huth

	* src/mfp.c: Due to a small bug, interrupt-in-service registers
	  where not cleared when a program entered automatic MFP EOI mode.
	  Fixed now. Popstars and Spinning-Wheels by YM-Rockerz are working
	  now.

2005-10-20 23:04  Eero Tamminen

	* doc/manual.html: Added many applications and a few demos to ST &
	  STE compatibility lists

2005-10-20 09:52  Thomas Huth

	* src/: ioMem.c, ioMemTables.c, main.c, includes/configuration.h,
	  includes/ioMemTables.h: Added IO memory table for the Atari TT.

2005-10-19 10:16  Thomas Huth

	* src/tos.c: Patch TOS 3.06 to disable PMMU CPU access.

2005-10-16 01:02  Eero Tamminen

	* src/: blitter.c, includes/blitter.h: blitter.c cleanup: - make
	  Do_Blit static - remove 'register' keywords (with today's C
	  compilers they are redundant)

2005-10-15 16:00  Thomas Huth

	* src/gui-sdl/dlgJoystick.c: Fixed stupid bug that prevented proper
	  SDL joystick selection.

2005-10-14 22:28  Eero Tamminen

	* doc/hatari.1: - Add stuff relevant for the new STE support - Wrap
	  all text to 80 columns - Add FILES section

2005-10-14 22:27  Eero Tamminen

	* doc/manual.html: Add Pacemaker STE demo

2005-10-12 : *** Version 0.80 ***

2005-10-12 11:35  Thomas Huth

	* readme.txt: Changes for Hatari version 0.80.

2005-10-12 11:06  Thomas Huth

	* configure.ac, doc/authors.txt, doc/release-notes.txt,
	  src/memorySnapShot.c, src/includes/main.h: Changes for Hatari
	  version 0.80.

2005-10-12 11:05  Thomas Huth

	* doc/todo.txt: Added TODO list.

2005-10-11 22:43  Eero Tamminen

	* doc/manual.html: added Accompanist ST app

2005-10-11 19:13  Thomas Huth

	* doc/: authors.txt, manual.html: Updated the documentation a
	  little bit to suit the latest version of Hatari.

2005-10-09 00:15  Eero Tamminen

	* doc/manual.html: added hero STE game

2005-10-08 11:48  Eero Tamminen

	* doc/manual.html: update ST demo section

2005-10-08 09:32  Eero Tamminen

	* doc/manual.html: improved the ST applications section

2005-10-08 08:53  Eero Tamminen

	* doc/manual.html: added ultimate arena STE game

2005-10-06 23:28  Eero Tamminen

	* doc/manual.html: sort STE games, add Astrodia

2005-10-06 20:47  Thomas Huth

	* doc/: manual.html, images/joystick.png, images/main.png: Updated
	  the main menu and the joystick setup dialog in the manual.

2005-10-05 16:14  Thomas Huth

	* src/: joy.c, includes/joy.h: Hatari supports more than one fire
	  button for STE joypads.

2005-10-04 23:44  Thomas Huth

	* src/: debugui.c, dialog.c: Sourcecode beautification.

2005-10-04 17:31  Thomas Huth

	* src/: configuration.c, dialog.c, gemdos.c, hdc.c,
	  memorySnapShot.c, tos.c, gui-sdl/dlgDisc.c,
	  includes/configuration.h, includes/main.h, includes/tos.h:
	  Improved hard disk emulation: Adding and removing a GEMDOS or
	  ACSI hard disk should now work right.

2005-10-04 15:13  Thomas Huth

	* src/tos.c: Improved TOS patches: Anti-STE patches are now only
	  applied when running in plain ST emulation and DMA boot patches
	  are now also applied when only GEMDOS HD emulation is turned on.

2005-10-04 14:43  Thomas Huth

	* src/: mfp.c, includes/mfp.h: Changed type of variables from
	  'unsigned char' to 'Uint8'.

2005-10-04 11:45  Thomas Huth

	* src/: screen.c, includes/video.h: Fixed SDL header includes.

2005-10-04 11:24  Thomas Huth

	* src/main.c: Sound buffer index variables are now reset after
	  pausing the emulation.

2005-09-29 10:36  Thomas Huth

	* src/: gui-sdl/dlgJoystick.c, gui-sdl/sdlgui.c, includes/sdlgui.h:
	  It is now possible to re-define the keys for the joystick
	  emulation in the GUI.

2005-09-28 23:44  Thomas Huth

	* src/gui-sdl/dlgJoystick.c: SDL joystick name is now displayed in
	  the GUI, too.

2005-09-27 10:53  Thomas Huth

	* src/: shortcut.c, sound.c, includes/sound.h: When switching from
	  maximum to normal speed mode, do not reset complete sound
	  emulation anymore, only the needed sound buffer index variable.

2005-09-26 20:24  Thomas Huth

	* src/keymap.c: When releasing a short-cut key, a key scan code was
	  still sent to the emulated ST. Fixed now.

2005-09-26 17:20  Thomas Huth

	* src/: dmaSnd.c, fdc.c, floppy.c, rs232.c, wavFormat.c, zip.c,
	  gui-sdl/sdlgui.c, includes/floppy.h, includes/wavFormat.h,
	  uae-cpu/fpp.c: Fixed GCC 4.0 compiler warnings.

2005-09-25 23:32  Thomas Huth

	* src/: configuration.c, ioMemTables.c, joy.c, keymap.c, main.c,
	  mfp.c, psg.c, gui-sdl/dlgJoystick.c, includes/configuration.h,
	  includes/joy.h: Added support for STE joypads and parallel port
	  joysticks.

2005-09-15 11:42  Thomas Huth

	* src/keymap.c: Removed some keys from the scancode detection
	  function that are on different locations on qwertz and azerty
	  keyboards.

2005-09-15 02:11  Thomas Huth

	* src/: dmaSnd.c, ioMemTables.c, includes/dmaSnd.h: Emulation of
	  shifting/rotating microwire registers. Needed for some games like
	  'Clogged up' that check the microwire registers for end of
	  transfer.

2005-09-13 22:55  Eero Tamminen

	* doc/manual.html: updates to the STE games

2005-09-13 03:10  Thomas Huth

	* doc/manual.html, doc/release-notes.txt, src/bios.c, src/cart.c,
	  src/configuration.c, src/createBlankImage.c, src/dialog.c,
	  src/dim.c, src/fdc.c, src/file.c, src/floppy.c, src/gemdos.c,
	  src/hdc.c, src/ioMemTables.c, src/main.c, src/memorySnapShot.c,
	  src/msa.c, src/printer.c, src/st.c, src/tos.c, src/unzip.c,
	  src/zip.c, src/gui-sdl/dlgDisc.c, src/gui-sdl/dlgMain.c,
	  src/gui-sdl/dlgNewDisc.c, src/includes/configuration.h,
	  src/includes/dialog.h, src/includes/dim.h, src/includes/fdc.h,
	  src/includes/file.h, src/includes/floppy.h,
	  src/includes/gemdos.h, src/includes/main.h, src/includes/msa.h,
	  src/includes/printer.h, src/includes/st.h, src/includes/unzip.h,
	  src/includes/zip.h: Changed "disc" to "disk" (the correct
	  spelling for floppy and hard disk).

2005-09-09 22:40  Eero Tamminen

	* doc/manual.html: add powerup to STE enhanced games

2005-09-01 22:53  Eero Tamminen

	* doc/: manual.html, update-index.sh: - added script helping in
	  html index creation - added index to the manual

2005-09-01 21:38  Eero Tamminen

	* doc/images/memory.png: updated memory dialog

2005-09-01 21:20  Eero Tamminen

	* src/video.c: fix comment on videobase alignment on TT

2005-08-31 09:33  Matthias Arndt

	* doc/manual.html: added initial STE compatibility list to the
	  manual

2005-08-29 22:13  Thomas Huth

	* src/: joy.c, video.c, includes/video.h: Removed redundant
	  variable VBLCounter. Changed frame skip code so that VDI screen
	  rendering should now be a little bit faster. Removed the
	  confusing and redundant BORDERMASK_TOP/BOTTOM code.

2005-08-29 21:29  Thomas Huth

	* src/: video.c, includes/video.h: Made some functions static.

2005-08-22 00:20  Thomas Huth

	* src/floppy.c: Code now checks if HD emulation is enabled before
	  it tries to boot from hard drive.

2005-08-21 23:15  Thomas Huth

	* src/dmaSnd.c: Forgot to add a #include "memorySnapShot.h"

2005-08-21 23:13  Thomas Huth

	* src/: dmaSnd.c, memorySnapShot.c, reset.c, includes/dmaSnd.h: DMA
	  sound variables are now cleared by ST reset and saved to memory
	  snapshot files, too.

2005-08-15 00:41  Thomas Huth

	* src/ioMemTables.c: Fixed a stupid bug: IO-Memory handler for
	  0xff8265 must not be IoMem_VoidRead since this returns 0xff
	  (which is completely wrong here).

2005-08-14 21:51  Eero Tamminen

	* src/video.c: ScanLineWidth => ScanLineSkip

2005-08-14 20:29  Eero Tamminen

	* src/uae-cpu/memory.c: fix typo in comment

2005-08-13 13:21  Thomas Huth

	* src/: configuration.c, main.c, tos.c, gui-sdl/dlgMemory.c,
	  includes/configuration.h, includes/tos.h, uae-cpu/memory.c,
	  uae-cpu/memory.h: Improved the RAM size setting: Up to 14 MiB ST
	  RAM are now possible.

2005-08-13 10:59  Thomas Huth

	* doc/manual.html, src/main.c: Added --machine command line option
	  to select ST or STE mode.

2005-08-11 09:55  Thomas Huth

	* src/keymap.c: Added key with symbolic code 223.

2005-08-08 16:10  Thomas Huth

	* src/: ioMemTables.c, video.c, includes/video.h: STE Screen base
	  address low register is now set to zero if a program writes to
	  med or high register. Also improved the video address calculation
	  function Video_CalculateAddress().

2005-08-08 14:08  Thomas Huth

	* src/: video.c, includes/main.h: STE fine scrolling now also works
	  with overscan screens (see e.g. the MIND REWIND demo). It should
	  now also work on little endian machines (not tested yet).

2005-08-06 20:34  Thomas Huth

	* doc/images/: fileselector.png, keyboard.png, system.png: Added
	  new screenshots.

2005-08-06 20:33  Thomas Huth

	* doc/images/: fileselector.png, keyboard.png, system.png: Removed
	  old screenshots.

2005-08-06 20:30  Thomas Huth

	* doc/manual.html: Updated the manual: Added STE features, updated
	  some screenshots, etc.

2005-08-06 14:32  Thomas Huth

	* src/: Makefile, dmaSnd.c, int.c, ioMemTables.c, mfp.c, sound.c,
	  video.c, includes/dmaSnd.h, includes/int.h, includes/sound.h:
	  Added experimental STE DMA sound emulation.

2005-08-05 21:45  Thomas Huth

	* src/fdc.c: Decreased FDC time of waiting so that --slowfdc also
	  works with TOS 1.06.

2005-08-03 14:36  Thomas Huth

	* src/video.c: Implemented STE monochrome fine scrolling.

2005-08-03 02:55  Thomas Huth

	* src/: includes/video.h, video.c: Added experimental STE
	  horizontal fine scrolling.

2005-07-30 16:02  Eero Tamminen

	* src/: Makefile, screen.c, screenConvert.c, convert/high640x1.c,
	  convert/high640x8.c, convert/low320x16.c, convert/low320x8.c,
	  convert/low640x16.c, convert/low640x8.c, convert/macros.h,
	  convert/med640x16.c, convert/med640x8.c, convert/routines.h,
	  convert/spec320x16.c, convert/spec640x16.c, convert/vdi16.c,
	  convert/vdi2.c, convert/vdi4.c, includes/screen.h,
	  includes/screenConvert.h: Huge re-factoring to screenConvert.c
	  and associated files: - Moved lookup tables and macros from
	  screenConvert.c to   convert/macros.h   - Cleaned up the macros
	  so that there's less than half of code left - Moved functions and
	  variables from screenConvert.c to screen.c   - I also cleaned up
	  these functions   - As a result, I removed screenConvert.c -
	  Moved includes/screenConvert.h to includes/routines.h - Included
	  convert/macros.h and convert/routines.h to screen.c As a result,
	  I could do following: - Declare all convert/*.c functions static
	  - Hide half of includes/screen.h variables to screen.c
	  exclusively Additionally I: - Removed the global PixelWorkspace,
	  ScrX and ScrY variables and used   local variables in convert/*.c
	  functions instead (I pass the vertical   value to palette adjust
	  function as argument) For Spec512 I didn't have a test-case,
	  everything else is tested and "should" work

2005-07-30 14:27  Eero Tamminen

	* src/screen.c: fix STe palette for 8-bit screen

2005-07-30 12:09  Eero Tamminen

	* src/: screen.c, includes/screen.h, includes/vdi.h: cleanup: -
	  Make screen.c functions that are not called elsewhere static	 -
	  changed their order for this a bit - Fix typos in comments (+
	  reformat some of them to fit 80-columns)

2005-07-30 11:26  Eero Tamminen

	* src/: ioMemTables.c, video.c, includes/video.h: Add STe Video
	  Address Counter write support: - video.c:
	  Video_ScreenCounter_WriteByte() and entries for it to to
	  ioMemTables for STe (From Thomas, not me)

2005-07-30 11:19  Eero Tamminen

	* src/: video.c, includes/video.h: video.[ch]: Add support for for
	  STe hardware scrolling registers: - Writing Video Base address
	  low byte (checked in VBL) - Writing Line-Offset and Video Base
	  Address Pixel Offset registers   (ScanLineWidth & HWScrollCount,
	  checked in HBL)

2005-07-30 11:07  Eero Tamminen

	* src/: screen.c, screenConvert.c, spec512.c, video.c,
	  includes/screen.h: Add STe palette support to Hatari: - Add STe
	  palette masking to:	- video.c:Video_ColorReg_WriteWord() -
	  Remove ST color value masking from:	-
	  screenConvert.c:AdjustLinePaletteRemap()   - spec512.c   I'm
	  assuming it's enough to do masking in video.c - In screen.[hc]:
	  - Increase ST2RGB table size to STe palette size   -
	  Screen_SetupRGBTable() handles now also STe palette bits   -
	  Screen_CreatePalette() handles now also STe palette bits

2005-07-30 10:44  Eero Tamminen

	* Makefile.cnf, src/memorySnapShot.c, src/gui-sdl/Makefile,
	  src/includes/memorySnapShot.h: - add more warnings in CFLAGS	 -
	  disable them for gui-sdl/* - Add more consts to
	  memorySnapShot.[ch]

2005-07-26 10:41  Thomas Huth

	* src/ioMemTables.c: Changed joypad interception functions so that
	  Dynabusters+ can now be started.

2005-07-20 11:30  Thomas Huth

	* src/gemdos.c: Added Fattrib() GEMDOS call.

2005-07-15 21:30  Thomas Huth

	* src/: fdc.c, gemdos.c, m68000.c, screen.c, spec512.c, stMemory.c,
	  vdi.c, video.c, xbios.c, ymFormat.c, includes/fdc.h,
	  includes/m68000.h, includes/screen.h, includes/spec512.h,
	  includes/stMemory.h, includes/vdi.h, includes/video.h: Changed
	  some variable types to more sane ones (e.g. unsigned long to
	  Uint32).

2005-06-07 17:10  Matthias Arndt

	* doc/: manual.html, images/devices.png, images/discs.png,
	  images/fileselector.png, images/joystick.png,
	  images/keyboard.png, images/main.png, images/memory.png,
	  images/screen.png, images/sound.png, images/system.png,
	  images/tos.png: added some explanatory pictures of the GUI to the
	  manual

2005-06-07 00:29  Thomas Huth

	* src/: floppy.c, includes/floppy.h: Some cosmetic changes.

2004-06-05 : *** Version 0.70 ***

2005-06-05 19:36  Thomas Huth

	* readme.txt: Changes for version 0.70.

2005-06-05 19:29  Thomas Huth

	* gpl.txt, doc/manual.html, src/gui-sdl/dlgAlert.c: Update FSF
	  postal address.

2005-06-05 19:01  Thomas Huth

	* configure.ac, doc/manual.html, doc/release-notes.txt,
	  src/memorySnapShot.c, src/includes/main.h: Changes for version
	  0.70.

2005-06-05 16:56  Thomas Huth

	* src/shortcut.c: Added additional shortcut keys for options dialog
	  and fullscreen (for systems which do not have F11 and F12)

2005-06-05 16:19  Thomas Huth

	* src/: cfgopts.c, configuration.c, createBlankImage.c, floppy.c,
	  log.c, main.c, memorySnapShot.c, screenSnapShot.c, sound.c,
	  tos.c, wavFormat.c, ymFormat.c, includes/cfgopts.h,
	  includes/configuration.h, includes/log.h, includes/main.h,
	  uae-cpu/newcpu.c: Improved the logging functions.

2005-06-01 15:44  Thomas Huth

	* src/: createBlankImage.c, file.c, includes/file.h: Fixed some
	  compiler warnings when building Hatari on Solaris 8.

2005-05-11 10:09  Thomas Huth

	* src/dialog.c: Hatari does not temporarily leave the fullscreen
	  mode anymore when the user changes the display mode options.

2005-04-14 15:22  Thomas Huth

	* src/gemdos.c: Removed unnecessary debugging code.

2005-04-07 12:15  Thomas Huth

	* src/: fdc.c, gemdos.c, printer.c, wavFormat.c, includes/fdc.h:
	  Sourcecode beautification.

2005-04-05 16:41  Thomas Huth

	* src/: Makefile, audio.c, bios.c, debug.c, dialog.c, errlog.c,
	  fdc.c, floppy.c, gemdos.c, hdc.c, ikbd.c, int.c, ioMem.c, joy.c,
	  keymap.c, log.c, m68000.c, main.c, memorySnapShot.c, mfp.c,
	  printer.c, rs232.c, sound.c, tos.c, video.c, xbios.c, zip.c,
	  includes/debug.h, includes/errlog.h, includes/log.h,
	  includes/main.h: Replaced the obsolete errlog.c and debug.c by
	  the new log.c.

2005-04-05 16:20  Thomas Huth

	* src/gui-sdl/dlgMain.c: Added the new additional parameter for
	  Configuration_Load.

2005-04-04 17:27  Thomas Huth

	* src/: file.c, includes/file.h: Cleaned up: Changed some "char *"
	  to "const char *" and removed the unused File_Delete() function.

2005-04-04 17:26  Thomas Huth

	* Makefile.cnf, Makefile.cnf.in, src/Makefile, src/configuration.c,
	  src/main.c, src/includes/configuration.h: Hatari can now also
	  load a global configuration file (e.g. /etc/hatari.cfg).

2005-04-04 13:38  Thomas Huth

	* src/gemdos.c: Some code cleaned up. Added READ-ONLY bit to
	  GemDOS_ConvertAttribute().

2005-04-01 13:14  Thomas Huth

	* src/: audio.c, bios.c, blitter.c, cfgopts.c, configuration.c,
	  gemdos.c: Sourcecode beautification (indentation with tabs
	  instead of spaces etc.).

2005-03-17 10:01  Thomas Huth

	* src/: cartData.c, cart_asm.s: The pexec code in the cartridge now
	  works with 68010 - 68040 CPUs, too.

2005-03-15 11:23  Thomas Huth

	* src/ioMem.c: Added some boundary checks to avoid crashes when a
	  program does a 'move.l $fffffe,d0' for example. Thanks to Eero for
	  the hint.

2005-03-14 14:08  Thomas Huth

	* src/gemdos.c: Fixed some memory leaks in the Gemdos drive
	  emulation functions (thanks to Eero Tamminen for the patch!).

2005-03-11 11:10  Thomas Huth

	* src/: gemdos.c, msa.c, includes/ioMem.h, includes/stMemory.h,
	  uae-cpu/maccess.h, uae-cpu/memory.c, uae-cpu/newcpu.h: Fixed some
	  GCC compiler warnings on certain architectures when compiling
	  with the -Wcast-align parameter.

2005-03-10 10:45  Thomas Huth

	* src/file.c: Corrected a typo

2005-03-10 10:41  Thomas Huth

	* src/: file.c, floppy.c: Now using malloc instead of local arrays
	  to avoid possible buffer overflows.

2005-03-09 23:54  Thomas Huth

	* src/: video.c, includes/video.h: Cleaned up the variables of
	  video.c (removed unused, declared some as static, fixed types)
	  and added support for the video address low byte in STE mode.

2005-03-08 00:44  Thomas Huth

	* src/unzip.c: Fixed GCC compiler warnings for compiling with
	  -Wstrict-prototypes.

2005-03-08 00:15  Thomas Huth

	* Makefile.cnf, src/cfgopts.c, src/configuration.c, src/errlog.c,
	  src/file.c, src/floppy.c, src/gemdos.c, src/ikbd.c, src/ioMem.c,
	  src/main.c, src/memorySnapShot.c, src/mfp.c, src/screen.c,
	  src/spec512.c, src/tos.c, src/ymFormat.c,
	  src/gui-sdl/dlgFileSelect.c, src/gui-sdl/sdlgui.c,
	  src/includes/cfgopts.h, src/includes/errlog.h,
	  src/includes/file.h, src/includes/floppy.h,
	  src/includes/gemdos.h, src/includes/ikbd.h, src/includes/main.h,
	  src/includes/tos.h, src/includes/video.h,
	  src/includes/ymFormat.h, src/uae-cpu/Makefile,
	  src/uae-cpu/newcpu.c, src/uae-cpu/readcpu.c: Another Hatari code
	  cleanup patch from Eero Tamminen: It makes more things that can
	  be static, into static.  It makes more things that can be const,
	  into const.  It removes some unused variables and declaration.
	  It fixes a couple of prototypes.  It fixes a couple of signed vs.
	  unsigned comparisons.  And it renames some local variables that
	  shadow global variables.

2005-02-28 09:47  Matthias Arndt

	* doc/manual.html: documented most recent options like optional
	  writeprotection for disk images and the updated System dialogue

2005-02-25 14:56  Thomas Huth

	* src/: spec512.c, includes/main.h: Cleaned up a little bit.

2005-02-25 14:28  Thomas Huth

	* src/: configuration.c, fdc.c, floppy.c, gui-sdl/dlgDisc.c,
	  includes/configuration.h, includes/floppy.h: The user can now
	  choose wether a floppy disk image should be write protected or
	  not.

2005-02-25 10:17  Thomas Huth

	* src/gui-sdl/dlgSystem.c: Added STE mode warning.

2005-02-24 21:26  Thomas Huth

	* src/: configuration.c, file.c, main.c, gui-sdl/dlgDisc.c,
	  gui-sdl/dlgFileSelect.c, gui-sdl/dlgRom.c, includes/file.h: Added
	  some safety checks to avoid problems with invalid paths.

2005-02-24 18:16  Thomas Huth

	* doc/authors.txt, src/includes/stMemory.h, src/gemdos.c,
	  src/tos.c, src/sound.c: Patches for compiling Hatari on a 64-bit
	  Alpha machine (thanks to "Jo" for the patches!).

2005-02-13 17:18  Thomas Huth

	* src/: Makefile, audio.c, configuration.c, dim.c, file.c,
	  gemdos.c, int.c, keymap.c, main.c, memAlloc.c, misc.c, msa.c,
	  screen.c, screenSnapShot.c, shortcut.c, sound.c, tos.c, vdi.c,
	  video.c, ymFormat.c, zip.c, gui-sdl/dlgDevice.c,
	  gui-sdl/dlgDisc.c, gui-sdl/dlgKeyboard.c, gui-sdl/dlgMemory.c,
	  gui-sdl/dlgNewDisc.c, gui-sdl/dlgSound.c, includes/main.h,
	  includes/memAlloc.h, includes/misc.h: Code cleanup: Removed some
	  unused and some redundant functions (especially from memAlloc.c)

2005-02-13 00:11  Thomas Huth

	* src/: includes/sdlgui.h, gui-sdl/dlgAbout.c, gui-sdl/dlgAlert.c,
	  gui-sdl/dlgDevice.c, gui-sdl/dlgDisc.c, gui-sdl/dlgFileSelect.c,
	  gui-sdl/dlgJoystick.c, gui-sdl/dlgKeyboard.c, gui-sdl/dlgMain.c,
	  gui-sdl/dlgMemory.c, gui-sdl/dlgNewDisc.c, gui-sdl/dlgRom.c,
	  gui-sdl/dlgScreen.c, gui-sdl/dlgSound.c, gui-sdl/dlgSystem.c,
	  gui-sdl/sdlgui.c: It is now possible to scroll the file list in
	  the file selection dialog with the mouse wheel and with the
	  cursor keys.

2005-02-12 18:04  Thomas Huth

	* src/: configuration.c, m68000.c, gui-sdl/dlgSystem.c,
	  includes/configuration.h, includes/m68000.h: Added support for 16
	  and 32 MHz CPU clock.

2005-02-12 17:15  Thomas Huth

	* src/gui-sdl/sdlgui.c: Fixed a small bug - now checking for valid
	  object number before accessing the dialog object flags.

2005-02-11 20:57  Thomas Huth

	* src/blitter.c: Changed the blitter behaviour: Bitblits are now
	  executed immediately when a program writes to .

2005-02-11 00:01  Thomas Huth

	* src/gemdos.c: A small patch to Fsfirst: Now we only return the
	  volume name if the program does not search for other file types,
	  too. This fixes a problem with the game Mortar.

2005-02-10 01:11  Thomas Huth

	* src/: configuration.c, dialog.c, ioMem.c, ioMemTables.c, main.c,
	  tos.c, gui-sdl/dlgSystem.c, includes/configuration.h,
	  includes/ioMem.h, includes/ioMemTables.h: Added basic STE support
	  (just enough to run TOS 1.06 and 1.62) and improved the "System"
	  setup dialog.

2005-02-02 22:53  Thomas Huth

	* src/: fdc.c, ioMem.c, ioMemTables.c, m68000.c, includes/ioMem.h,
	  includes/m68000.h, uae-cpu/newcpu.c: Added "void IO memory"
	  handler and renamed some variables.

2005-01-31 23:15  Thomas Huth

	* src/: ioMemTables.c, Makefile, fdc.c, ioMem.c, includes/ioMem.h,
	  includes/ioMemTables.h: Moved IO memory handler table to a
	  separate file, improved its accuracy and split it into two
	  tables, one for plain ST and one for Mega-ST (with blitter and
	  RTC enabled).

2005-01-29 23:42  Thomas Huth

	* src/: ioMem.c, includes/ioMem.h: Rewrote the IO memory access
	  function logic. Now it is possible to correctly emulate the
	  addresses in the IO memory region that cause a bus error only in
	  certain circumstances (e.g. access to 0xff8202). And the code is
	  now a little bit less confusing, I hope ;-)

2005-01-19 00:32  Thomas Huth

	* src/: Makefile, blitter.c, configuration.c, debugui.c, dialog.c,
	  fdc.c, ikbd.c, intercept.c, ioMem.c, m68000.c, main.c,
	  memorySnapShot.c, mfp.c, midi.c, psg.c, video.c,
	  includes/blitter.h, includes/fdc.h, includes/ikbd.h,
	  includes/intercept.h, includes/ioMem.h, includes/m68000.h,
	  includes/main.h, includes/mfp.h, includes/midi.h, includes/psg.h,
	  includes/video.h, uae-cpu/memory.c: Cleaned up IO hardware
	  register emulation: Moved functions from intercept.c to other
	  files, especially the new file ioMem.c.Rewrote some functions and
	  got rid of unused old code.

2005-01-09 10:55  Thomas Huth

	* src/: cart.c, cartData.c, cart_asm.s, hatari.x32,
	  includes/cart.h: Added a cartridge program that shows some
	  information about the keyboard shortcuts.

2005-01-04 17:12  Thomas Huth

	* src/floppy.c: Added some checks for illegal sector numbers to
	  avoid crashes (thanks to Eero Tamminen for the hint).

2004-12-27 01:03  Thomas Huth

	* src/: includes/screen.h, includes/screenDraw.h, screen.c, vdi.c:
	  More clean up in screen.c - finally got completely rid of the
	  obsolete screenDraw.h

2004-12-26 20:22  Thomas Huth

	* src/: screen.c, includes/screen.h, includes/screenDraw.h: Rewrote
	  the Screen_SetConvertDetails() function

2004-12-19 : *** Version 0.60 ***

2004-12-19 14:46  Thomas Huth

	* configure.ac, readme.txt, doc/manual.html, doc/release-notes.txt,
	src/cart.c, src/includes/main.h: Changes for version 0.60

2004-12-19 11:59  Thomas Huth

	* Makefile: Added DESTDIR for 'make install'

2004-12-18 18:28  Matthias Arndt

	* doc/manual.html: added cartridge documentation and altered video
	dialog to the manual

2004-12-14 22:29  Thomas Huth

	* doc/hatari.1: Added --cartridge and --window options in the man
	file.

2004-12-09 22:06  Thomas Huth

	* src/: cart.c, main.c, tos.c, gui-sdl/dlgRom.c: Added the
	possibility to load an alternative cartridge image file.

2004-12-08 11:27  Thomas Huth

	* src/: cart.c, cart_asm.s, cartimg.c, gemdos.c, tos.c,
	includes/cart.h, includes/main.h, uae-cpu/hatari-glue.c,
	uae-cpu/hatari-glue.h, uae-cpu/newcpu.c: Improved, fixed and
	cleaned up the cartridge code.

2004-12-06 00:30  Thomas Huth

	* src/: Makefile, configuration.c, dialog.c, main.c, screen.c,
	tos.c, gui-sdl/Makefile, gui-sdl/dlgMain.c, gui-sdl/dlgRom.c,
	gui-sdl/dlgScreen.c, gui-sdl/dlgTosGem.c, includes/configuration.h,
	includes/dialog.h, includes/main.h, includes/screen.h: Cleaned up
	the screen options: Moved VDI resolution setup to the "Screen"
	dialog and renamed the "interlaced mode" to "interleaved mode".

2004-12-03 21:42  Thomas Huth

	* src/: main.c, reset.c, screen.c, gui-sdl/dlgMain.c,
	includes/main.h: PC mouse pointer is now better in sync with the ST
	mouse pointer.

2004-12-01 00:05  Thomas Huth

	* src/: screen.c, includes/screen.h, includes/screenDraw.h: Started
	to clean up the screen resolution setup code mess.

2004-11-14 17:47  Matthias Arndt

	* doc/manual.html: added --windowed option to manual

2004-11-14 03:34  Thomas Huth

	* src/: ikbd.c, main.c, screen.c, includes/main.h: First mouse
	movement is now ignored to avoid problems with certain ST programs
	(e.g. Serenade disk 54). ikbd.c is now independent from
	bInitGemDOS.

2004-10-31 18:32  Thomas Huth

	* Makefile.cnf.in, src/Makefile, src/file.c, src/int.c, src/main.c,
	src/memorySnapShot.c, src/reset.c, src/gui-sdl/Makefile,
	src/gui-sdl/dlgAbout.c, src/gui-sdl/dlgAlert.c,
	src/includes/dialog.h, src/includes/int.h, src/includes/main.h,
	src/includes/sdlgui.h: Added alert box to the GUI (based on code
	taken from ARAnyM - cheers!) and cleaned up some files (e.g.
	removed obsolete USE_DEBUGGER code lines)

2004-10-01 10:49  Thomas Huth

	* src/: file.c, includes/file.h: Cleaned up the scandir() function
	a little bit.

2004-09-24 18:06  Thomas Huth

	* src/configuration.c: Added missing #include "audio.h"

2004-09-24 14:55  Thomas Huth

	* src/: configuration.c, dialog.c, main.c, screen.c,
	includes/configuration.h, includes/dialog.h, includes/screen.h:
	Cleaned up configuration options. Window/fullscreen mode is now
	correctly initialized from the configuration file. Added --window
	command line option to force a start in window mode. (Thanks to wwp
	for the hint)

2004-09-24 13:19  Thomas Huth

	* src/audio.c: Fixed a bug in the initialization phase of the sound
	subsystem that caused the sound init to fail when the user
	specified another sound rate than 22050 in the configuration file
	(thanks to wwp for the patch).

2004-08-11 16:41  Matthias Arndt

	* doc/manual.html: sorted Appendix C into 3 sections: games, demos
	and applications, some cleanup

2004-08-03 23:18  Thomas Huth

	* src/rs232.c: BeOS seems to lack cfmakeraw(), so we use our own
	cfmakeraw() now there, too

2004-07-26 23:32  Thomas Huth

	* doc/release-notes.txt: Adjusted release date.

2004-07-26 23:32  Thomas Huth

	* src/rs232.c: Added correct type cast for system where speed_t is
	a typedef to unsigned int.

2004-07-26 : *** Version 0.50 ***

2004-07-26 14:12  Thomas Huth

	* src/rs232.c: Fixed a little typing error.

2004-07-26 13:39  Thomas Huth

	* src/rs232.c: Added a cfmakeraw() function for Solaris.

2004-07-25 15:50  Thomas Huth

	* doc/authors.txt, src/intercept.c, src/rs232.c, src/xbios.c,
	src/includes/rs232.h: RS232 baud rate is now set up directly from
	the ST hardware registers, so there is no more need to patch the
	XBIOS to read the values from Rsconf().

2004-07-23 10:41  Thomas Huth

	* src/: file.c, includes/file.h: Enabled scandir() and alphasort()
	for Solaris so that Hatari now also compiles on this OS.

2004-07-20 16:46  Thomas Huth

	* doc/: hatari.1, manual.html, release-notes.txt: Updated the
	documentation files.

2004-07-16 22:06  Thomas Huth

	* src/gui-sdl/: font10x16.bmp, font10x16.h: Added missing "="
	character.

2004-07-15 22:33  Thomas Huth

	* src/rs232.c: Added semaphore to sync free space in input buffer.

2004-07-13 19:29  Thomas Huth

	* src/unzip.c: zlib.h is now included in a correct way.

2004-07-13 18:38  Thomas Huth

	* readme.txt, src/includes/main.h: Increased version number to 0.50

2004-07-13 18:33  Thomas Huth

	* src/screen.c: Disabled double buffering because the GUI is not
	yet ready for it.

2004-07-08 10:52  Matthias Arndt

	* doc/manual.html: fixed some manual glitches

2004-07-08 10:50  Matthias Arndt

	* doc/manual.html: documented serial support in the manual

2004-07-06 22:14  Thomas Huth

	* src/: rs232.c, xbios.c, includes/rs232.h: Fixed RS232 emulation
	and added termios code for setting the device parameters.

2004-07-05 22:06  Thomas Huth

	* src/: configuration.c, dialog.c, main.c, rs232.c,
	gui-sdl/dlgDevice.c, includes/configuration.h, includes/rs232.h:
	The RS232 settings can now be configured in the GUI.

2004-07-05 19:23  Thomas Huth

	* doc/authors.txt: Added new contributors.

2004-07-05 18:53  Thomas Huth

	* src/cfgopts.c: Improved the configuration saving function: New
	configuration options / options that are not yet listed in the
	config file are now correctly saved, too

2004-07-05 17:38  Thomas Huth

	* src/gui-sdl/dlgDisc.c: Added buttons to eject the floppies and
	the hard disc image.

2004-07-01 22:56  Thomas Huth

	* src/: fdc.c, main.c, includes/configuration.h: Added option
	--slowfdc to slow down the FDC emulation for certain games/demos.

2004-07-01 22:54  Thomas Huth

	* src/floppy.c: Added a check if the track that should be
	read/written is still on the disk image, so that Hatari does not
	crash anymore with misbehaving ST programs.

2004-06-24 21:29  Thomas Huth

	* src/floppy.c: Cleaned up Floppy_FindDiscDetails() so that it
	should now also work on CPUs that do not support unaligned memory
	access.

2004-06-24 16:52  Thomas Huth

	* src/: main.c, includes/audio.h, audio.c, dialog.c, shortcut.c:
	Enabling/disabling the sound should now work as expected.

2004-06-18 20:07  Thomas Huth

	* src/gui-sdl/sdlgui.c: Saving the background graphics before
	displaying a dialog now also works with 8 BPP screen surfaces.

2004-06-17 15:00  Matthias Arndt

	* doc/manual.html: Manual: fixed some typing bugs, added URL,
	general cleanup

2004-06-15 23:49  Thomas Huth

	* src/dim.c: Added support for writing DIM images (but it is still
	disabled by default).

2004-06-11 14:48  Thomas Huth

	* src/gui-sdl/: dlgDevice.c, dlgKeyboard.c, dlgMain.c, dlgMemory.c,
	dlgScreen.c, dlgTosGem.c, sdlgui.c: SDLGui_DoDialog() now saves and
	restores the background graphics, so calling Screen_SetFullUpdate()
	and Screen_Draw() in the dialogs is no longer necessary. This fixes
	an ugly redrawing bug that appeared when loading memory snap shots
	from a different screen resolution.

2004-06-11 12:04  Thomas Huth

	* src/: dialog.c, m68000.c, main.c, mfp.c, shortcut.c, video.c,
	includes/m68000.h, uae-cpu/Makefile, uae-cpu/events.h,
	uae-cpu/newcpu.c, uae-cpu/newcpu.h: Some speed optimization: Now
	using regs.spcflags in a better way (for MFP interrupts and for
	quitting the emulator).

2004-05-25 13:36  Matthias Arndt

	* doc/manual.html: slight corrections to the manual including
	project credits

2004-05-05 11:23  Thomas Huth

	* Makefile.cnf, Makefile.cnf.in, configure.ac, src/Makefile,
	src/uae-cpu/Makefile: Added some more configuration variables to
	the build files to improve the compilation process (especially
	cross compilation).

2004-05-03 17:34  Thomas Huth

	* src/zip.c: Changed a variable from signed to unsigned type
	(Thanks to Eero for the patch).

2004-04-30 21:23  Thomas Huth

	* src/createBlankImage.c: Added #include dim.h

2004-04-28 11:04  Thomas Huth

	* src/: Makefile, createBlankImage.c, dim.c, file.c, floppy.c,
	main.c, msa.c, st.c, zip.c, gui-sdl/dlgFileSelect.c,
	includes/dim.h, includes/file.h, includes/floppy.h,
	includes/main.h, includes/msa.h, includes/st.h, includes/zip.h: 1)
	Hatari now supports reading of .DIM disk images.  2) Buffers for
	the disk images are now allocated dynamically, it is now save	 to
	use disk images with a size greater than 1.5MB.  3) Reading and
	writing of GZipped files is now supported in the basic	  functions
	in file.c ==> The emulator can now save to GZipped MSA disk images,
	   too.

2004-04-24 13:25  Thomas Huth

	* doc/hatari.1: Added man-page for Hatari written by Marco Herrn
	(Thanks!).

2004-04-24 09:55  Thomas Huth

	* src/uae-cpu/maccess.h: Fixed a stupid typo.

2004-04-24 09:53  Thomas Huth

	* src/uae-cpu/Makefile: Fixed a cross-compiling problem: HOSTCC
	must not use the cross compilers CFLAGS!

2004-04-23 17:33  Thomas Huth

	* src/: bios.c, cart.c, debugui.c, fdc.c, gemdos.c, hdc.c, ikbd.c,
	int.c, intercept.c, m68000.c, main.c, mfp.c, reset.c, rs232.c,
	rtc.c, sound.c, spec512.c, stMemory.c, tos.c, vdi.c, video.c,
	xbios.c, includes/decode.h, includes/intercept.h,
	includes/m68000.h, includes/main.h, includes/stMemory.h,
	uae-cpu/events.h, uae-cpu/memory.c, uae-cpu/newcpu.c: Removed
	obsolete header file decode.h (Thanks to Eero for the patch). Fixed
	a bug with double bus errors that caused a crash of the emulator.

2004-04-22 10:40  Thomas Huth

	* src/uae-cpu/maccess.h: Moved byte access functions to the end of
	the file because they are the same in all cases. (Thanks to Eero
	for the patch)

2004-04-20 18:53  Thomas Huth

	* src/uae-cpu/: maccess-non-aligned.h, maccess-big.h,
	maccess-i86.h, maccess.h, memory.h: Cleaned up the memory access
	functions.

2004-04-20 15:58  Thomas Huth

	* Makefile.cnf, configure.ac: Adjusted CFLAGS.

2004-04-19 10:53  Thomas Huth

	* Makefile.cnf, src/audio.c, src/bios.c, src/blitter.c,
	src/cfgopts.c, src/configuration.c, src/createBlankImage.c,
	src/debug.c, src/debugui.c, src/dialog.c, src/errlog.c, src/fdc.c,
	src/file.c, src/floppy.c, src/gemdos.c, src/hdc.c, src/ikbd.c,
	src/int.c, src/intercept.c, src/joy.c, src/keymap.c, src/main.c,
	src/memorySnapShot.c, src/mfp.c, src/midi.c, src/misc.c, src/msa.c,
	src/printer.c, src/reset.c, src/rtc.c, src/screen.c,
	src/screenConvert.c, src/screenSnapShot.c, src/shortcut.c,
	src/sound.c, src/st.c, src/stMemory.c, src/tos.c, src/unzip.c,
	src/vdi.c, src/video.c, src/wavFormat.c, src/xbios.c, src/zip.c,
	src/gui-sdl/dlgAbout.c, src/gui-sdl/dlgDisc.c,
	src/gui-sdl/dlgJoystick.c, src/gui-sdl/dlgMain.c,
	src/gui-sdl/dlgScreen.c, src/gui-sdl/sdlgui.c,
	src/includes/cfgopts.h, src/includes/createBlankImage.h,
	src/includes/debugui.h, src/includes/fdc.h, src/includes/file.h,
	src/includes/gemdos.h, src/includes/hdc.h,
	src/includes/screenConvert.h, src/includes/screenSnapShot.h,
	src/includes/sdlgui.h, src/includes/sound.h,
	src/includes/stMemory.h, src/uae-cpu/Makefile,
	src/uae-cpu/build68k.c, src/uae-cpu/fpp.c, src/uae-cpu/gencpu.c,
	src/uae-cpu/hatari-glue.c, src/uae-cpu/maccess-non-aligned.h,
	src/uae-cpu/maccess.h, src/uae-cpu/newcpu.c, src/uae-cpu/readcpu.c:
	General source code improvements: Declared a lot of functions and
	variables as static that are only used in one file.  Functions
	without parameters now use correct ANSI prototypes.  Added
	accelerated memory access functions for systems that can do
	non-aligned memory access.  (Thanks to Eero Tamminen for the huge
	patch!)

2004-04-15 00:36  Thomas Huth

	* src/: gemdos.c, intercept.c, main.c, msa.c, stMemory.c, tos.c,
	video.c, includes/decode.h, includes/main.h, includes/stMemory.h,
	uae-cpu/maccess-big.h, uae-cpu/maccess-i86.h, uae-cpu/maccess.h,
	uae-cpu/memory.c, uae-cpu/memory.h: Made a lot of functions static
	(Thanks to Eero Tamminen for the patch).  The memory access
	functions from stMemory.c have been made "static inline" for better
	performance.  The STMemory_Swap68000* functions have been replaced
	by the SDL_SwapBE* functions.  Removed some old code from the
	maccess*.h files.

2004-04-07 12:24  Thomas Huth

	* src/: screen.c, includes/screen.h: Fixed SDL screen flipping in
	full screen mode (e.g. for Mac OS X). And the mouse pointer is now
	initially warped to the middle of the screen.

2004-04-06 18:20  Thomas Huth

	* src/: configuration.c, main.c, includes/configuration.h: Added a
	command line option to load an alternative configuration file.

2004-04-06 18:16  Thomas Huth

	* src/createBlankImage.c: Fixed disc creation function so that it
	now creates MS-DOS compatible disc images.

2004-04-06 12:38  Thomas Huth

	* src/gui-sdl/dlgFileSelect.c: Cleaned up the file selector code
	and enlarged the dialog window.

2004-04-05 20:52  Thomas Huth

	* Makefile: Replaced the old 8x8 font by two new fonts (5x8 and
	10x16). The fonts are now also compiled into the executable (thanks
	to Martin Doering and the Aranym developers for that code).

2004-04-05 20:49  Thomas Huth

	* src/: font8.bmp, gui-sdl/Makefile, gui-sdl/dlgAbout.c,
	gui-sdl/font10x16.bmp, gui-sdl/font10x16.h, gui-sdl/font5x8.bmp,
	gui-sdl/font5x8.h, gui-sdl/sdlgui.c, includes/sdlgui.h: Replaced
	the old 8x8 font by two new fonts (5x8 and 10x16). The fonts are
	now also compiled into the executable (thanks to Martin Doering and
	the Aranym developers for that code).

2004-04-02 21:57  Thomas Huth

	* src/fdc.c: Increased the motor slowing down count so that TOXIS
	(the virus killer program) is now working with Hatari, too.

2004-03-26 10:45  Matthias Arndt

	* doc/manual.html: added documentation of the Timer-D patch to the
	manual

2004-03-25 11:32  Matthias Arndt

	* doc/manual.html: updated the manual to include documentation for
	the disk image creation

2004-03-01 14:57  Thomas Huth

	* src/: configuration.c, intercept.c, mfp.c, gui-sdl/dlgSystem.c,
	includes/configuration.h, includes/main.h, includes/mfp.h,
	uae-cpu/hatari-glue.c: Improved Timer-D handling: - Timer-D is now
	patched correctly (Dragons Breath is working again).  - The Timer-D
	patch can now be switched on or off in the GUI.  - Removed the
	unused code of the old Timer-D patch (Hatari version <= 0.30).

2004-02-29 20:01  Thomas Huth

	* src/uae-cpu/newcpu.c: Added some code to detect double bus
	errors.

2004-02-22 10:35  Thomas Huth

	* src/: ikbd.c, mfp.c, midi.c, includes/mfp.h: Fixed a little bug
	in mfp.c and renamed MFP_KEYBOARD_BIT to MFP_ACIA_BIT etc.

2004-02-21 20:51  Thomas Huth

	* src/: intercept.c, mfp.c, rs232.c, includes/mfp.h,
	includes/rs232.h: Improved RS232 emulation: Now the MFP hardware
	registers are intercepted to receive and to send the bytes of the
	serial line.

2004-02-21 14:24  Thomas Huth

	* src/keymap.c: Added some more shorcut key modifiers (Thanks to
	Tony Smolar for the hint about KMOD_RALT on US-keyboards).

2004-02-21 11:01  Thomas Huth

	* src/rs232.c: Improved RS232 emulation: Now using two file
	handles, one for input and one for output data transfer.

2004-02-19 16:22  Thomas Huth

	* src/: intercept.c, m68000.c, includes/m68000.h, uae-cpu/memory.c,
	uae-cpu/newcpu.c: Improved emulation of the special status word in
	the exception stack frames of bus and address errors and fixed a
	bug that caused an bus error when executing an illegal instruction
	in user mode.

2004-02-12 16:56  Thomas Huth

	* src/: main.c, printer.c: Added some security checks to avoid
	possible buffer overflows (Thanks to Steve Kemp for finding the
	problematical code lines).

2004-02-11 12:08  Thomas Huth

	* src/: sound.c, includes/sound.h: Declared some functions and
	variables as static for better compiler optimizations (Thanks to
	Eero Tamminen for his patch).

2004-02-10 12:49  Thomas Huth

	* src/: audio.c, sound.c, includes/audio.h: Speed improvement:
	Audio functions do not use float calculations any more (Thanks to
	Eero Tamminen for his patch).

2004-02-10 12:45  Thomas Huth

	* configure.ac: Added some more checks to configure.ac (Thanks to
	Patrice Mandin for his patch).

2004-02-05 16:06  Thomas Huth

	* src/: bios.c, fdc.c, floppy.c, includes/floppy.h: Replaced
	bFloppyChanged by EmulationDrives.bMediaChanged

2004-01-13 12:07  Thomas Huth

	* src/: zip.c, gui-sdl/dlgFileSelect.c, includes/zip.h: Fixed some
	small memory leaks.

2004-01-12 13:21  Thomas Huth

	* src/: main.c, rs232.c, includes/rs232.h: The RS232 code has been
	rewritten to use portable functions (SDL threads and file functions
	from stdio.h).

2003-12-29 21:10  Thomas Huth

	* src/: Makefile, gui-sdl/Makefile, gui-sdl/dlgDisc.c,
	gui-sdl/dlgNewDisc.c: Added a dialog for creating new (blank)
	floppy disc images.

2003-12-28 23:32  Thomas Huth

	* src/: intercept.c, m68000.c, includes/m68000.h, uae-cpu/newcpu.c,
	uae-cpu/newcpu.h: Added experimental wait state cycles emulation.

2003-12-25 19:45  Thomas Huth

	* src/: file.c, gui-sdl/dlgTosGem.c, includes/file.h: Added a
	function called File_MakeAbsoluteName to create absolute file names
	from relative file names (thanks to Martin Doering for the idea).

2003-12-25 15:19  Thomas Huth

	* src/: configuration.c, createBlankImage.c, errlog.c, file.c,
	floppy.c, main.c, memorySnapShot.c, screenSnapShot.c, vdi.c,
	gui-sdl/dlgDevice.c, gui-sdl/dlgDisc.c, gui-sdl/dlgFileSelect.c,
	gui-sdl/dlgKeyboard.c, gui-sdl/dlgMemory.c, gui-sdl/dlgSound.c,
	gui-sdl/dlgTosGem.c, includes/configuration.h, includes/floppy.h,
	includes/main.h: Replaced MAX_FILENAME_LENGTH by FILENAME_MAX
	(thanks to Martin Doering for the hint)

2003-11-05 19:20  Thomas Huth

	* src/main.c: Added the --frameskip option again (it had been
	removed by accident).

2003-10-30 18:36  Thomas Huth

	* Makefile: "make install" now also installs a tos.img if possible.

2003-10-30 : *** Version 0.45 ***

2003-10-30 17:03  Thomas Huth

	* doc/release-notes.txt: Added changes for version 0.45

2003-10-29 18:14  Matthias Arndt

	* doc/manual.html: manual: documentation for build system updated

2003-10-28 17:44  Matthias Arndt

	* doc/manual.html: * updated the manual

2003-10-25 14:26  Thomas Huth

	* src/: blitter.c, m68000.c, memorySnapShot.c, gui-sdl/dlgMemory.c,
	  includes/blitter.h, includes/main.h, uae-cpu/newcpu.c,
	  uae-cpu/newcpu.h: Improved the memory snap shot function.

2003-10-25 14:19  Thomas Huth

	* readme.txt: Removed some text that describes how to use the
	  emulator since this is now located in the manual.html

2003-10-23 17:27  Thomas Huth

	* doc/manual.html: Added new keyboard shortcuts.

2003-10-23 16:30  Matthias Arndt

	* src/printer.c: * cleaned up main comment block in printer.c

2003-10-18 09:46  Thomas Huth

	* src/: configuration.c, shortcut.c, sound.c, video.c, ymFormat.c,
	  includes/shortcut.h: Added more shortcuts and removed old code
	  from shortcut.c

2003-10-18 09:41  Thomas Huth

	* src/: createBlankImage.c, includes/createBlankImage.h: Started to
	  clean up the "Create Blank Disc image" function.

2003-10-18 09:38  Thomas Huth

	* src/printer.c: Removed a fixed FIXME comment about printer file
	  name.

2003-10-18 09:36  Thomas Huth

	* src/includes/main.h: Removed unused defines.

2003-10-18 09:31  Thomas Huth

	* src/debugui.c: The SR can now be set in the debugger.

2003-10-17 11:48  Matthias Arndt

	* src/psg.c: * corrected a few ugly typing bugs * better
	  readability of the remarks for the printer dispatcher

2003-10-11 22:59  Thomas Huth

	* ChangeLog: Removed old ChangeLog - use a tool like cvs2cl to
	  create an up-to-date ChangeLog file!

2003-10-11 22:14  Thomas Huth

	* src/floppy.c: Added a check for valid disc side -
	  Floppy_ReadSectors now reports an error when a program tries to
	  read from side 2 of a single sided disc.

2003-10-10 18:41  Thomas Huth

	* src/uae-cpu/: events.h, newcpu.c, newcpu.h: Removed two unused
	  variables (broken_in and lastInstructionCycles).

2003-10-09 21:48  Thomas Huth

	* authors.txt, doc/authors.txt: Updated authors.txt and moved the
	  file to the doc/ subdirectory

2003-10-07 22:57  Thomas Huth

	* src/: intercept.c, video.c, includes/syncTables.h,
	  includes/video.h: Border opening is not done with the
	  syncTables.h anymore, but with a more generic code so that some
	  demos now also correctly show graphics in the right and left
	  border

2003-10-07 12:47  Matthias Arndt

	* doc/manual.html: * completed features list in the manual * added
	  documentation of the printer emulation to the manual * added
	  documentation of the memory snapshots to the manual

2003-09-28 21:57  Thomas Huth

	* src/: dialog.c, m68000.c, memorySnapShot.c, video.c,
	  gui-sdl/dlgMemory.c, includes/m68000.h,
	  includes/memorySnapShot.h: Re-activated the memory snap shot
	  functions.

2003-09-28 21:50  Thomas Huth

	* src/: configuration.c, includes/configuration.h: Midi, Printer
	  and RS232 are now saved to the configuration file, too.

2003-09-27 21:28  Thomas Huth

	* src/: Makefile, createDiscImage.c, main.c, misc.c,
	  includes/createDiscImage.h, includes/main.h, includes/misc.h:
	  Cleaned up files: Removed unused functions and variables.

2003-09-26 20:08  Thomas Huth

	* src/: bios.c, xbios.c, uae-cpu/newcpu.c: Updated BIOS and XBIOS
	  interception code.

2003-09-02 23:56  Thomas Huth

	* src/: main.c, uae-cpu/hatari-glue.c: Hatari now correctly
	  de-initialized the UAE CPU core.

2003-09-02 23:54  Thomas Huth

	* src/: gui-sdl/dlgDisc.c, zip.c: Fixed a problem that sometimes
	  caused a crash when browsing ZIPed disk images.

2003-08-15 18:09  Thomas Huth

	* src/: intercept.c, main.c, midi.c, includes/configuration.h,
	  includes/midi.h: Added initial midi emulation.

2003-08-12 16:44  Thomas Huth

	* src/: printer.c, gui-sdl/dlgDevice.c: The file name for printer
	  emulation can now be selected with the GUI.

2003-08-11 21:37  Thomas Huth

	* src/: configuration.c, ymFormat.c, gui-sdl/dlgDisc.c,
	  gui-sdl/dlgFileSelect.c, gui-sdl/dlgKeyboard.c,
	  gui-sdl/dlgSound.c, gui-sdl/dlgTosGem.c, gui-sdl/sdlgui.c,
	  includes/sdlgui.h: Added editable text fields to the SDL-GUI. It
	  is now also possible to select a destination file name for the
	  sound grabbing in the sound setup dialog

2003-08-10 19:08  Matthias Arndt

	* src/printer.c: corrected stupid string bug in printer.c, $HOME no
	  longer gets overwritten

2003-08-10 16:44  Thomas Huth

	* src/gui-sdl/.cvsignore: Added cvsignore file in the gui-sdl/
	  directory

2003-08-10 10:09  Matthias Arndt

	* doc/manual.html, src/gemdos.c, src/main.c, src/printer.c,
	  src/psg.c:
	  * fixed bit bug in psg.c - STROBE bit detection used wrong bit *
	  reenabled printer handling in gemdos.c * added commandline option
	  --printer to activate (experimental) printer	 support * added
	  Hatari User's Manual to doc/

2003-08-09 17:54  Matthias Arndt

	* src/: printer.c, psg.c:
	  - rewrote printer interception in psg.c  (to solve the problem
	  "music playing results in printing characters") - simple
	  emulation of STROBE signal for printing

2003-08-09 16:00  Matthias Arndt

	* Makefile.cnf, src/printer.c: [no log message]

2003-08-09 15:58  Matthias Arndt

	* Makefile.cnf, src/keymap.c, src/mfp.c, src/printer.c, src/psg.c,
	  src/includes/printer.h:
	  - added simple printer support (printing to file) - added printer
	  hook to psg.c - added flag correction to mfp.c

	  Todo: Configuration for printing support (filename, enabled)

2003-08-06 18:17  Thomas Huth

	* src/msa.c: Fixed a bug in the MSA compression function that could
	  create corrupted MSA disk images in some rare cases.

2003-08-05 18:39  Thomas Huth

	* src/uae-cpu/build68k.c: Now including string.h - this fixes a
	  compiler warning with GCC 3.0

2003-08-05 18:37  Thomas Huth

	* src/includes/sdlgui.h: Moved some define from sdlgui.c to
	  sdlgui.h

2003-08-05 18:36  Thomas Huth

	* src/includes/screen.h: Added prototype for
	  Screen_DidResolutionChange()

2003-08-05 18:34  Thomas Huth

	* src/uae-cpu/cpuopti.c: Removed unused file cpuopti.c

2003-08-05 18:33  Thomas Huth

	* src/: dialog.c, sdlgui.c, gui-sdl/dlgFileSelect.c,
	  gui-sdl/sdlgui.c: Moved sdlgui.c to the src/gui-sdl/ folder and
	  created a new file for the file selection dialog.

2003-08-05 18:29  Thomas Huth

	* .cvsignore, Makefile, Makefile.cnf, Makefile.cnf.in,
	  configure.ac, src/gui-sdl/Makefile, src/Makefile,
	  src/uae-cpu/Makefile: Added new build system: Now there is a top
	  level makefile configuration file and a configure.ac to create a
	  configure script.

2003-08-04 21:37  Thomas Huth

	* src/gui-sdl/: dlgAbout.c, dlgDevice.c, dlgDisc.c, dlgJoystick.c,
	  dlgKeyboard.c, dlgMain.c, dlgMemory.c, dlgScreen.c, dlgSound.c,
	  dlgSystem.c, dlgTosGem.c: Separated the SDL GUI dialogs from
	  dialog.c and put each dialog in a new file.

2003-08-02 17:45  Thomas Huth

	* src/uae-cpu/: maccess-big.h, maccess.h: Added accelerated memory
	  access functions.

2003-07-30 00:25  Thomas Huth

	* ChangeLog: Fixed some typos

2003-07-29 14:01  Thomas Huth

	* src/: int.c, m68000.c, mfp.c, video.c, includes/int.h,
	  includes/m68000.h, uae-cpu/hatari-glue.c, uae-cpu/hatari-glue.h,
	  uae-cpu/newcpu.c: Changed M68000_Exception(), intlev() and
	  do_specialties() and some other interrupt related parts: Pending
	  interrupts are now handled in the UAE CPU core.

2003-07-28 18:42  Thomas Huth

	* src/uae-cpu/maccess-i86.h: Revived old accelerated maccess.h for
	  i86 computers.

2003-07-21 00:52  Thomas Huth

	* src/gemdos.c: emudrives[0]->fs_currpath is now correctly
	  initialized - this fixes a problem with HD emulation on EmuTOS.

2003-07-11 17:48  Thomas Huth

	* doc/release-notes.txt: Added release notes file

2003-07-11 : *** Version 0.40 ***

2003-07-04 14:40  Thomas Huth

	* src/uae-cpu/newcpu.c: Disabled MFP interrupt cycles again since
	they currently seem to make some things running worse.

2003-07-04 14:38  Thomas Huth

	* src/configuration.c: bFrameSkip is now saved to the configuration
	file, too.

2003-06-28 16:42  Thomas Huth

	* doc/keymap-sample.txt: Added keymap sample file.

2003-06-28 16:36  Thomas Huth

	* readme.txt: Added comment about how to use incompatible MSA disk
	images.

2003-06-28 16:32  Thomas Huth

	* src/video.c: Main_EventHandler is now called every 64th hbl event
	so that the mouse moves smoother in VDI resolutions again.

2003-06-28 16:29  Thomas Huth

	* src/keymap.c: Fixed a little bug: Switching back to symbolic
	keymapping mode from loaded keymapping mode did not work right.

2003-06-23 20:49  Thomas Huth

	* src/: fdc.c, floppy.c, includes/floppy.h: When the user changes a
	floppy disk image, the write-protection signal of the FDC is now
	raised for a short time since some programs use this behaviour to
	check for changed disks.

2003-06-22 22:20  Thomas Huth

	* src/main.c: Now booting from harddrive when using the -d
	parameter (Thanks to Sven for the patch)

2003-06-20 15:13  Thomas Huth

	* src/: cartimg.c, reset.c, includes/main.h, uae-cpu/hatari-glue.c,
	uae-cpu/hatari-glue.h, uae-cpu/newcpu.c: Now using a separate
	illegal opcode for system initialization (setting the connected
	drive mask etc.), so that warm resets are working right again.
	(Thanks to Matthias Arndt for the hint)

2003-06-17 21:37  Thomas Huth

	* src/gemdos.c: Fixed a problem with Fsfirst and Fsnext so that HD
	emulation is now working with EmuTOS, too.

2003-06-17 20:03  Thomas Huth

	* src/: screen.c, uae-cpu/newcpu.c: Fixed two bugs that appeared in
	the extended VDI resolution emulation

2003-06-15 21:15  Thomas Huth

	* src/includes/main.h: Updated version number to 0.40

2003-06-15 21:14  Thomas Huth

	* src/dialog.c: Cosmetic changes to the screen setup dialog.

2003-06-12 22:41  Thomas Huth

	* src/: sdlgui.c, zip.c: It is now also possible to select a ZIP
	file in the file selector without choosing a disk image in the ZIP
	package (the first ST or MSA file will be used then)

2003-06-10 18:45  Thomas Huth

	* src/vdi.c: GemDOS_CreateHardDriveFileName() needs backslash as
	path seperator instead of a normal slash while creating the
	filename for /DESKTOP.INF or /NEWDESK.INF

2003-06-09 20:20  Thomas Huth

	* readme.txt: Updated readme.txt to suit the current version of
	Hatari (-> version 0.40)

2003-06-09 18:11  Thomas Huth

	* src/screen.c: 8 bpp mode is now working in windowed mode, too

2003-06-08 19:12  Thomas Huth

	* src/: intercept.c, rtc.c, includes/intercept.h, includes/rtc.h:
	Real time clock now also works with TOS 1.02 and 1.04

2003-06-08 15:54  Thomas Huth

	* src/main.c: The order of --hdimage and --harddrive does not
	matter anymore and there is now also a command line parameter to
	specify the emulated RAM size.

2003-06-08 15:49  Thomas Huth

	* src/: configuration.c, gemdos.c, hdc.c, includes/configuration.h:
	Hard disc image and directory can now be saved in the configuration
	file, too

2003-06-07 19:36  Thomas Huth

	* authors.txt: Added contributors to the file authors.txt

2003-06-07 15:43  Thomas Huth

	* src/floppy.c: Floppy_ReadSectors() now correctly returns FALSE if
	something went wrong

2003-06-02 18:20  Thomas Huth

	* src/uae-cpu/newcpu.c: Mode-change specialflag won't be cleared
	during reset anymore so that you can now change the compatibility
	cpu mode and reset the cpu at the same time

2003-06-02 18:18  Thomas Huth

	* src/keymap.c: Added more symbolic key mapping values (e.g. the
	pipe character key)

2003-06-02 18:17  Thomas Huth

	* src/gemdos.c: Pexec(6) is only available on TOS >= 1.04

2003-06-01 22:04  Thomas Huth

	* src/: dialog.c, keymap.c: Enabled the possibility to load an
	alternative keyboard mapping from a file.

2003-06-01 18:23  Thomas Huth

	* src/uae-cpu/newcpu.c: Corrected MFP interrupt cycle timing.

2003-05-25 00:12  Thomas Huth

	* src/ikbd.c: In Lotus Turbo Esprit Challange and some other games,
	the second joystick was not working so that two player mode was not
	usable. This has been fixed now.

2003-05-05 19:53  Thomas Huth

	* src/sdlgui.c: ypos wasn't reset when entering a ZIP directory for
	browsing.

2003-04-29 18:17  Thomas Huth

	* src/: dialog.c, configuration.c, main.c: Added buttons to load
	and save the configuration file. It is now no longer saved
	automatically when you quit Hatari. The configuration file is now
	also stored in the users home directory when the HOME environment
	variable has been set.

2003-04-29 18:12  Thomas Huth

	* src/includes/main.h: Corrected comment about scan lines per VBL
	in 60Hz

2003-04-28 19:48  Thomas Huth

	* src/: configuration.c, dialog.c, m68000.c, mfp.c,
	includes/main.h, includes/mfp.h: Removed the high-speed-CPU code.
	It wasn't working very well and I currently don't have the time and
	motivation to fix it.  Support for CPU emulation with more than
	8MHz will probably be included again later.

2003-04-25 23:11  Thomas Huth

	* src/dialog.c: The memory for zip_path was sometimes freed twice
	what caused Hatari to crash or hang.

2003-04-16 14:49  Thomas Huth

	* src/video.c: Disabled setting of the screen refresh rate again
	since it was currently breaking the sound in monochrome mode

2003-04-12 18:31  Thomas Huth

	* src/: dialog.c, sdlgui.c, includes/sdlgui.h: Moved call to
	SDLGui_PrepareFont() back to dialog.c, where it belongs to. Also
	removed unused debugging function SDLGui_OverlayText().

2003-04-12 18:28  Thomas Huth

	* src/: audio.c, sound.c, includes/sound.h: Slightly improved the
	sound callback function. It now tries to correctly fill up the
	sound buffer when not enough samples have been created

2003-04-12 18:26  Thomas Huth

	* src/: main.c, video.c, includes/video.h: Now using SDL_GetTicks
	instead of a SDL timer to sync the emulator with the VBL since SDL
	timers are not working right on some systems (MiNT).

2003-04-12 18:23  Thomas Huth

	* src/m68000.c: CYCLES_PER_SEC are now set correctly to 8MHz timing
	again.

2003-04-12 13:29  Thomas Huth

	* src/zip.c: Fixed a little bug: ZIPped .ST disk images were not
	loadable from the command line. Thanks to Markus Oberhumer for the
	patch.

2003-04-08 13:38  Emmanuel Anne

	* src/: configuration.c, dialog.c, m68000.c, mfp.c,
	includes/main.h, includes/mfp.h:
	add a setting to choose the cpu speed (in the gui, and nMinMax in
	the configuration file).

2003-04-08 13:37  Emmanuel Anne

	* src/: main.c, sdlgui.c, includes/sdlgui.h:
	add SDLGui_OverlayText to be able to display some text on overlay
	over the current screen, and call sdlgui_init at the end of
	main_init to prepare the font here (usefull for the overlay)

2003-04-07 13:34  Thomas Huth

	* src/cfgopts.c: Improved the configuration file loading/saving:
	Included the function trim() to allow white spaces in the cfg file
	(taken from Aranym - cheers); the temporary file name is now
	created properly with tmpfile(); changed the C++ comments to plain
	ANSI-C comments.

2003-04-06 20:52  Thomas Huth

	* src/: .cvsignore, Makefile: Added 'make depend' target to the
	Makefile

2003-04-06 15:05  Emmanuel Anne

	* src/: cart_asm.s, cartimg.c:
	patch from Paul Bates (winston author) which fixes the bus error
	problem in the gfabasic when run from a gemdos hd drive.

2003-04-06 00:25  Thomas Huth

	* src/: m68000.c, memorySnapShot.c, misc.c, video.c,
	includes/decode.h, includes/m68000.h, uae-cpu/memory.c,
	uae-cpu/newcpu.c: Improved bus errors (M68000_BusError) and added
	exception cycles

2003-04-04 18:28  Thomas Huth

	* src/: Makefile, audio.c, cfgopts.c, configuration.c,
	createBlankImage.c, dialog.c, fdc.c, file.c, floppy.c, gemdos.c,
	hdc.c, keymap.c, main.c, screen.c, video.c, includes/cfgopts.h,
	includes/configuration.h, includes/dialog.h: Added ASCII
	configuration file and moved configuration structs from dialog.h to
	configuration.h (where they belong to).

2003-04-04 14:48  Emmanuel Anne

	* src/: m68000.c, uae-cpu/newcpu.c, uae-cpu/memory.c:
	new bus error handling : the exception must be called AFTER the
	memory handler so that the rte returns to the instruction AFTER the
	cause of the bus error (or debugers might enter infinite loops).

2003-04-03 23:16  Thomas Huth

	* src/uae-cpu/: hatari-glue.c, memory.c: Setting the connected
	drive mask is now done in Opcode_GemDos()

2003-04-03 23:14  Thomas Huth

	* src/uae-cpu/: newcpu.c, newcpu.h: Now using special flag
	SPCFLAG_BUSERROR for correction PC after bus error. This should
	speed up the emulation a little bit

2003-04-03 23:13  Emmanuel Anne

	* src/fdc.c:
	this test works better to filter hdc, sorry.

2003-04-03 22:06  Emmanuel Anne

	* src/fdc.c:
	make the hdc fix more specific (it helped the hdc images from
	working !)

2003-04-03 22:05  Emmanuel Anne

	* src/keymap.c:
	try a reasonable default offset instead of -1 when the offset is
	unknown. It helps a lot with my french keyboard when the 1st key I
	press is 1 or 2 (both unknown !).

2003-04-03 22:04  Emmanuel Anne

	* src/ikbd.c:
	fix bad passing of command keyboards. This fixes bad keys when
	sr=$600 in adebug, so it might fix a few other things too...

2003-04-03 19:10  Emmanuel Anne

	* src/fdc.c:
	fix the crash when booting with a floppy and a gemdos directory

2003-04-02 22:54  Emmanuel Anne

	* src/gemdos.c:
	fix the bus error problem in gfa : it was because of a forgoten ";"
	! Also change ifdefs to make debuging easier (FILE_DEBUG and
	GEMDOS_VERBOSE)

2003-04-02 22:53  Emmanuel Anne

	* src/: intercept.c, tos.c, uae-cpu/hatari-glue.c,
	uae-cpu/hatari-glue.h, uae-cpu/memory.c, uae-cpu/newcpu.c:
	timer d and connected drives patches are not applied anymore to the
	tos. Instead the relevant memory addresses are intercepted. It
	should be as fast as before and it allows to boot ram tos and to be
	able to mount hd directories on them. Also it fixes the timer d
	problem on foreign toses (swedish...)

2003-04-01 23:02  Thomas Huth

	* src/tos.c: Now RAM TOS 1.00 can be loaded, too

2003-04-01 22:59  Thomas Huth

	* src/uae-cpu/memory.c: ROMmem_start --> f_RomMemStart

2003-04-01 18:11  Thomas Huth

	* src/: intercept.c, m68000.c, main.c, tos.c, uae-cpu/memory.c,
	uae-cpu/memory.h, includes/decode.h, uae-cpu/hatari-glue.c,
	uae-cpu/hatari-glue.h, includes/intercept.h: Improved memory
	mapping - The memory regions should now behave much more like on a
	real ST

2003-04-01 13:18  Emmanuel Anne

	* src/tos.c:
	allow to load "ram tos", that is tos at address $ad00 (in ram !)
	That's because I never found any french tos 1.04. most of the
	patches fail, but it allows to boot a floppy image anyway...

2003-03-31 15:34  Thomas Huth

	* src/uae-cpu/hatari-glue.c: Added SPCFLAG_MODE_CHANGE when CPU
	settings are changed

2003-03-31 15:32  Thomas Huth

	* src/zip.c: Sven's patch to use ZIP files from the command line

2003-03-31 13:05  Emmanuel Anne

	* src/uae-cpu/memory.c:
	writing to rom trigers a bus error (exception 2).  Notice : it
	might not be the Right Way to do it... but at least it allows crazy
	boy cd 24 to boot !

2003-03-31 13:04  Emmanuel Anne

	* src/uae-cpu/newcpu.h:
	prefetch buffer is aligned on word boundaries, not long word
	boundaries

2003-03-30 15:35  Thomas Huth

	* src/: Makefile, dialog.c, file.c, floppy.c, sdlgui.c, ymFormat.c,
	unzip.c, zip.c, includes/unzip.h, includes/zip.h, includes/file.h,
	includes/floppy.h, includes/sdlgui.h: Added Sven's patch for ZIPped
	and GZIPped disk images

2003-03-30 13:32  Thomas Huth

	* src/: configuration.c, dialog.c, keymap.c, main.c, screen.c,
	includes/dialog.h, includes/keymap.h: Keyboard mapping is now
	possible via both, scancode and ascii mapping

2003-03-29 14:09  Thomas Huth

	* src/: gemdos.c, misc.c, includes/misc.h: Renamed strupr to
	Misc_strupr since the old name conflicted with a library function
	when compiling for MiNT

2003-03-29 14:06  Thomas Huth

	* src/uae-cpu/Makefile: Introduced HOSTCC variable to be able to
	cross compile Hatari

2003-03-28 17:20  Thomas Huth

	* src/uae-cpu/: compiler.c, Makefile, compiler.h, gencpu.c,
	hatari-glue.c, memory.h, newcpu.c, newcpu.h, sysdeps.h: Removed
	compiler.c and compiler.h. compiler.h genereted a conflict with the
	system header compiler.h on MiNT, the necessary functions are now
	in newcpu.h.

2003-03-28 17:10  Emmanuel Anne

	* src/gemdos.c:
	fix for GemDos_GetDir (so that adebug can find its files when
	launched from the hd), and use GEMDOS_VERBOSE for debuging

2003-03-28 08:14  Emmanuel Anne

	* src/main.c:
	revert to previous version : we don't need --fd since "hatari
	<imagename>" does the job ! Sorry !

2003-03-27 16:55  Emmanuel Anne

	* src/floppy.c:
	fix bad reading of little images (too paranoid - didn't trust
	enough the bootsector !).

2003-03-27 16:54  Emmanuel Anne

	* src/main.c:
	added --fd <imagename> comand line option to insert a floppy image
	in drive a

2003-03-27 12:24  Emmanuel Anne

	* src/: screen.c, dialog.c, includes/screen.h,
	includes/screenDraw.h, includes/syncTables.h:
	lots of video changes (borders, and same options for windowed and
	fullscreen modes)

2003-03-27 12:23  Emmanuel Anne

	* src/intercept.c:
	top and bottom borders handling is now here (and much simpler than
	before)

2003-03-27 12:21  Emmanuel Anne

	* src/video.c:
	disable synctables for top and bottom borders (handled in
	intercept.c now)

2003-03-27 12:15  Emmanuel Anne

	* src/dialog.c:
	800x600 mode disappears, fullscreen and windowed modes share the
	same options

2003-03-27 12:15  Emmanuel Anne

	* src/spec512.c:
	a screen must have at least 150 lines with more than 1 palette to
	be recognized as a spc512 screen. It's because this code does not
	know how to display 1 palette/line, very bad for some demos...

2003-03-27 11:55  Emmanuel Anne

	* src/gemdos.c:
	remove a debug message, add a fix for SFirst to avoid a malloc(0)
	when there is no match

2003-03-25 22:03  Emmanuel Anne

	* src/gemdos.c: Fix 2 bugs in GemDOS_CreateHardDriveFileName : the
	form "path\filename" was not recognised, and a filename < 8 chars
	like "abc" could be chosen while looking for "ab".  These fixes now
	allow to run the Maggie disk mags directly from the disk without
	creating disk images.

2003-03-25 08:53  Emmanuel Anne

	* src/: dialog.c, screen.c, includes/screenDraw.h:
	re-enables the "use borders" option in the configuration dialog,
	and allow borders in fullscreen. Also, resize window/screen when
	borders are enabled/disabled.

2003-03-24 18:24  Emmanuel Anne

	* src/: keymap.c, main.c, includes/keymap.h:
	keyboard now uses scancodes instead of ascii codes.

2003-03-24 18:24  Emmanuel Anne

	* src/gemdos.c:
	when you double click on a file in a mounted hd directory with tos
	1.0, you don't receive the path, and the file was not converted
	properly.  Also, fix chdir when the path does not exist (correctly
	returns error code)

2003-03-24 14:30  Thomas Huth

	* src/configuration.c: Commented out saving/loading of number of
	drives - ACSI HD emulation wasn't working when this was
	saved/loaded, too

2003-03-24 12:00  Emmanuel Anne

	* src/: intercept.c, includes/intercept.h, uae-cpu/memory.c,
	uae-cpu/memory.h:
	add a hack to trick the tos to believe an ide controller is really
	present.  It makes the boot with tos 2.06 and a mounted hd
	directory much faster.

2003-03-24 11:59  Emmanuel Anne

	* src/uae-cpu/hatari-glue.c:
	fix a possible crash if check_prefs_changed_cpu is called too early
	(to restore parameters for example)

2003-03-24 11:31  Emmanuel Anne

	* src/: misc.c, ikbd.c:
	fix year in rtc (see the comments in ikbd.c).

2003-03-24 00:11  Thomas Huth

	* ChangeLog: Patches for monochrome mode, RTC, GEMDOS HD emulation
	and configuration files

2003-03-24 00:08  Thomas Huth

	* src/gemdos.c: Improved GEMDOS HD emulation

2003-03-24 00:07  Thomas Huth

	* src/: configuration.c, main.c: Re-enabled configuration file
	saving/loading

2003-03-23 22:13  Thomas Huth

	* src/: Makefile, intercept.c, rtc.c, includes/intercept.h,
	  includes/rtc.h: Added real time clock

2003-03-23 20:22  Thomas Huth

	* src/: misc.c, includes/misc.h: Fixed buggy BCD convertion
	  function

2003-03-23 20:20  Thomas Huth

	* src/: screen.c, includes/screen.h: Fixed problems with monochrome
	  resolution

2003-03-17 14:19  Thomas Huth

	* ChangeLog, src/stMemory.c, src/includes/stMemory.h: Hatari now
	  works on Sparc machines

2003-03-12 : *** Version 0.30 ***

2003-03-12 18:25  Thomas Huth

	* ChangeLog, readme.txt, src/includes/main.h, src/includes/tos.h,
	  src/uae-cpu/memory.c: Version 0.30 changes

2003-03-12 15:15  Thomas Huth

	* src/sound.c: Added Audio_Lock around critical variables

2003-03-12 15:13  Thomas Huth

	* src/audio.c: Changed samples format to unsigned again

2003-03-10 19:46  Thomas Huth

	* ChangeLog, src/audio.c, src/sound.c, src/wavFormat.c,
	  src/includes/audio.h, src/includes/sound.h,
	  src/includes/wavFormat.h: Fixed ugly sound problem

2003-03-09 16:39  Thomas Huth

	* ChangeLog, src/ikbd.c: IKBD_Cmd_ReadClock now works

2003-03-09 16:37  Thomas Huth

	* src/tos.c: Fixed problem on little endian systems

2003-03-08 12:29  Thomas Huth

	* src/m68000.c, src/mfp.c, src/video.c, ChangeLog: Fixed problem
	  with SR (IPL)

2003-03-07 18:10  Thomas Huth

	* src/: m68000.c, uae-cpu/hatari-glue.c, uae-cpu/hatari-glue.h,
	  uae-cpu/newcpu.c: Interrupts are handled now in the UAE's way

2003-03-07 18:08  Thomas Huth

	* src/floppy.c: Added warning when inserting disk with Pacifist bug

2003-03-06 18:41  Thomas Huth

	* src/dialog.c: Added possibility to choose fullscreen resolution

2003-03-04 20:28  Thomas Huth

	* ChangeLog, src/ikbd.c: Fixed bug with duplicated firebutton

2003-03-04 20:27  Thomas Huth

	* src/: audio.c, main.c, sound.c, video.c, wavFormat.c,
	  includes/audio.h, includes/sound.h, includes/main.h: Improved
	  audio timer function

2003-03-03 19:40  Thomas Huth

	* src/uae-cpu/build68k.c, src/uae-cpu/fpp.c, src/uae-cpu/gencpu.c,
	  src/uae-cpu/newcpu.c, src/uae-cpu/newcpu.h,
	  src/uae-cpu/readcpu.c, src/uae-cpu/readcpu.h,
	  src/uae-cpu/sysdeps.h, src/uae-cpu/table68k, ChangeLog: Synced
	  CPU core with UAE 0.8.22

2003-03-03 15:23  Thomas Huth

	* src/tos.c: Patches for TOS 2.05

2003-03-02 16:14  Thomas Huth

	* src/audio.c: Now only resetting sound system when really needed

2003-02-28 16:34  Thomas Huth

	* ChangeLog: Improved TOS patching routine

2003-02-28 16:31  Thomas Huth

	* src/: gemdos.c, m68000.c, main.c, reset.c, tos.c,
	  includes/reset.h, includes/tos.h: Improved TOS patching routine

2003-02-27 11:47  Thomas Huth

	* src/: cartimg.c, uae-cpu/hatari-glue.c, uae-cpu/newcpu.c: Removed
	  0xa0ff opcode

2003-02-02 23:41  Thomas Huth

	* ChangeLog, src/screen.c, src/screenConvert.c,
	  src/convert/low320x8.c, src/convert/low640x8.c,
	  src/convert/med640x8.c, src/convert/spec640x16.c,
	  src/includes/screenConvert.h: Rewrote some screen convertion
	  functions in C

2003-02-02 14:01  Thomas Huth

	* authors.txt: Added author of blitter emulator

2003-02-02 14:00  Thomas Huth

	* ChangeLog, src/tos.c, src/includes/tos.h: Fixed MMU RAM size bug

2003-01-30 21:51  Thomas Huth

	* src/uae-cpu/newcpu.c: Enabled bus/address error PC hack for
	  m68k_run1, too

2003-01-29 00:49  Thomas Huth

	* ChangeLog, src/uae-cpu/newcpu.c: Fixed bus/address error PC bug:
	  When a bus or address error occurred, the PC was often not set to the
	  right exception handler routine. This has been fixed now - thanks to
	  Philippe Gerin for finding the bug and the patch for solving it!

2002-12-30 18:44  Thomas Huth

	* src/uae-cpu/gencpu.c: Fixed compiler warning (with GCC 3.1)

2002-12-30 : *** Version 0.25 ***

2002-12-30 01:54  Thomas Huth

	* ChangeLog, readme.txt: Changes for version 0.25

2002-12-25 22:15  Thomas Huth

	* src/intercept.c: Added some more bus error regions

2002-12-24 15:47  Thomas Huth

	* src/: Makefile, m68000.c, includes/decode.h, includes/main.h,
	  includes/vdi.h, uae-cpu/Makefile, uae-cpu/events.h,
	  uae-cpu/gencpu.c, uae-cpu/hatari-glue.c, uae-cpu/hatari-glue.h,
	  uae-cpu/maccess.h, uae-cpu/memory.c, uae-cpu/memory.h,
	  uae-cpu/newcpu.c, uae-cpu/newcpu.h, uae-cpu/readcpu.c,
	  uae-cpu/readcpu.h, uae-cpu/sysdeps.h: Cleaned up headers & fixed
	  compiler warnings with -Wall

2002-12-23 15:54  Thomas Huth

	* src/cartimg.c, src/m68000.c, src/screen.c, src/tos.c, src/vdi.c,
	  src/includes/vdi.h, ChangeLog: Improved VDI resolution modes

2002-12-22 17:09  Thomas Huth

	* src/dialog.c, src/screen.c, src/screenConvert.c, src/vdi.c,
	  src/video.c, src/convert/vdi4.c, src/includes/screen.h,
	  ChangeLog: Added 4 color VDI screen mode

2002-12-01 00:18  Thomas Huth

	* ChangeLog, src/dialog.c, src/screen.c, src/vdi.c,
	  src/convert/vdi2.c: Improved VDI resolution modes

2002-11-28 22:28  Thomas Huth

	* src/: screen.c, screenConvert.c: Some patches for big endian
	  systems

2002-11-28 22:26  Thomas Huth

	* src/: dialog.c, vdi.c: Added resolution choice to TOS/GEM dialog

2002-10-13 16:47  Thomas Huth

	* ChangeLog, src/m68000.c, src/main.c, src/screen.c,
	  src/screenConvert.c, src/vdi.c, src/convert/vdi16.c,
	  src/includes/dialog.h, src/includes/m68000.h,
	  src/includes/screen.h, src/includes/vdi.h,
	  src/uae-cpu/hatari-glue.c, src/uae-cpu/hatari-glue.h,
	  src/uae-cpu/newcpu.c: Enabled big VDI screen resolutions in
	  Hatari

2002-10-01 23:48  Thomas Huth

	* src/: floppy.c, keymap.c: Some small bugs fixed

2002-10-01 23:47  Thomas Huth

	* src/: timer.c, includes/timer.h: Deleted unused files

2002-10-01 23:44  Thomas Huth

	* src/: Makefile, debugui.c, main.c: Removed timer.c

2002-09-28 16:32  Thomas Huth

	* src/wavFormat.c: Patches for big endian systems

2002-09-21 01:14  Thomas Huth

	* src/: configuration.c, main.c, includes/dialog.h: Introduced
	  System dialog

2002-09-21 01:13  Thomas Huth

	* ChangeLog, src/dialog.c, src/sound.c, src/wavFormat.c: Added
	  YM/WAV sound recording

2002-09-01 20:51  Thomas Huth

	* src/: configuration.c, dialog.c, intercept.c, main.c,
	  includes/dialog.h, includes/intercept.h: Blitter now configurable
	  via GUI

2002-08-11 23:04  Thomas Huth

	* ChangeLog, src/blitter.c, src/includes/blitter.h: Fixed blitter
	  bug

2002-07-08 23:11  Thomas Huth

	* ChangeLog, src/convert/spec320x16.c: Endianess patches

2002-07-08 23:08  Thomas Huth

	* src/: dialog.c, sdlgui.c: Check if font has been loaded

2002-07-05 00:03  Thomas Huth

	* ChangeLog, authors.txt, src/Makefile, src/blitter.c,
	  src/intercept.c, src/main.c, src/includes/blitter.h,
	  src/includes/intercept.h: Added blitter emulation

2002-07-03 18:51  Thomas Huth

	* ChangeLog, src/keymap.c: Patches for Macs

2002-07-03 18:50  Thomas Huth

	* src/: spec512.c, convert/spec320x16.c: Patch for spec512 on big
	  endian machines

2002-07-03 18:48  Thomas Huth

	* src/: audio.c, joy.c, main.c: Changed init of joystick and audio

2002-06-23 22:03  Thomas Huth

	* src/tos.c: Added extra-check if able to patch TOS 2.06

2002-04-27 16:59  Thomas Huth

	* src/includes/syncTables.h: Fixed GCC warnings

2002-03-21 18:28  Thomas Huth

	* src/: Makefile, audio.c, configuration.c, createBlankImage.c,
	  createDiscImage.c, debugui.c, dialog.c, errlog.c, file.c,
	  gemdos.c, hdc.c, ikbd.c, intercept.c, keymap.c, m68000.c, main.c,
	  memorySnapShot.c, mfp.c, printer.c, rs232.c, screen.c,
	  screenConvert.c, shortcut.c, sound.c, tos.c, video.c,
	  wavFormat.c, ymFormat.c, convert/low640x16.c,
	  convert/med640x16.c, includes/decode.h, includes/fdc.h,
	  includes/hdc.h, includes/intercept.h, includes/screenConvert.h,
	  includes/syncTables.h, uae-cpu/hatari-glue.h: Fixed compiler
	  warnings with -Wall

2002-02-25 18:19  Thomas Huth

	* readme.txt, src/screen.c, src/shortcut.c, src/includes/screen.h:
	  Added mouse grabbing

2002-02-22 16:50  Stefan Berndtsson

	* src/screenConvert.c: Using the SDL endian routines instead.

2002-02-21 16:04  Thomas Huth

	* ChangeLog, src/m68000.c, src/sound.c, src/includes/decode.h,
	  src/includes/m68000.h, src/includes/sound.h,
	  src/uae-cpu/events.h: Cleaned up

2002-02-21 16:03  Thomas Huth

	* src/tos.c: TOS 1.00 has been wrongly patched - fixed now

2002-02-21 15:06  Stefan Berndtsson

	* src/screenConvert.c: Big endian fix for monochrome display. I
	  hope it still works on little endian.

2002-02-18 : *** Version 0.20 ***

2002-02-18 18:07  Thomas Huth

	* ChangeLog, readme.txt, src/audio.c, src/dialog.c, src/file.c,
	  src/gemdos.c, src/main.c, src/sdlgui.c, src/includes/gemdos.h,
	  src/includes/main.h: Version 0.20 changes

2002-02-16 18:28  Thomas Huth

	* gpl.txt: Fixed Y2K bug

2002-02-11 18:38  Thomas Huth

	* src/: configuration.c, dialog.c, main.c, includes/dialog.h: HD
	  image now selectable in the GUI

2002-02-05 20:49  Thomas Huth

	* ChangeLog, src/file.c: Small bugfix for BeOS

2002-02-04 22:24  Thomas Huth

	* src/: Makefile, debugui.c, fdc.c, gemdos.c, hdc.c, main.c,
	  reset.c, tos.c, includes/gemdos.h, includes/hdc.h,
	  uae-cpu/hatari-glue.c: Added Svens HD-image patch

2002-02-02 15:57  Thomas Huth

	* src/: configuration.c, dialog.c, intercept.c, main.c, sdlgui.c,
	  includes/dialog.h, uae-cpu/hatari-glue.c, uae-cpu/hatari-glue.h,
	  uae-cpu/newcpu.c: Added CPU dialog

2002-02-02 15:53  Thomas Huth

	* authors.txt, readme.txt: Some minor changes

2002-01-14 19:40  Thomas Huth

	* ChangeLog, src/joy.c, src/main.c, src/includes/joy.h: Added real
	  joystick support

2002-01-10 09:01  Thomas Huth

	* src/: Makefile, gemdos.c, includes/file.h, uae-cpu/sysdeps.h:
	  Cleaned up/Patch for BeOS

2002-01-02 18:08  Thomas Huth

	* ChangeLog, src/dialog.c, src/m68000.c, src/main.c,
	  src/shortcut.c, src/includes/m68000.h, src/includes/main.h,
	  src/uae-cpu/events.h, src/uae-cpu/hatari-glue.c,
	  src/uae-cpu/memory.c, src/uae-cpu/memory.h, src/uae-cpu/newcpu.c:
	  Fixed some ST reset problems

2002-01-01 18:44  Thomas Huth

	* src/: audio.c, dialog.c, main.c, sdlgui.c, shortcut.c, sound.c,
	  includes/audio.h, includes/dialog.h, includes/main.h: Updated the
	  dialogs

2001-12-27 14:13  Thomas Huth

	* ChangeLog, src/dialog.c, src/main.c, src/sdlgui.c,
	  src/shortcut.c, src/uae-cpu/newcpu.c, src/uae-cpu/newcpu.h: First
	  working version of the GUI.

2001-12-26 19:24  Thomas Huth

	* src/: configuration.c, dialog.c, file.c, sdlgui.c,
	  includes/file.h, includes/sdlgui.h: Better gui, selecting discs
	  now works.

2001-12-25 17:24  Thomas Huth

	* src/file.c: Splitpath, makepath, scandir and alphasort added
	  here.

2001-12-25 17:21  Thomas Huth

	* src/: dialog.c, sdlgui.c, includes/sdlgui.h: Added some more
	  dialogs.

2001-12-25 17:19  Thomas Huth

	* ChangeLog, src/floppy.c, src/gemdos.c, src/main.c, src/misc.c,
	  src/ymFormat.c, src/includes/file.h, src/includes/main.h,
	  src/includes/misc.h: Cleaned up some files

2001-12-23 14:29  Thomas Huth

	* src/: ikbd.c, main.c, includes/ikbd.h: Better relative mouse
	  support.

2001-12-21 19:27  Thomas Huth

	* src/: statusBar.c, view.c, includes/statusBar.h, includes/view.h:
	  Cleaned up and removed view.c and statusbar.c

2001-12-21 19:25  Thomas Huth

	* ChangeLog, src/Makefile, src/audio.c, src/configuration.c,
	  src/dialog.c, src/floppy.c, src/gemdos.c, src/ikbd.c,
	  src/keymap.c, src/m68000.c, src/main.c, src/memorySnapShot.c,
	  src/mfp.c, src/printer.c, src/rs232.c, src/screen.c,
	  src/screenSnapShot.c, src/shortcut.c, src/video.c,
	  src/wavFormat.c, src/ymFormat.c, src/convert/high640x8.c,
	  src/includes/ikbd.h, src/includes/keymap.h: Relative SDL mouse
	  mode added, view.c and statusbar.c removed.

2001-12-16 21:27  Thomas Huth

	* src/: dialog.c, sdlgui.c: Designed some dialogs.

2001-12-10 22:43  Thomas Huth

	* src/includes/dialog.h: Cleaned up file.

2001-12-10 22:41  Thomas Huth

	* src/: .cvsignore, errlog.txt: errlog.txt removed.

2001-12-10 22:40  Thomas Huth

	* src/audio.c: Check for right sound init.

2001-12-10 22:38  Thomas Huth

	* src/font8.bmp, ChangeLog, src/.cvsignore, src/Makefile,
	  src/configuration.c, src/dialog.c, src/main.c, src/sdlgui.c,
	  src/shortcut.c, src/includes/sdlgui.h: First version of the GUI.

2001-12-09 13:16  Thomas Huth

	* src/: Makefile, audio.c, configuration.c, dialog.c, floppy.c,
	  main.c, includes/dialog.h: Cleaned up some files.

2001-11-02 22:45  Thomas Huth

	* src/tos.c: Made TOS loading more flexible.

2001-10-24 21:27  Thomas Huth

	* src/gemdos.c: scandir and alphasort for BeOS.

2001-10-12 19:23  Thomas Huth

	* src/debugui.c: Update to newest version of the debugger.

2001-10-11 18:29  Thomas Huth

	* src/screenSnapShot.c: Fixed bug that only allowed 8 snapshots.

2001-10-10 : *** Version 0.11 ***

2001-10-10 20:43  Thomas Huth

	* src/uae-cpu/.cvsignore: cvsignore for generated files.

2001-10-10 20:41  Thomas Huth

	* ChangeLog, readme.txt, src/gemdos.c, src/includes/main.h: Version
	  0.11 changes

2001-10-09 19:32  Thomas Huth

	* src/: Makefile, createBlankImage.c, debug.c, errlog.c, fdc.c,
	  floppy.c, ikbd.c, int.c, keymap.c, m68000.c, memAlloc.c, mfp.c,
	  misc.c, msa.c, printer.c, psg.c, reset.c, spec512.c, st.c,
	  timer.c, vdi.c, xbios.c, ymFormat.c, convert/high640x8.c,
	  includes/m68000.h: Changed a lot of C++ comments into C comments
	  (for plain ANSI-C compilers).

2001-10-09 19:29  Thomas Huth

	* src/: disass.c, includes/disass.h: no longer needed.

2001-09-28 20:30  Thomas Huth

	* src/: screen.c, screenConvert.c, convert/high640x8.c: Enhanced
	  the monochrome mode.

2001-09-24 19:32  Thomas Huth

	* src/: main.c, uae-cpu/hatari-glue.c, uae-cpu/newcpu.c: Added
	  compatible 68000 CPU mode.

2001-09-24 14:21  Thomas Huth

	* src/: screen.c, uae-cpu/hatari-glue.c: Some code cleaned up.

2001-09-20 18:54  Thomas Huth

	* ChangeLog, src/intercept.c, src/main.c, src/screen.c,
	  src/screenConvert.c, src/convert/low320x16.c,
	  src/convert/low640x16.c, src/convert/med640x16.c,
	  src/convert/spec320x16.c, src/includes/screenConvert.h: Added
	  screen flipping and mixed mode resolution.

2001-09-18 19:18  Thomas Huth

	* authors.txt, src/configuration.c, src/file.c, src/main.c,
	  src/screenConvert.c, src/stMemory.c, src/tos.c, src/view.c,
	  src/includes/file.h, src/uae-cpu/m68k.h_i86,
	  src/uae-cpu/maccess-i86.h: Added BeOS patches, new options and
	  cleaned up some files.

2001-09-16 17:05  Thomas Huth

	* src/ikbd.c: Enabled second test for bInitGemDOS, too.

2001-09-09 16:03  Sven de Marothy

	* src/main.c: Added HD emulation options

2001-09-09 16:02  Sven de Marothy

	* ChangeLog: Add HD emulation changes

2001-09-09 16:01  Sven de Marothy

	* src/uae-cpu/newcpu.c: Fixd gemdos_opcode & runoldgemdos_opcode
	  for HD emulation

2001-09-09 16:00  Sven de Marothy

	* src/uae-cpu/hatari-glue.h: Fixed HD emulation

2001-09-09 16:00  Sven de Marothy

	* src/uae-cpu/hatari-glue.c: Gemdos_opcode & oldgemdos_opcode
	  implemented for HD emulation

2001-09-09 15:58  Sven de Marothy

	* src/ikbd.c: Fixed annoying key clicks - bInitGemDos is now set

2001-09-09 15:57  Sven de Marothy

	* src/: cart.c, cartimg.c, gemdos.c, includes/cart.h,
	  includes/gemdos.h: Fixed HD emulation

2001-09-09 14:03  Thomas Huth

	* src/: screen.c, screenSnapShot.c, includes/screen.h,
	  includes/screenSnapShot.h: Enabled screen snapshots in
	  fullscreen, too.

2001-09-07 21:32  Thomas Huth

	* src/includes/m68000.h: Removed M68000_FindLastInstructionCycles.

2001-09-07 21:29  Thomas Huth

	* src/includes/ikbd.h: Increased KeyStates array.

2001-08-16 : *** Version 0.10a ***

2001-08-16 19:19  Thomas Huth

	* ChangeLog, readme.txt, src/Makefile, src/ikbd.c, src/shortcut.c,
	  src/view.c, src/includes/main.h: Version 0.10 changes.

2001-08-16 19:16  Thomas Huth

	* src/: m68000.c, video.c, uae-cpu/events.h, uae-cpu/gencpu.c,
	  uae-cpu/newcpu.c, uae-cpu/newcpu.h: Improved CPU cycles
	  emulation.

2001-08-15 21:25  Thomas Huth

	* src/: screenConvert.c, spec512.c, convert/high640x1.c,
	  convert/spec320x16.c, includes/spec512.h: Added Spec512 support.

2001-08-06 20:10  Thomas Huth

	* src/: debugui.c, shortcut.c: Added Svens debugger update.

2001-08-06 18:05  Thomas Huth

	* src/ikbd.c: Set IKBD_RESET_CYCLES back to 400000

2001-07-22 13:35  Thomas Huth

	* src/: ikbd.c, intercept.c, m68000.c, tos.c: Fixed some bugs.

2001-07-21 19:47  Thomas Huth

	* src/uae-cpu/: events.h, gencpu.c, hatari-glue.c, hatari-glue.h,
	  newcpu.c, newcpu.h, sysdeps.h: Improved cpu cycles a little bit.

2001-07-21 19:40  Thomas Huth

	* ChangeLog, readme.txt, src/configuration.c, src/m68000.c,
	  src/main.c, src/screen.c, src/shortcut.c, src/view.c,
	  src/includes/decode.h, src/includes/screen.h: Added shortcuts and
	  better fullscreen.

2001-07-11 22:54  Thomas Huth

	* authors.txt: Added Sven.

2001-07-11 22:51  Thomas Huth

	* ChangeLog, src/screen.c, src/screenConvert.c,
	  src/convert/low320x16.c, src/convert/med640x16.c: Added ST medium
	  resolution emulation.

2001-07-10 22:56  Thomas Huth

	* ChangeLog, src/Makefile, src/debugui.c, src/ikbd.c, src/main.c,
	  src/screen.c, src/screenConvert.c, src/shortcut.c, src/video.c,
	  src/view.c, src/convert/low320x16.c, src/convert/med640x16.c,
	  src/includes/debugui.h, src/includes/main.h: Cleaned up some
	  files and added Svens debugger patch.

2001-06-26 21:07  Thomas Huth

	* src/: Makefile, main.c, pcx.c, screen.c, screenSnapShot.c,
	  shortcut.c, view.c, includes/pcx.h, includes/shortcut.h: Added
	  Svens screenshot patch.

2001-06-12 21:22  Thomas Huth

	* src/: audio.c, screen.c, video.c, includes/screen.h,
	  includes/video.h: Fixed sound sync problems.

2001-06-10 16:15  Thomas Huth

	* ChangeLog, readme.txt, src/audio.c, src/configuration.c,
	  src/main.c, src/screen.c, src/shortcut.c, src/sound.c,
	  src/video.c, src/includes/audio.h, src/includes/configuration.h,
	  src/includes/main.h, src/includes/sound.h: Added sound support.


2001-06-01 : *** Version 0.05a ***
	* Created CVS Repository at SourceForge.net
	* Added joystick emulation.
	* Added Stefan's patch for ST-LOW res on big-endian machines,
	  his patch for also leaving Hatari by pressing F12, and
	  his fullscreen patch.
	* Changed all tabulator characters in the source to spaces.

2001-05-27 : *** Version 0.04a ***
	* Added Stefan Berndtsson's patch for big-endian machines.
	  Hatari now runs also with non-x86 Linux machines! Thanks Stefan!
	* Rewrote the ST-LOW resolution conversion routines in C
	  => ST-LOW now works!
	* Added some of the WinSTon patches Paul Bates recently published
	  at the WinSTon BBS (Thanks to Ladislav Adamec for the hint).
	* Cleaned up the source tree a little bit.

2001-04-03 : *** Version 0.03a ***
	* Rewrote some more assembler functions. FDC emulation now works!

2001-04-02  T. Huth
	* SDL Keyboard code finished and included a SDL-Key -> ST-Scancode table.

2001-03-29  T. Huth
	* Added mouse support.

2001-03-28 : *** Version 0.02a ***
	* Added very simple SDL support.
	* Rewrote a lot of assembler functions in C (e.g. intercept.c).
	* Adapted the UAE CPU. Now Hatari is able to boot a TOS 1.0x ROM, the
	  Desktop shows up, but no mouse and keyboard interaction yet.

2001-03-21 : *** Version 0.01a ***
	* Made the WinSTon source code compilable.
	* Added the UAE CPU sources.
